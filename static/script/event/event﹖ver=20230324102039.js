var eventInfo;var entryEvent;var collectItems;var goodsSerialInfos;var plcyContentCollect;var plcyContentPrcs;var eventPrivacyPolicys;var addFields;var eventGbFields;var plazas;var siDoList;var siGunGuList;var questionInfos;var voteQuestionInfos;var bespokePanelEvent;var bespokeModel;var bespokeModelValidation=true;var bespokeSerialNumber;var bespokeSerialValidation=true;var sessionMbr;var membershipNo;var stPath;var returnUrl;var pblcEvtNo;var eventGbCd;var kakaoAppKeyEvent;var eventAddType;var entryCnt;
var eventAddYn;var fanclassFlag;var joinNo;var getScriptFlag=false;var siDo10;var siGunGu123;var isPreView=false;var oneTimeChk=false;var certificationKcbFlag=false;var plazaNm;var phoneTpCd;var ciToken;var birth;var unpackGoodsId;var $popDiv;var $popDivRenewal;var $tooltipDiv;var $unpackAuthDiv;var $eventKcbAuthDiv;var $popDivStamp;var $popImeiDiv;stPath=$("#openPop").data("st-path");
var eventGoodsMain={vMainWrapId:"#pd-inner-cont",vGoodsWrapId:"#goods_detail_wrap",fnGetHtml:function(target,url,data,callback){var options={url:eventGoodsMain.fnAjaxUrl(url),dataType:"html",data:data,done:function(html){$(target).html(html);if(callback)callback()}};ajax.call(options)},fnAjaxUrl:function(vUrl,vAjaxUrl){var ajaxUrl="xhr/goods/";if(vAjaxUrl!==undefined)ajaxUrl=vAjaxUrl;return stPath+ajaxUrl+vUrl},fnLoginCheck:function(callback){var options={url:eventGoodsMain.fnAjaxUrl("loginCheck"),
type:"POST",done:function(data){if(callback)callback(data.isLogin)}};ajax.call(options)}};
var eventGoodsDetail={fnReqData:function(){var reqData=$("#eventGoodsCartForm").serializeJson();return reqData},fnCartNowBuy:function(reqData){if(($("input[name=stGbCd]").val()=="10"||$("input[name=stGbCd]").val()=="80")&&$("#shop-storeYN").val()=="Y"&&$("#dlvrPckYn").val()=="Y"&&$("#dlvrGenYn").val()!="Y"){var alertMsg="매장픽업 상품은 매장을 선택 후 바로구매가 가능합니다.";if($("input[name=stGbCd]").val()=="10")alertMsg="매장픽업/빠른배송 상품은 매장을 선택 후 바로구매가 가능합니다.";if($("#omsSendYn").val()!="N")alertMsg+="<br/>상품을 준비중입니다.";if(reqData.pckStrNo===
null||reqData.pckStrNo===undefined||$.trim(reqData.pckStrNo).length==0){var alertData={title:"",content:alertMsg,callback:openPopDlvrPck,btnText:"확인"};commonAlert(alertData);openLayer("commonAlert");return false}}var nowBuyOptions={url:eventGoodsMain.fnAjaxUrl("insertCart","xhr/order/"),data:reqData,done:function(data){if(reqData.pckStrNo!==null&&reqData.pckStrNo!==undefined&&$.trim(reqData.pckStrNo).length>0||reqData.rglrDlvrYn!=null||data.isHomefitnessPrivateGoodsYn=="Y"){var options2={url:eventGoodsMain.fnAjaxUrl("loginCheck"),
type:"POST",done:function(data){if(!data.isLogin)location.href=stPath+"member/indexLogin/?returnUrl="+stPath+"order/";else location.href=stPath+"order/"}};ajax.call(options2)}else location.href=stPath+"order/";_satellite.track("buy now")}};var checkGoodsLimitOptions={url:eventGoodsMain.fnAjaxUrl("limit","xhr/order/check/goods/"),data:reqData,done:function(data){ajax.call(nowBuyOptions)}};ajax.call(checkGoodsLimitOptions)}};
$(function(){$popDiv=$(drawPopHtmlCode());$popDivRenewal=$(drawPopHtmlCodeRenewal());$tooltipDiv=$(drawTooltipHtmlCode());$popDiv2=$(drawPopHtmlCode2());$popDiv4=$(drawPopHtmlCode4());$popDiv5=$(drawPopHtmlCode5());$dcntPop1=$(drawDcntPopHtmlCode1());$dcntPop2=$(drawDcntPopHtmlCode2());$dcntPop3=$(drawDcntPopHtmlCode3());$popImeiDiv=$(drawImeiPopHtmlCode())});
function fnDrawPop(){if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").append($popDiv);else $("#popupArea").append($popDiv);if($("#tooltipArea_Event3791").length>0)$("#tooltipArea_Event3791").append($tooltipDiv);else $("#tooltipArea").append($tooltipDiv);$(".titleNo").show()}
function fnDrawPopRenewal(){if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").append($popDivRenewal);else $("#popupArea").append($popDivRenewal);if($("#tooltipArea_Event3791").length>0)$("#tooltipArea_Event3791").append($tooltipDiv);else $("#tooltipArea").append($tooltipDiv);$(".titleNo").show()}
function fnScriptLoad(){var docentFlag=false;for(var i=0;i<eventGbFields.length;i++)if(eventGbFields[i].eventFldTpCd=="07"){docentFlag=true;break}$.getScript("//developers.kakao.com/sdk/js/kakao.min.js").done(function(script,textStatus){}).fail(function(jqxhr,settings,exception){});$.getScript("//dapi.kakao.com/v2/maps/sdk.js?appkey="+kakaoAppKeyEvent+"&autoload=false",function(){daum.maps.load(function(){if(docentFlag){console.log("[ success campus-docent.js] dapi.kakao.com sdk.js load success");
fnEventDocentCampusReservationJsLoad()}else{console.log("[ success reservation.js] dapi.kakao.com sdk.js load success");fnEventReservationJsLoad()}})})}function fnEventReservationJsLoad(){var def=$.Deferred();var script=document.createElement("script");script.src="/sec/static/_script/event/event-reservation.js?ver=1.5";script.onload=function(){def.resolve()};script.onerror=function(){def.reject()};document.body.appendChild(script)}
function fnEventDocentReservationJsLoad(){var def=$.Deferred();var script=document.createElement("script");script.src="/sec/static/_script/event/event-docent-reservation.js?ver=1.1";script.onload=function(){def.resolve()};script.onerror=function(){def.reject()};document.body.appendChild(script)}
function fnEventDocentCampusReservationJsLoad(){var def=$.Deferred();var script=document.createElement("script");script.src="/sec/static/_script/event/event-docent-campus-reservation.js?ver=1.1";script.onload=function(){def.resolve()};script.onerror=function(){def.reject()};document.body.appendChild(script)}
function fnCallPop2(evtNo){oneTimeChk=false;pblcEvtNo=evtNo;returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else returnUrl+="?eventNo="+pblcEvtNo;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options={url:stPath+
"xhr/event/getEventBaseInfo",data:param,done:function(data){$("#mask").remove();var eventInfo=data.eventInfo;kakaoAppKeyEvent=data.kakaoAppKey;siDo10=data.siDo10;siGunGu123=data.siGunGu123;if(eventInfo.errMsg==""||eventInfo.errMsg==null){var evtGbCd=data.eventInfo.entryEvent.eventGbCd;if(evtGbCd!=undefined&&evtGbCd!="")setEventPop(data);else setEventPopRenewal(data)}else if(eventInfo.errCd=="LGN0005")makeAlert(eventInfo.errMsg,fnGoLoginPage);else{$("#commonAlert p").replaceWith("<pre style='word-break:keep-all;'></pre>");
makeAlert3(eventInfo.errMsg,eventPopClose3)}if(eventGbCd)if(eventInfo.plazas)$("#eventBtn_Area_div").css("display","none");else $("#eventBtn_Area_div").css("display","")}};ajax.call(options);multiFileCnt=0}
function fnCallPop5(evtNo){oneTimeChk=false;pblcEvtNo=evtNo;returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else returnUrl+="?eventNo="+pblcEvtNo;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options={url:stPath+
"xhr/event/getEventBaseInfo",data:param,done:function(data){$("#mask").remove();var eventInfo=data.eventInfo;kakaoAppKeyEvent=data.kakaoAppKey;siDo10=data.siDo10;siGunGu123=data.siGunGu123;if(eventInfo.errMsg==""||eventInfo.errMsg==null){data.eventInfo.plcyContentCollect.plcyNm="[삼성전자 멤버십] 개인정보 수집 및 이용 동의";if(data.eventInfo.plcyContentPrcs!=null)data.eventInfo.plcyContentPrcs.plcyNm="[이벤트 응모] 재화 또는 서비스 홍보, 판매 권유 업무 위탁에 대한 개별 고지";setEventPop(data)}else if(eventInfo.errCd=="LGN0005"){var loginConfirm=
{content:"로그인 이후 자랑하기 이벤트에 응모가 가능합니다.<br>로그인 화면으로 이동하시겠습니까?",okBtnText:"확인",cancelBtnText:"취소",callback:fnGoLoginPage};commonConfirm(loginConfirm);openLayer("commonConfirm")}else if(eventInfo.errCd=="EVTPOP0017"){var confirmData={content:eventInfo.errMsg,okBtnText:"확인",cancelBtnText:"취소",callback:fnGoMembershipPage};commonConfirm(confirmData);openLayer("commonConfirm")}else if(eventInfo.errMsg=="이미 응모하였습니다."){var alertData={content:"이미 BESPOKE 클럽 가입하기 이벤트에 참여하셨습니다.<BR>감사합니다.",btnText:"닫기",callback:eventPopClose};
commonAlert(alertData);openLayer("commonAlert")}else makeAlert(eventInfo.errMsg,eventPopClose);if(eventInfo.plazas)$("#eventBtn_Area_div").css("display","none");else $("#eventBtn_Area_div").css("display","")}};ajax.call(options);multiFileCnt=0}
function setEventPop(data){fnDrawPop();$("#exhibition").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;collectItems=eventInfo.eventCollectItems;goodsSerialInfos=eventInfo.goodsSerialInfos;plcyContentCollect=eventInfo.plcyContentCollect;plcyContentPrcs=eventInfo.plcyContentPrcs;eventPrivacyPolicys=eventInfo.eventPrivacyPolicys;addFields=eventInfo.addFields;questionInfos=eventInfo.questionInfos;plazas=eventInfo.plazas;siDoList=eventInfo.siDoList;siGunGuList=eventInfo.siGunGuList;eventAddYn=
entryEvent.eventAddYn;eventAddType=entryEvent.eventAddYn;fanclassFlag=eventAddYn=="B2C_PLAZA_FOLD3"||eventAddYn=="B2C_PLAZA_FLIP3";$("#entryEventNo").val(entryEvent.eventNo);$("#evtGbCd").val(entryEvent.eventGbCd);$("#prtcpPsbGbCd").val(entryEvent.prtcpPsbGbCd);$("#prtcpPsbCnt").val(entryEvent.prtcpPsbCnt);$("#evtNm").text(entryEvent.ttl);$("#cpNo").val(entryEvent.cpNo);$("#ftEvtNm").text(entryEvent.ttl);$("#eventAddYn").val(entryEvent.eventAddYn);$("#popEntrySuccMsg").val(entryEvent.popEntrySuccMsg);
sessionMbr=eventInfo.loginUserMbrNo;membershipNo=eventInfo.loginUserMembership;eventGbCd=entryEvent.eventGbCd;setLayoutShowHide(eventGbCd);setCommLayout(entryEvent,collectItems,addFields);if(eventGbCd=="40"){$(".goodsSelect").hide();$("#goodsUl").empty();$("#biztalkUseYn").val(entryEvent.biztalkUseYn);$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}if(eventGbCd=="50"){$(".goodsSelect").hide();$("#goodsUl").empty();var html="";$.each(goodsSerialInfos,
function(idx,val){var index=idx+1;html+='<li class="item">';html+='\t<input id="chk-goods-'+index+'" type="radio" name="chk-goods" value="'+val.goodsId+"\" onchange='goodsCheck(this)' data-mdlcode='"+val.mdlCode+"' data-goods-nm='"+val.goodsNm+"'>";html+='\t<label for="chk-goods-'+index+'">'+val.mdlCode+"</label>";html+="</li>"});$("#goodsUl").append(html);$(".goodsSelect").show();$("#inpEnterSerialNum").attr("readonly",true)}if(eventGbCd=="60"){$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);createQuestionHtml(questionInfos)}if(eventGbCd==
"80"){fnScriptLoad();$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}var policyHtml="";$("#privacyPolicy").empty();policyHtml+=createPrivacyPolicyHtml(plcyContentCollect,1);if(plcyContentPrcs!=null)policyHtml+=createPrivacyPolicyHtml(plcyContentPrcs,2);$.each(eventPrivacyPolicys,function(idx,val){var index=idx+3;policyHtml+=createPrivacyPolicyHtml(val,index)});$("#privacyPolicy").append(policyHtml);$(".error-msg").hide();if(eventAddYn=="N")$("#inpCounselMembershipErr").html("<p>나의 정보에서 멤버십 회원 추가정보 입력 후</p><p>알림신청하면 멤버십 번호가 보여집니다.</p>");
else if(eventAddYn=="Y")$("#inpCounselMembershipErr").html("<p>※멤버십번호가 보이지 않으시나요?</p><p>화면 우측 상단 > 나의정보 메뉴에서</p><p>멤버십 가입여부 확인 후 다시 시도해 보세요.</p><p>(미가입 시 가입 후 재시도 필요)</p>");if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}
function setEventPopRenewal(data){fnDrawPopRenewal();$("#ciToken").val(ciToken);$("#birth").val(birth);$("#exhibition").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;collectItems=eventInfo.eventCollectItems;goodsSerialInfos=eventInfo.goodsSerialInfos;plcyContentCollect=eventInfo.plcyContentCollect;plcyContentPrcs=eventInfo.plcyContentPrcs;eventPrivacyPolicys=eventInfo.eventPrivacyPolicys;addFields=eventInfo.addFields;eventGbFields=eventInfo.eventGbFields;questionInfos=eventInfo.questionInfos;
voteQuestionInfos=eventInfo.voteQuestionInfos;bespokePanelEvent=eventInfo.bespokePanelEvent;plazas=eventInfo.plazas;siDoList=eventInfo.siDoList;siGunGuList=eventInfo.siGunGuList;eventAddYn=entryEvent.eventAddYn;eventAddType=entryEvent.eventAddYn;fanclassFlag=eventAddYn=="B2C_PLAZA_FOLD3"||eventAddYn=="B2C_PLAZA_FLIP3";docentFlag=eventAddYn=="B2C_PLAZA_DOCENT"||eventAddYn=="B2C_PLAZA_DOCENT_CAMPUS";$("#entryEventNo").val(entryEvent.eventNo);$("#evtGbCd").val(entryEvent.eventGbCd);$("#isEvtGbFld").val("Y");
$("#prtcpPsbGbCd").val(entryEvent.prtcpPsbGbCd);$("#prtcpPsbCnt").val(entryEvent.prtcpPsbCnt);$("#evtNm").text(entryEvent.ttl);$("#cpNo").val(entryEvent.cpNo);$("#ftEvtNm").text(entryEvent.ttl);$("#eventAddYn").val(entryEvent.eventAddYn);$("#popTitle").text(entryEvent.popEntryTtl);$("#eventSaveBtn").text(entryEvent.popEntryCtaText);$("#popEntrySuccMsg").val(entryEvent.popEntrySuccMsg);$(".hTxt1").text(entryEvent.ttl);$(".hTxt2").text(eventInfo.eventBnfts);$(".hTxt3").text(eventInfo.aplPeriod);sessionMbr=
eventInfo.loginUserMbrNo;membershipNo=eventInfo.loginUserMembership;var evtGbFlds=[];for(var idx=0;idx<eventGbFields.length;idx++)evtGbFlds.push(eventGbFields[idx].eventFldTpCd);setLayoutShowHideRenewal(evtGbFlds);setCommLayout(entryEvent,collectItems,addFields);$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);if(evtGbFlds.indexOf("01")>-1||evtGbFlds.indexOf("06")>-1){$(".goodsSelect").hide();$("#goodsUl").empty();$("#biztalkUseYn").val(entryEvent.biztalkUseYn);$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}if(eventAddYn==
"B2B2C_SALE_FESTA"){var html="";html+="<p class='help-box'>";html+="삼성전자 주식회사(이하 ‘회사’라 합니다)는 최초 회원 가입 또는 서비스 이용시 이용자로부터 아래와 같은 개인정보를 수집하고 있습니다.<br><br>";html+="이용자는 본 개인정보 수집·이용 동의서에 따른 동의 시, '필요한 최소한의 정보 외의 개인정보' 수집·이용에 동의하지 아니할 권리가 있습니다.<br><br>";html+='개인정보 처리에 대한 상세한 사항은 고객사 임직원 세일 페스타 E카탈로그 홈페이지 (<a href="https://www.samsungebiz.com/ecatalog/with-samsung/" class="link" target="_blank">https://www.samsungebiz.com/ecatalog/with-samsung/</a>)에 공개한 \'개인정보처리방침\'을 참조하십시오. 다만, 본 동의서 내용과 상충되는 부분은 본 동의서의 내용이 우선합니다.';
html+="</p>";html+="<div id='privacyPolicy'></div>";html+="<div class='chk-form allChk-box'>";html+="\t<input id='chk-enter-all' data-allchk-name='allCheck' data-children-name='checkEventEnter' type='checkbox' required='' title='' class='checkBoxTerms'>";html+="\t<label for='chk-enter-all' class='chk-all'>모든 약관을 확인하고 전체 동의합니다.</label>";html+="</div>";$(".txt-chg1").empty().append(html);$(".txt-chg2").empty()}if(evtGbFlds.indexOf("02")>-1){$(".goodsSelect").hide();$(".goodsSelect ul.droplist").each(function(){$(this).empty()});
$.each(goodsSerialInfos,function(idx,val){var html="";var index=idx+1;var eventFldGrp=Number(val.eventFldGrp);html+='<li id="dropProduct_1_0'+eventFldGrp+'" role="option" class="droplist-item" aria-selected="false" onclick=\'goodsCheck(this)\' data-eventFldGrp=\''+eventFldGrp+"' data-mdlcode='"+val.mdlCode+"' data-goods-nm='"+val.goodsNm+"' data-goods-id='"+val.goodsId+'\' tabindex="1">'+val.mdlCode;html+='\t<input type="hidden" name="chk-goods-'+eventFldGrp+'" value="'+val.goodsId+"\" data-mdlcode='"+
val.mdlCode+"' data-goods-nm='"+val.goodsNm+"'>";html+="</li>";$(".goodsSelect ul.droplist").eq(eventFldGrp-1).append(html)});$(".goodsSelect").show();$("textarea[name='inpEnterSerialNum']").each(function(){$(this).attr("readonly",true)})}if(evtGbFlds.indexOf("03")>-1){$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);createQuestionHtml(questionInfos)}if(evtGbFlds.indexOf("04")>-1)createVoteQuestionHtml(voteQuestionInfos);if(evtGbFlds.indexOf("05")>-1||evtGbFlds.indexOf("07")>-1){fnScriptLoad();$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}var policyHtml=
"";$("#privacyPolicy").empty();policyHtml+=createPrivacyPolicyHtml(plcyContentCollect,1);if(plcyContentPrcs!=null)policyHtml+=createPrivacyPolicyHtml(plcyContentPrcs,2);$.each(eventPrivacyPolicys,function(idx,val){var index=idx+3;policyHtml+=createPrivacyPolicyHtml(val,index)});$("#privacyPolicy").append(policyHtml);$(".error-msg").hide();if(eventAddYn=="N")$("#inpCounselMembershipErr").html("<p>나의 정보에서 멤버십 회원 추가정보 입력 후</p><p>알림신청하면 멤버십 번호가 보여집니다.</p>");else if(eventAddYn=="Y")$("#inpCounselMembershipErr").html("<p>※멤버십번호가 보이지 않으시나요?</p><p>화면 우측 상단 > 나의정보 메뉴에서</p><p>멤버십 가입여부 확인 후 다시 시도해 보세요.</p><p>(미가입 시 가입 후 재시도 필요)</p>");
if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}function goodsCheck(obj){$(obj).parents(".goodsSelect").next().find("textarea[name='inpEnterSerialNum']").attr("readOnly",false)}
function createPrivacyPolicyHtml(obj,index){var agreeRqidYn=obj.agreeRqidYn;var agreeRqidYnNm;var agreeSelWds=obj.agreeSelWds;var policyNo=obj.policyNo;if(agreeRqidYn=="Y")agreeRqidYnNm="필수";else agreeRqidYnNm="선택";if(obj.plcyGbCd=="10")agreeSelWds="위의 개인정보 수집 및 이용에 동의합니다.";else if(obj.plcyGbCd=="20")agreeSelWds="위의 개인정보 처리 업무 위탁에 동의합니다.";var html="";html+="<div class='terms-wrap'>";html+="\t<h4 class='terms-tit'>"+obj.plcyNm+"</h4>";html+="\t<div class='terms-box'>";html+="\t\t<p>"+obj.content+"</p>";
html+="\t</div>";html+="\t<div class='chk-form terms-more'>";if(agreeRqidYn=="Y")html+="\t\t<input id='chk-enter-"+index+"' data-chkgrp-name='checkEventEnter' type='checkbox' required='' title='' class='inp-terms entryAgreeY plcyGbCd"+obj.plcyGbCd+"' data-policyNo="+policyNo+">";else html+="\t\t<input id='chk-enter-"+index+"' data-chkgrp-name='checkEventEnter' type='checkbox' required='' title='' class='inp-terms plcyGbCd"+obj.plcyGbCd+"' data-policyNo="+policyNo+">";if(obj.plcyGbCd!="20")html+="\t\t<label for='chk-enter-"+
index+"' class='chk-gray'>"+agreeSelWds+" ("+agreeRqidYnNm+")</label>";html+="\t</div>";if(agreeRqidYn=="Y"&&obj.plcyGbCd!="20"){html+="\t<div class='error-msg' id='err-chk-enter-"+index+"'>";if(obj.plcyGbCd=="10")html+="\t\t<p>개인정보 수집 및 이용에 동의해 주세요.</p>";else html+="\t\t<p>"+obj.plcyNm+"에 동의해 주세요.</p>";html+="\t</div>"}html+="</div>";return html}
function createQuestionHtml(obj){$(".qstList").empty();var html="";$.each(questionInfos,function(idx,val){var qstTpCd=val.qstTpCd;var rplContent=val.rplContent;var rplNos=val.rplNos;var rghtansYn=val.rghtansYn;var qstNo=val.qstNo;html+="<div class='survey-item'>";html+="    <p class='question'>Q. "+val.qstNm+"</p>";html+="    <input type='hidden' id='qstAnswer"+qstNo+"' name='qstAnswer' value='N' data-qsttpcd='"+qstTpCd+"'/>";html+="    <div class='answer-box'>";if(qstTpCd=="30"){html+="        <input type='text'  id='answer"+
qstNo+"' name='answer"+qstNo+"' class='inp-line qstAnswer"+qstNo+"' placeholder='정답을 입력해 주세요.' maxlength='200'>";html+="        <input type='hidden' id='answer"+qstNo+"Y' name='answer"+qstNo+"Y' value='"+rplContent+"'/>"}else{html+="        <ul class='answer-list chk-form qstAnswer"+qstNo+"'>";var rplNosArr=rplNos.split(",");var rplContentArr=rplContent.split(",");var rghtansYnArr=rghtansYn.split(",");for(var i=0;i<rplNosArr.length;i++){var qNo=rplNosArr[i];var qText=rplContentArr[i];var qAns=rghtansYnArr[i];
html+="            <li class='item'>";if(qstTpCd=="10")html+="            <input id='answer"+qstNo+qNo+"' type='checkbox' name='answer"+qstNo+"' value='Y'>";else if(qstTpCd=="20")html+="            <input id='answer"+qstNo+qNo+"' type='radio' name='answer"+qstNo+"' value='Y'>";html+="                <label for='answer"+qstNo+qNo+"'>"+qText+"</label>";html+="                <input type='hidden' id='answer"+qstNo+qNo+"Y' value='"+qAns+"'/>";html+="            </li>"}html+="        </ul>"}html+="    </div>";
html+="\t <div style='width: 100%; display: inline-block;margin-top:20px'>";html+="\t     <div style='display:inline-block;vertical-align:middle;'>";if(qstTpCd=="30")html+="\t \t\t<button type='button' class='btn btn-s btn-type1 chkAns' style='margin-top:0' name='qstAnswer"+qstNo+"' id='chkAnsBtn"+qstNo+"' arg1='"+qstNo+"' arg2='"+qstTpCd+"'>정답확인</button>";else html+="\t \t\t<button type='button' class='btn btn-s btn-type1 chkAns' style='margin-top:0' id='chkAnsBtn"+qstNo+"' arg1='"+qstNo+"' arg2='"+
qstTpCd+"'>정답확인</button>";html+="\t     </div>";html+="\t     <div class='error-msg answer-msg' id='answer"+qstNo+"Err' style='display:inline-block;vertical-align:middle;margin-left:8px;padding-top:0'>";html+="\t       <p>오답입니다.</p>  ";html+="\t     </div>    ";html+="\t </div>\t";html+="</div>"});$(".qstList").append(html);$(".error-msg").hide();if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}
function createVoteQuestionHtml(obj){$(".voteQstList").empty();var html="";$.each(voteQuestionInfos,function(idx,val){var qstTpCd=val.qstTpCd;var rplContent=val.rplContent;var rplNos=val.rplNos;var qstNo=val.qstNo;var imgUrl=val.imgUrl;if(qstTpCd=="30"){html+="<div class='secure-pop-tit margin-bottom bottom-line small-tit voteQstAnswer"+qstNo+"'>"+val.qstNm+"</div>";html+="<div class='inp-box width100'>";html+="\t<label for='voteAnswer"+qstNo+"' class='blind'>"+val.qstNm+"</label>";html+="\t<div class='inp-write'>";
html+="\t\t<input type='text' id='voteAnswer"+qstNo+"' name='voteAnswer"+qstNo+"' data-rplNo='"+rplNos+"' class='inp-line text-add voteQstAnswer"+qstNo+"' placeholder='내용을 기입 해 주세요'  maxlength='200'>";html+="\t</div>";html+="\t<div class='error-msg' id='voteAnswer"+qstNo+"Err'>";html+="\t\t<p>항목을 입력해 주세요.</p>";html+="\t</div>";html+="</div>"}else if(eventAddYn=="B2C_CHARACTER_INCRUIT"){html+="<div class='secure-pop-tit margin-bottom bottom-line small-tit voteQstAnswer"+qstNo+"'>"+val.qstNm+"</div>";
html+="<div class='droptoggle'>";html+="\t<div class='dropOption'>";html+="\t\t<a href='javascript:;' class='dropButton underline-none dropButton"+qstNo+"'>";html+="\t\t\t<span class='left-title'>내용을 확인하고 선택해주세요</span>";html+="\t\t</a>";html+="\t\t<div class='dropList'>";var rplNosArr=rplNos.split(",");var rplContentArr=rplContent.split(",");var imgUrlArr=imgUrl.split(",");if(qstTpCd=="10"){html+="\t\t\t<div class='inp-box width100'>";html+="\t\t\t<label for='chk-videos-"+qstNo+"' class='blind'>사진 선택</label>";
html+="\t\t\t<div class='chk-form rounded'>";html+="\t\t\t\t\t<ul class='chk-list-box2 chk-form mo-col1'>";for(var i=0;i<rplNosArr.length;i++){var qNo=rplNosArr[i];var qText=rplContentArr[i].replaceAll("||",",");var qUrl=imgUrlArr[i];html+="\t\t\t\t\t<li class='item'>";html+="\t\t\t\t\t<input id='voteAnswer"+qstNo+qNo+"' type='checkbox' name='voteAnswer"+qstNo+"' class='voteAnswer' value='"+qText+"' data-rplNo='"+qNo+"'>";html+="\t\t\t\t\t\t<label for='voteAnswer"+qstNo+qNo+"'>";html+="\t\t\t\t\t\t\t<div class='img-box'>";
if(qUrl!="")html+="\t\t\t\t\t\t\t<img src='"+qUrl+"' alt='"+qText+"'>";html+="            \t\t\t\t</div>";html+="\t\t\t\t\t\t\t<div class='text-box'>";html+="\t\t\t\t\t\t\t<pre>"+qText+"</pre>";html+="\t\t\t\t\t\t\t</div>";html+="            \t\t\t</label>";html+="            \t\t</li>"}html+="\t\t\t\t\t</ul>";html+="\t\t\t\t\t\x3c!-- 에러시 div 'inp-box'에 클래스 error 삽입 --\x3e";html+="\t\t\t\t\t<div class='error-msg' id='voteAnswer"+qstNo+"Err'>";html+="\t\t\t\t\t\t<p>항목을 선택해 주세요.</p>";html+="\t\t\t\t\t</div>";
html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+="\t\t</div>";html+="\t</div>";html+="</div>";html+="</div>"}else if(qstTpCd=="20"){html+="<div class='imgradio-list-wrap'>";html+="<ul class='imgradio-list'>";for(var i=0;i<rplNosArr.length;i++){var qNo=rplNosArr[i];var qText=rplContentArr[i].replaceAll("||",",");var qUrl=imgUrlArr[i];html+="\t<li class='item'>";html+="\t\t<div class='num-tit' aria-labelledby='voteAnswer"+qstNo+qNo+"'>";html+="\t\t\t<span class='num'>"+(i+1)+"</span>";html+="\t\t\t<span class='tit'>"+
qText+"</span>";html+="\t\t</div>\t\t\t\t\t\t\t";html+="\t\t<div class='chk-form'>";html+="\t\t<input id='voteAnswer"+qstNo+qNo+"' type='radio' name='voteAnswer"+qstNo+"' class='voteAnswer' value='"+qText+"' data-rplNo='"+qNo+"'>";html+="\t\t\t\t<label for='voteAnswer"+qstNo+qNo+"'>";html+="\t\t\t\t<div class='img-box'>";if(qUrl!="")html+="\t\t\t\t<img src='"+qUrl+"' alt='"+qText+"'>";html+="            \t</div>";html+="            </label>";html+="       </div>";html+="   </li>"}html+="\t\t\t\t\t</ul>";
html+="\t\t\t\t\t\x3c!-- 에러시 div 'inp-box'에 클래스 error 삽입 --\x3e";html+="\t\t\t\t\t<div class='error-msg' id='voteAnswer"+qstNo+"Err'>";html+="\t\t\t\t\t\t<p>항목을 선택해 주세요.</p>";html+="\t\t\t\t\t</div>";html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+="\t\t</div>";html+="\t</div>";html+="</div>";html+="</div>"}}else{html+="<div class='secure-pop-tit margin-bottom bottom-line small-tit voteQstAnswer"+qstNo+"'>"+val.qstNm+"</div>";html+="<div class='droptoggle'>";html+="\t<div class='dropOption'>";html+=
"\t\t<a href='javascript:;' class='dropButton underline-none dropButton"+qstNo+"'>";html+="\t\t\t<span class='left-title'>내용을 확인하고 선택해주세요</span>";html+="\t\t</a>";html+="\t\t<div class='dropList'>";html+="\t\t\t<div class='inp-box width100'>";html+="\t\t\t<label for='chk-videos-"+qstNo+"' class='blind'>사진 선택</label>";if(qstTpCd=="10")html+="\t\t\t<div class='chk-form rounded'>";else if(qstTpCd=="20")html+="\t\t\t<div>";html+="\t\t\t\t\t<ul class='chk-list-box2 chk-form mo-col1'>";var rplNosArr=rplNos.split(",");
var rplContentArr=rplContent.split(",");var imgUrlArr=imgUrl.split(",");for(var i=0;i<rplNosArr.length;i++){var qNo=rplNosArr[i];var qText=rplContentArr[i].replaceAll("||",",");var qUrl=imgUrlArr[i];html+="\t\t\t\t\t<li class='item'>";if(qstTpCd=="10")html+="\t\t\t\t\t<input id='voteAnswer"+qstNo+qNo+"' type='checkbox' name='voteAnswer"+qstNo+"' class='voteAnswer' value='"+qText+"' data-rplNo='"+qNo+"'>";else if(qstTpCd=="20")html+="\t\t\t\t\t<input id='voteAnswer"+qstNo+qNo+"' type='radio' name='voteAnswer"+
qstNo+"' class='voteAnswer' value='"+qText+"' data-rplNo='"+qNo+"'>";html+="\t\t\t\t\t\t<label for='voteAnswer"+qstNo+qNo+"'>";html+="\t\t\t\t\t\t\t<div class='img-box'>";if(qUrl!="")html+="\t\t\t\t\t\t\t<img src='"+qUrl+"' alt='"+qText+"'>";html+="            \t\t\t\t</div>";html+="\t\t\t\t\t\t\t<div class='text-box'>";html+="\t\t\t\t\t\t\t<pre>"+qText+"</pre>";html+="\t\t\t\t\t\t\t</div>";html+="            \t\t\t</label>";html+="            \t\t</li>"}html+="\t\t\t\t\t</ul>";html+="\t\t\t\t\t\x3c!-- 에러시 div 'inp-box'에 클래스 error 삽입 --\x3e";
html+="\t\t\t\t\t<div class='error-msg' id='voteAnswer"+qstNo+"Err'>";html+="\t\t\t\t\t\t<p>항목을 선택해 주세요.</p>";html+="\t\t\t\t\t</div>";html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+="\t\t</div>";html+="\t</div>";html+="</div>";html+="</div>"}});$(".voteQstList").append(html);$(".dropButton").first().click();$(".error-msg").hide();if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}
function createVoteQuestionHtml_Bak(obj){$(".voteQstList").empty();var html="";$.each(voteQuestionInfos,function(idx,val){var qstTpCd=val.qstTpCd;var rplContent=val.rplContent;var rplNos=val.rplNos;var qstNo=val.qstNo;html+="<div class='survey-item'>";html+="    <p class='question'>Q. "+val.qstNm+"</p>";html+="    <input type='hidden' id='voteQstAnswer"+qstNo+"' name='voteQstAnswer' value='N' data-qsttpcd='"+qstTpCd+"'/>";html+="    <div class='answer-box'>";if(qstTpCd=="30")html+="        <input type='text'  id='voteAnswer"+
qstNo+"' name='voteAnswer"+qstNo+"' data-rplNo='"+rplNos+"' class='inp-line voteQstAnswer"+qstNo+"' placeholder='내용을 기입해 주세요.' maxlength='200'>";else{html+="        <ul class='answer-list chk-form voteQstAnswer"+qstNo+"'>";var rplNosArr=rplNos.split(",");var rplContentArr=rplContent.split(",");for(var i=0;i<rplNosArr.length;i++){var qNo=rplNosArr[i];var qText=rplContentArr[i];html+="            <li class='item'>";if(qstTpCd=="10")html+="            <input id='voteAnswer"+qstNo+qNo+"' type='checkbox' name='voteAnswer"+
qstNo+"' value='"+qText+"' data-rplNo='"+qNo+"'>";else if(qstTpCd=="20")html+="            <input id='voteAnswer"+qstNo+qNo+"' type='radio' name='voteAnswer"+qstNo+"' value='"+qText+"' data-rplNo='"+qNo+"'>";html+="                <label for='voteAnswer"+qstNo+qNo+"'>"+qText+"</label>";html+="            </li>"}html+="        </ul>"}html+="    </div>";html+="\t <div style='width: 100%; display: inline-block;margin-top:20px'>";html+="\t     <div class='error-msg answer-msg' id='voteAnswer"+qstNo+"Err' style='display:inline-block;vertical-align:middle;margin-left:8px;padding-top:0'>";
html+="\t       <p>입력해주세요.</p>  ";html+="\t     </div>    ";html+="\t </div>\t";html+="</div>"});$(".voteQstList").append(html);$(".error-msg").hide();if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}
function setLayoutShowHide(eventGbCd){$(".eventGbCd50").hide();$(".eventGbCd60").hide();$(".eventGbCd70").hide();$(".eventGbCd80").hide();$(".titleNo").hide();$("#eventSaveBtn").text("이벤트 응모");$("#popTitle").text("응모자 정보");$("#evtHeader h2").text("응모 하기");if(eventGbCd=="40"||eventGbCd=="50"){$("#popTitle").val("");$(".eventGbCd50").show()}else if(eventGbCd=="60"){$("#popTitle").val("");$(".eventGbCd60").show()}else if(eventGbCd=="70"){$("#eventSaveBtn").text("투표하기");$("#popTitle").text("투표자 정보");
$("#evtHeader h2").text("투표 하기");$(".eventGbCd70").show()}else if(eventGbCd=="80"){$(".titleNo").show();$(".eventGbCd80").show();if(fanclassFlag)$("#popTitle").text("예약자 정보");else $("#popTitle").text(entryEvent.ttl+" 매장상담예약 이벤트 신청정보");$(".btn-box").hide()}$("#chk-enter-all").prop("checked",false);$("#inpEnterName").focus()}
function setLayoutShowHideRenewal(evtGbFlds){var html="";var eventGbCdHtml50="";var eventGbCdHtml60="";var eventGbCdHtml70="";var eventGbCdHtml80="";var eventGbCdHtml90="";$(".eventGbCd80").hide();eventGbCdHtml50+='<ul class="serial-num-area">';eventGbCdHtml50+="\t<li>";eventGbCdHtml50+='\t<div class="title"><p>제품 등록 1</p></div>';eventGbCdHtml50+='\t<div class="inp-box goodsSelect eventGbCd50">';eventGbCdHtml50+='\t\t<label for="dropProduct_1" class="lb-line lb-top">제품 선택</label>';eventGbCdHtml50+=
"\t\t<div>";eventGbCdHtml50+='\t\t\t<div class="select-box active">';eventGbCdHtml50+='\t\t\t\t<div class="wrap-droplist">';eventGbCdHtml50+='\t\t\t\t<button class="droplist-button" aria-haspopup="listbox" aria-expanded="false">선택해 주세요.</button>';eventGbCdHtml50+='\t\t\t\t<ul class="droplist" tabindex="-1" role="listbox" style="max-height: 200px;">';eventGbCdHtml50+="\t\t\t\t</ul>";eventGbCdHtml50+="\t\t\t</div>";eventGbCdHtml50+="\t\t</div>";eventGbCdHtml50+='\t\t<div class="error-msg" id="chk-goods-err">';
eventGbCdHtml50+="\t\t\t<p>제품을 선택해 주세요.</p>";eventGbCdHtml50+="\t\t</div>";eventGbCdHtml50+="\t\t</div>";eventGbCdHtml50+="\t</div>";eventGbCdHtml50+='\t<div class="inp-box goodsSelect eventGbCd50">';eventGbCdHtml50+='\t\t<p class="label-box">';eventGbCdHtml50+='\t\t\t<label for="inpEnterSerialNum" class="lb-line">제품 시리얼 <br>넘버</label>';eventGbCdHtml50+='\t\t\t<i class="btn-tooltop02" data-tooltip="serialno-usetip"><span>툴팁보기(레이어열림)</span></i>';eventGbCdHtml50+="\t\t</p>";eventGbCdHtml50+="\t\t<div>";
eventGbCdHtml50+='\t\t\t<div class="inquiry-con">';eventGbCdHtml50+='\t\t\t\t<textarea id="inpEnterSerialNum" name="inpEnterSerialNum" class="inp-line pop-tArea" placeholder="제품 시리얼 넘버 확인 후 입력해 주세요." maxlength="500"></textarea>';eventGbCdHtml50+='\t\t\t\t<span class="txt-count serial-count"><em class="strong">0</em> / 500자</span>';eventGbCdHtml50+="\t\t\t</div>";eventGbCdHtml50+='\t\t\t<div class="serial-box">';eventGbCdHtml50+='\t\t\t\t<p class="essential">* 제품의 시리얼 넘버를 입력하신 후 [확인하기] 버튼을 눌러주세요.</p>';
eventGbCdHtml50+='\t\t\t\t<button type="button" class="btn btn-s btn-type1" name="chkSerialNoBtn">확인하기</button>';eventGbCdHtml50+='\t\t\t\t<input type="hidden" name="serialNumChk" value="N" />';eventGbCdHtml50+='\t\t\t\t<input type="hidden" name="serialNum" />';eventGbCdHtml50+='\t\t\t\t<input type="hidden" name="mdlCode" />';eventGbCdHtml50+='\t\t\t\t<input type="hidden" name="eventFldGrp" />';eventGbCdHtml50+="\t\t\t</div>";eventGbCdHtml50+='\t\t\t<div class="error-msg" id="inpEnterSerialNumErr">';
eventGbCdHtml50+="\t\t\t\t<p>시리얼 넘버를 입력 후 확인해 주세요.</p>";eventGbCdHtml50+="\t\t\t</div>";eventGbCdHtml50+="\t\t</div>";eventGbCdHtml50+="</div>";eventGbCdHtml50+="</li>";eventGbCdHtml50+="</ul>";eventGbCdHtml60+='<div class="survey-box qstList eventGbCd60">';eventGbCdHtml60+="</div>";eventGbCdHtml70+='<div class="survey-box voteQstList eventGbCd70">';eventGbCdHtml70+='\t\t<p><strong><span id="evtNm"></span></strong> 투표에 참여해주셔서 감사합니다.</p>';eventGbCdHtml70+="\t\t<p>투표 이벤트 추첨을 위해 아래 정보를 작성해주세요.</p>";
eventGbCdHtml70+='\t\t<p class="txt-major">* 투표하기는 1회만 가능합니다.</p>';eventGbCdHtml70+='\t\t<p class="txt-general eventGbCd70">* 잘못된 정보 입력 시 투표에 제한이 있을 수 있으며, 경품 당첨이 취소됩니다.</p>';eventGbCdHtml70+="</div>";eventGbCdHtml80+='<div class="user-info-box secure-pop-form user-form eventGbCd80">';eventGbCdHtml80+='\t\t<div class="secure-pop-tit bottom-line"><span class="titleNo">02. </span>참여일 선택 및 추가 정보</div>';eventGbCdHtml80+='    <div class="secure-pop">';eventGbCdHtml80+='        <ul class="chk-form style-btn store-select-list">';
eventGbCdHtml80+="        </ul>";eventGbCdHtml80+='        <div class="store-detail-info">';eventGbCdHtml80+='            <div class="store-detail-mapbox" id="map">';eventGbCdHtml80+="                \x3c!-- 맵 영역 --\x3e";eventGbCdHtml80+="            </div>";eventGbCdHtml80+="        </div>";eventGbCdHtml80+="    </div>";eventGbCdHtml80+="</div>";eventGbCdHtml90+='<ul class="bespoke-num-area">';eventGbCdHtml90+="\t<li>";eventGbCdHtml90+='\t<div style="padding: 8px 0 6px; font-size: 14px; background-color: #f7f7f7; border-bottom: solid 1px #ebebeb;"><p>BESPOKE 냉장고 제품 등록</p></div>';
eventGbCdHtml90+='\t<div class="inp-box goodsSelect eventGbCd50">';eventGbCdHtml90+='\t\t<label for="dropProduct_1" class="lb-line lb-top">모델명<span class="ico-required">*</span></label>';eventGbCdHtml90+="\t\t<div>";eventGbCdHtml90+='\t\t\t<input type="text" class="inp-line" name="inpBespokeModel" id="inpBespokeModel" placeholder="모델명을 입력해 주세요.">';eventGbCdHtml90+='\t\t\t<div class="error-msg" id="inpBespokeModelErr">';eventGbCdHtml90+="\t\t\t\t<p>모델명을 입력해 주세요.</p>";eventGbCdHtml90+="\t\t\t</div>";
eventGbCdHtml90+='\t\t\t<div class="error-msg" id="inpBespokeModelErr2">';eventGbCdHtml90+="\t\t\t\t<p>존재하지 않는 모델입니다.</p>";eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+="\t\t</div>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+='\t<div class="inp-box goodsSelect eventGbCd50">';eventGbCdHtml90+='\t\t<p class="label-box">';eventGbCdHtml90+='\t\t\t<label for="inpEnterSerialNum" class="lb-line">제품번호(S/N) <span class="ico-required">*</span></label>';eventGbCdHtml90+='\t\t\t<i class="btn-tooltop02" data-tooltip="serialno-usetip" id="bepokeImageFreeView"><span>툴팁보기(레이어열림)</span></i>';
eventGbCdHtml90+="\t\t</p>";eventGbCdHtml90+="\t\t<div>";eventGbCdHtml90+="\t\t\t<div>";eventGbCdHtml90+='\t\t\t\t<input type="text" class="inp-line" name="inpBespokeSerialNumber" id="inpBespokeSerialNumber" placeholder="제품번호(S/N) 를 입력해 주세요.">';eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+='\t\t\t<div class="error-msg" id="inpBespokeSerialErr">';eventGbCdHtml90+="\t\t\t\t<p>제품번호(S/N) 를 입력해 주세요.</p>";eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+='\t\t\t<div class="error-msg" id="inpBespokeSerialErr2">';
eventGbCdHtml90+="\t\t\t\t<p>이미 등록된 제품번호(S/N)  입니다.</p>";eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+='\t\t\t<div class="error-msg" id="inpBespokeSerialErr3">';eventGbCdHtml90+="\t\t\t\t<p>제품번호(S/N)를 확인해 주세요</p>";eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+="\t\t</div>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+='\t<div class="serial-box">';eventGbCdHtml90+='\t\t<button type="button" class="btn btn-s btn-type1" name="chkBespokeSerialNoBtn">확인하기</button>';eventGbCdHtml90+=
'\t\t<input type="hidden" name="serialNumChk" value="N" />';eventGbCdHtml90+='\t\t<input type="hidden" name="serialNum" />';eventGbCdHtml90+='\t\t<input type="hidden" name="mdlCode" />';eventGbCdHtml90+='\t\t<input type="hidden" name="eventFldGrp" />';eventGbCdHtml90+="\t</div>";eventGbCdHtml90+='\t<div class="error-msg" id="inpBespokeErr">';eventGbCdHtml90+="\t\t<p>모델명 유무 및 제품번호(S/N) 를 확인 해주세요.</p>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+='\t<div style="padding: 8px 0 6px; margin: 10px 0px; font-size: 14px; background-color: #f7f7f7; border-bottom: solid 1px #ebebeb;"><p>제품 구입 정보 등록</p></div>';
eventGbCdHtml90+='\t<div class="inp-box">';eventGbCdHtml90+='\t\t<label for="" class="lb-line lb-top">제품 구매일<span class="ico-required">*</span></label>';eventGbCdHtml90+="\t\t<div>";eventGbCdHtml90+='\t\t\t<input type="text" name="inpBespokePrdBuyDtm" id="inpBespokePrdBuyDtm" class="inp-line inp-calendar" placeholder="일자를 선택해 주세요" readonly="readonly" data-fldtpcd="130">';eventGbCdHtml90+='\t\t\t<div class="error-msg" id="inpBespokePrdBuyDtmErr">';eventGbCdHtml90+="\t\t\t\t<p>제품 구매일을 확인해 주세요.</p>";
eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+="\t\t</div>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+='\t<div class="inp-box">';eventGbCdHtml90+='\t\t<label for="bspkPanelStoreCd" class="lb-line">제품 구매처<span class="ico-required">*</span></label>';eventGbCdHtml90+="\t    <div>";eventGbCdHtml90+='\t\t\t<ul class="chk-list-box chk-form mo-col2" id="bspkPanelStoreCd">';if(bespokePanelEvent!=null)for(var i=0;i<bespokePanelEvent.bspkPanelStoreCd.length;i++){eventGbCdHtml90+='\t\t\t<li class="item">';
eventGbCdHtml90+='\t\t\t\t<input id="bspkPanelStoreCd'+bespokePanelEvent.bspkPanelStoreCd[i].dtlCd+'" type="radio" name="inpBespokePrdStoreNm" value="'+bespokePanelEvent.bspkPanelStoreCd[i].dtlNm+'">';eventGbCdHtml90+='\t\t\t\t<label for="bspkPanelStoreCd'+bespokePanelEvent.bspkPanelStoreCd[i].dtlCd+'">'+bespokePanelEvent.bspkPanelStoreCd[i].dtlNm+"</label>";eventGbCdHtml90+="\t        </li>"}eventGbCdHtml90+="\t\t\t</ul>";eventGbCdHtml90+='\t\t\t<div class="error-msg" id="bspkPanelStoreCdErr" style="display: none;">';
eventGbCdHtml90+="\t\t\t<p>제품 구매처를 선택해 주세요.</p>";eventGbCdHtml90+="\t\t\t</div>";eventGbCdHtml90+="\t    </div>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+="\t</div>";eventGbCdHtml90+="</li>";eventGbCdHtml90+="</ul>";for(var idx=0;idx<evtGbFlds.length;idx++)if(evtGbFlds[idx]=="02")html+=eventGbCdHtml50;else if(evtGbFlds[idx]=="03")html+=eventGbCdHtml60;else if(evtGbFlds[idx]=="04")html+=eventGbCdHtml70;else if(evtGbFlds[idx]=="05")html+=eventGbCdHtml80;else if(evtGbFlds[idx]=="07")html+=eventGbCdHtml80;
else if(evtGbFlds[idx]=="08"){html+=eventGbCdHtml90;$("#popTitle").text("응모자(구매자) 정보")}$("#eventGbField").empty();$("#eventGbField").append(html);$(".titleNo").hide();$("#evtHeader h2").text("응모 하기");if(evtGbFlds.indexOf("08")>-1){var paramDisabledType="30";var activeDays=[];var aplPeriod=eventInfo.aplPeriod.split("-");var aplStrt=$.trim(aplPeriod[0]).replaceAll(".","");var aplEnd=$.trim(aplPeriod[1]);var aplStrtDtm;for(var i=0;i<999;i++){aplStrtDtm=new Date(aplStrt.substring(0,4)+"-"+aplStrt.substring(4,
6)+"-"+aplStrt.substring(6,8));aplStrtDtm.setDate(aplStrtDtm.getDate()+i);activeDays.push(dateToStringFormat(aplStrtDtm,"yyyyMMdd"));if(dateToStringFormat(new Date(aplEnd),"yyyyMMdd")==dateToStringFormat(aplStrtDtm,"yyyyMMdd"))break}var datepickerOption={disabledType:paramDisabledType,activeDays:activeDays,beforeShow:function(){setTimeout(function(){},0)}};setDatePicker(datepickerOption);calendar_picker()}if(evtGbFlds.indexOf("02")>-1)$("ul.serial-num-area").each(function(index){var idx=index+1;$(this).find(".title > p").text("제품 등록"+
idx)});if(evtGbFlds.indexOf("05")>-1||evtGbFlds.indexOf("07")>-1){$(".titleNo").show();$(".eventGbCd80").show();if(fanclassFlag)$("#popTitle").text("예약자 정보");if(eventInfo.plazas)$("#eventBtn_Area_div").hide();else $("#eventBtn_Area_div").show()}$("#chk-enter-all").prop("checked",false);$("#inpEnterName").focus()}
function setCommLayout(entryEvent,collectItems,addFields){var imgUrl="";var dvcTpCd="";var filter="win16|win32|win64|mac|macintel";if(navigator.platform)if(filter.indexOf(navigator.platform.toLowerCase())<0){imgUrl="//"+entryEvent.moImgPath;if(window.secapp!==undefined&&userAgent.indexOf("SECAPP")>-1)dvcTpCd="APP";else dvcTpCd="MOBILE"}else{imgUrl="//"+entryEvent.pcImgPath;dvcTpCd="PC"}if(imgUrl=="")$("#evtHeader").removeClass("text-hide");else{$("#evtImg").attr("src",imgUrl);$("#evtHeader").addClass("text-hide")}if(sessionMbr==
0||sessionMbr==null)$("#inpEnterName").removeAttr("readonly");if(sessionMbr!=0&&sessionMbr!=null){$("#inpEnterName").attr("readonly",true);$("#inpEnterName").val(eventInfo.loginUserMbrNm);$("#inpEnterCall").val(eventInfo.loginUserMobile);$("#inpEnterEmail").val(eventInfo.loginUserEmail=="Removed"||eventInfo.loginUserEmail=="removed"?"":eventInfo.loginUserEmail);$("#inpCounselMembership").val(membershipNo)}$(".entryCollect").hide();$.each(collectItems,function(idx,val){var collectItemCd=val.collectItemCd;
$(".entryCollect"+collectItemCd).show()});if(membershipNo==""||membershipNo==null);$("#addFieldArea").empty();var addFieldHtml="";$.each(addFields,function(idx,obj){addFieldHtml+=createAddFieldHtml(obj)});$("#addFieldArea").append(addFieldHtml);$("#dvcTpCd").val(dvcTpCd)}
function createAddFieldHtml(obj){var fldTpCd=obj.fldTpCd;var fldNm=obj.fldNm;var fldVal=obj.fldVal;var fldNo=obj.fldNo;var fldDscrt=obj.fldDscrt;var html="";var divInpBox="<div class='inp-box'>";var labelFor="    <label for='addField"+fldNo+"' class='lb-line'>"+fldNm+"</label>";var comment="\t\t <p class='essential'>"+fldDscrt+"</p>";if(fldTpCd=="10"){html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <input type='text' name='addField"+fldNo+"' id='addField"+fldNo+"' class='inp-line' value='' data-fldtpcd='"+
fldTpCd+"'>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>입력해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>"}else if(fldTpCd=="20"){html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <div class='inquiry-con'>";html+="            <textarea name='addField"+fldNo+"' id='addField"+fldNo+"' class='inp-line pop-tArea textAreaLen' placeholder='입력해 주세요.' maxlength='1000' data-fldtpcd='"+fldTpCd+"'></textarea>";
html+='\t\t     <span class="txt-count textarea-count"><em class="strong">0</em> / 1000자</span>';html+="        </div>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>입력해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>\t"}else if(fldTpCd=="30"){html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <ul class='chk-list-box chk-form mo-col2' id='addField"+fldNo+"' data-fldtpcd='"+fldTpCd+"'>";var fldValArrRd=
fldVal.split(",");for(var i=0;i<fldValArrRd.length;i++){var lb=fldValArrRd[i];html+="            <li class='item'>";html+="                <input id='addField"+fldNo+(i+1)+"' type='radio' name='addField"+fldNo+"' value='"+lb+"'>";html+="                <label for='addField"+fldNo+(i+1)+"'>"+lb+"</label>";html+="            </li>"}html+="        </ul>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>선택해 주세요.</p>";html+="        </div>";
html+="    </div>";html+="</div>"}else if(fldTpCd=="40"){html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <ul class='chk-list-box chk-form mo-col2' id='addField"+fldNo+"' data-fldtpcd='"+fldTpCd+"'>";var fldValArrChk=fldVal.split(",");for(var j=0;j<fldValArrChk.length;j++){var lb2=fldValArrChk[j];html+="            <li class='item'>";html+="                <input id='addField"+fldNo+(j+1)+"' type='checkbox' name='addField"+fldNo+"' value='"+lb2+"'>";html+="                <label for='addField"+
fldNo+(j+1)+"'>"+lb2+"</label>";html+="            </li>"}html+="        </ul>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>선택해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>"}else if(fldTpCd=="50"){html+=divInpBox;html+="    <label for='addField"+fldNo+"Btn' class='lb-line'>"+fldNm+"</label>";html+="    <div>";html+="        <div class='select-box'>";html+="            <div id='dropAge' class='wrap-droplist'>";
html+="                <button type='button' class='droplist-button' aria-haspopup='listbox' aria-labelledby='addField"+fldNo+"Btn' id='addField"+fldNo+"Btn'>선택해 주세요.</button>";html+="                <ul class='droplist' tabindex='-1' role='listbox' aria-labelledby='addField"+fldNo+"Btn' aria-activedescendant='addField"+fldNo+"1' id='addField"+fldNo+"' data-fldtpcd='"+fldTpCd+"'>";var fldValArrSel=fldVal.split(",");for(var k=0;k<fldValArrSel.length;k++){var lb3=fldValArrSel[k];html+="                <li id='addField"+
fldNo+(k+1)+"' role='option' class='droplist-item'>"+lb3+"</li>"}html+="                </ul>";html+="            </div>";html+="        </div>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>선택해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>"}else if(fldTpCd=="60"){html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <div class='box mail'>";html+="            <input type='text' id='addField"+fldNo+
"' class='inp-line' title='파일첨부' readOnly='readOnly'>";html+="            <input type='hidden' id='phyPath"+fldNo+"' name='phyPath"+fldNo+"' />";html+="            <button type='button' class='btn btn-s btn-type1' id='upldBtn"+fldNo+"60' onclick=\"fnSearchFile('"+fldNo+"')\">찾아보기</button>";html+="        </div>";html+="        <p class='essential'>* JPG, PNG 파일만 첨부 가능합니다.</p>";html+="        <ul class='addfile-list file-list"+fldNo+"'></ul>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+
fldNo+"Err'>";html+="            <p>첨부된 파일이 없습니다.</p>";html+="    \t</div>";html+=" \t\t<input type='hidden' name='fileExe"+fldNo+"'  id='fileExe"+fldNo+"'/>";html+=" \t\t<input type='hidden' name='fileName"+fldNo+"' id='fileName"+fldNo+"'/>";html+=" \t\t<input type='hidden' name='filePath"+fldNo+"' id='filePath"+fldNo+"'/>";html+=" \t\t<input type='hidden' name='fileSize"+fldNo+"' id='fileSize"+fldNo+"'/>";html+=" \t\t<input type='hidden' name='fileType"+fldNo+"' id='fileType"+fldNo+"'/>";html+=
"    </div>";html+="</div>"}else if(fldTpCd=="70"){fldVal="//"+fldVal;html+="<div>";html+="    <label for='inpEnterFileImg' class='lb-line'>"+fldNm+"</label>";html+='    <div class="event-img">';html+="\t \t<img src='"+fldVal+"' style='width:100%; height:250px;'>";html+="    </div>";if(fldDscrt!=null)html+=comment;html+="</div>"}else if(fldTpCd=="80"){var html80="";html80="<div class='inp-txt-box'>";if(fldNm!=null)html80+="    <label for='addField"+fldTpCd+"' class='lb-line'>"+fldNm+"</label>";html80+=
"    <div class='pre-box'>";html80+="            <pre>"+fldVal+"</pre>";if(fldDscrt!=null)html80+="            <pre>"+fldDscrt+"</pre>";html80+="    </div>";html80+="</div>";html=html80}else if(fldTpCd=="90")if(obj.eventNo=="30307"){html+="<div>";html+="    <div>";html+=labelFor;html+="        <div class='hmf_textarea_wrap'>";html+="\t\t\t<span class='bspk-count'><strong id='counter'>0</strong> 자 / 5000</span>";html+="        </div>";html+="        <div class='inquiry-con'>";html+="            <textarea name='bspk-txt-fld' id='addField"+
fldNo+"' class='inp-line pop-tArea' placeholder='상품평은 최소 10자 이상, 5000자 까지 입력 가능합니다.' maxlength='5000' data-fldtpcd='"+fldTpCd+"'></textarea>";html+="        </div>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>입력해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>\t";html+="<div>";html+="\t<font size='2'>* 파일 용량은 최대 50MB까지 업로드 가능합니다.</font><br>";html+="\t<font size='2'>* 이미지 규격 사이즈는 최대한 맞춰 넣어주시기 바랍니다.</font><br>";
html+="\t<font size='2'>* 해당 모델과 무관한 내용이나 동일 문자의 반복, 욕설 등 부적합한 내용은 삭제될 수 있습니다.</font><br>";html+="\t<font size='2'>* 등록한 사진과 모델명이 불일치하거나 무관할 경우, 게시된 내용은 삭제될 수 있습니다.</font>";html+="</div>"}else{html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <div class='inquiry-con'>";html+="            <textarea name='addField"+fldNo+"' id='addField"+fldNo+"' class='inp-line pop-tArea' placeholder='입력해 주세요.' maxlength='500' data-fldtpcd='"+fldTpCd+"'></textarea>";html+="        </div>";if(fldDscrt!=
null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>입력해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>\t"}else if(fldTpCd=="100"){html+=divInpBox;html+=labelFor;html+="    <div>";html+="        <div class='box mail'>";html+="            <input type='text' name='inputMdlCode' id='addField"+fldNo+"' class='inp-line' value='' data-fldtpcd='"+fldTpCd+"'>";html+="            <input type='hidden' id='bspkMdChk' value=''/>";html+="            <button type='button' id='bspkMdBtn' class='btn btn-s btn-type1' onclick=\"bspkModelChk("+
fldNo+')">확인</button>';html+="        </div>";if(fldDscrt!=null)html+=comment;html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="        \t<p>모델명을 입력해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>"}else if(fldTpCd=="110"){html+=divInpBox;html+=labelFor;html+="    <div class='gradechoice'>";html+="        <div class='review-starating'>";for(var i=1;i<=5;i++)if(i==1)html+="<button type='button' value="+i+" id='addField"+fldNo+"' data-fldtpcd='"+fldTpCd+"' onclick=\"bspkStarating("+
i+", "+fldNo+", "+fldTpCd+")\"><span class='star-yellow' >별점</span></button>";else html+="<button type='button' value="+i+" id='addField"+fldNo+"' data-fldtpcd='"+fldTpCd+"' onclick=\"bspkStarating("+i+", "+fldNo+", "+fldTpCd+")\"><span class='star-yellow'  aria-hidden='true'>별점</span></button>";html+="        <span class='starating-score'>";html+="            <input type='hidden' id='estmScore' name='estmScore' value='5'/>";html+="            <strong>5</strong>/5";html+="        </span>";html+="    </div>";
html+="    </div>";html+="</div>"}else if(fldTpCd=="120"){html+=divInpBox;html+="    <div class='attach-file'>";html+="        <div class='addMedia' id='attach-file-btn'>";html+="            <label class='inp-file' for='attachFile' tabindex='0'>";html+="                <em class='blind'>파일첨부하기</em>";html+="                <button type='button' id='attachFile' style='width:100%; background:none;' onclick=\"multiFileUpload.file(multiFileUpload.afterFileSelect)\"><span>첨부</span></button>";html+="                <input type='hidden' id='addField"+
fldNo+"' data-fldtpcd='"+fldTpCd+"' value=''/>";html+="            </label>";html+="            <p>(<em>0</em>/10)</p>";html+="        </div>";html+="        <ol>";html+="        </ol>";html+="        <p class='mediaCount'>(<em>0</em>/10)</p>";html+="        <div class='error-msg' id='addField"+fldNo+"Err'>";html+="            <p>첨부파일을 등록해 주세요.</p>";html+="        </div>";html+="    </div>";html+="</div>"}else if(fldTpCd=="130"){html+=divInpBox;html+=labelFor;html+="<div>";html+="        <input type='text' name='addField"+
fldNo+"' id='addField"+fldNo+"' class='inp-line inp-calendar' placeholder='날짜를 선택해주세요' readonly='readonly' data-fldtpcd='"+fldTpCd+"'>";if(fldDscrt!=null)html+=comment;html+="     \t<div class='error-msg' id='addField"+fldNo+"Err'>";html+="       \t<p>입력해 주세요.</p>";html+="     \t</div>";html+="    </div>";html+="</div>\t"}return html}
function bspkModelChk(fldNo){var mdlCode=$("#addField"+fldNo).val();var option={url:stPath+"event/eventEntryMdlCodeChk",data:{mdlCode:mdlCode,eventNo:pblcEvtNo},done:function(data){if(data===1){var id;var errorMsgId;$("#bspkMdChk").val("checked");$.each(addFields,function(idx,obj){if(obj.fldTpCd=="100"){id="addField"+obj.fldNo;errorMsgId="#"+id+"Err"}});makeAlert("모델명 입력이 완료되었습니다.");$(errorMsgId).hide();$("#bspkMdBtn").hide()}else makeAlert("모델명을 다시 확인해 주세요.")}};ajax.call(option)}
function bspkStarating(idx,fldNo,fldTpCd){var scoreHtml="";$(".gradechoice>.review-starating").children().remove();for(var i=1;i<=5;i++){var ariaHidden="";if(i>1)ariaHidden="aria-hidden='true'";if(idx>=i)scoreHtml+='<button type="button" value="'+i+'" id="addField'+fldNo+'" data-fldtpcd="'+fldTpCd+'" onclick="bspkStarating('+i+", "+fldNo+", "+fldTpCd+')"><span class="star-yellow"'+ariaHidden+">별점</span></button>";else scoreHtml+='<button type="button" value="'+i+'" id="addField'+fldNo+'" data-fldtpcd="'+
fldTpCd+'" onclick="bspkStarating('+i+", "+fldNo+", "+fldTpCd+')"><span class="star-gray"'+ariaHidden+">별점</span></button>"}scoreHtml+='<input type="hidden" id="estmScore" name="estmScore" value="'+idx+'"/>';scoreHtml+='<span class="starating-score"><strong> ';scoreHtml+=idx;scoreHtml+="</strong>/5</span>";$(".gradechoice>.review-starating").append(scoreHtml);$("button[value='"+idx+"']").focus()}var multiFileCnt=0;
var multiFileUpload={file:function(callback,mob){multiFileUpload.callBack=callback;multiFileUpload.fileForm("eventComment",mob)},fileForm:function(type,mob){if(multiFileCnt>=10){var alertOverCnt={title:"",content:"더 이상 첨부가 불가능합니다.",callback:"",btnText:"확인"};commonAlert(alertOverCnt);openLayer("commonAlert");return false}$("#multiFileUploadForm").remove();var html=[];html.push('<form name="multiFileUploadForm" id="multiFileUploadForm" method="post" enctype="multipart/form-data">');html.push('\t<div style="display:none;">');
if(mob==undefined)html.push('\t\t<input type="file" name="uploadMultiFile" id="eventUploaddMultiFile" accept=".jpg, .jpeg, .png, .gif, .mp4" />');else if(mob=="camera")html.push('\t\t<input type="file" name="uploadMultiFile" id="eventUploaddMultiFile" accept="image/*" />');else if(mob=="camcorder")html.push('\t\t<input type="file" name="uploadMultiFile" id="eventUploaddMultiFile" accept="video/*" />');html.push('\t\t<input type="hidden" name="uploadType" value="'+type+'">');html.push("\t</div>");
html.push("</form>");$("body").append(html.join(""));$("#eventUploaddMultiFile").click()},afterFileSelect:function(file,exCode){var fldNo="";var errorMsgId="";$.each(addFields,function(idx,obj){if(obj.fldTpCd=="120"){fldNo=obj.fldNo;errorMsgId="#addField"+fldNo+"Err"}});$("#addField"+fldNo).val("attached");$(errorMsgId).hide();if(file.exMsg!=null){var alertExMsg={title:"",content:file.exMsg,callback:"",btnText:"확인"};commonAlert(alertExMsg);openLayer("commonAlert");return}var ext=file.file.fileName.split(".").pop().toLowerCase();
var attachLength=$(".attach-file>ol>li>a").length;for(var i=0;i<attachLength;i++)if(file.file.fileName===$(".attach-file>ol>li>a")[i].title){var alertSameFile={title:"",content:"동일한 파일이 등록되어 있습니다.",callback:"",btnText:"확인"};commonAlert(alertSameFile);openLayer("commonAlert");return}var html="";if(ext!=="mp4"){html+='<li id="'+multiFileCnt+'">';html+='<button type="button" class="delete" name="delFileBtn"><span class="blind">삭제</span></button>';html+='<a href="javascript:;" title="'+file.file.fileName+
'">';html+='<input type="hidden" name="multiImgPath" value="'+file.file.filePath+'"/>';html+='<img src="'+stPath+"xhr/common/imageView?filePath="+file.file.filePath+'" alt="'+file.file.fileName+'">';html+="</a></li>"}else{html+='<li id="'+multiFileCnt+'">';html+='<button type="button" class="delete" name="delFileBtn"><span class="blind">삭제</span></button>';html+='<a href="javascript:;" title="'+file.file.fileName+'">';html+='<input type="hidden" name="multiImgPath" value="'+file.file.filePath+'"/>';
html+='<video muted="muted" loop="loop">';html+='<source src="'+stPath+"xhr/common/imageView?filePath="+file.file.filePath+'" type="video/mp4">';html+="Your browser does not support the video tag.";html+="</video>";html+="</a></li>"}$(".attach-file>ol").append(html);multiFileCnt++;$("#attach-file-btn>p").remove();$("#attach-file-btn").append("<p>(<em>"+multiFileCnt+"</em>/10)</p>");$(".mediaCount").html("<p>(<em>"+multiFileCnt+"</em>/10)</p>");if(multiFileCnt==10)$("#attach-file-btn").hide()}};
$(document).on("change","#eventUploaddMultiFile",function(){waiting.start();$("#multiFileUploadForm").ajaxSubmit({url:stPath+"xhr/common/fileUploadResult",dataType:"json",success:function(result){$("#multiFileUploadForm").remove();waiting.stop();multiFileUpload.callBack(result)},error:function(xhr,status,error){waiting.stop()}})});
$(document).on("click",".attach-file>ol>li button[name=delFileBtn]",function(){$(this).parent().remove();multiFileCnt--;$("#attach-file-btn>p").remove();$("#attach-file-btn").append("<p>(<em>"+multiFileCnt+"</em>/10)</p>");$(".mediaCount").html("<p>(<em>"+multiFileCnt+"</em>/10)</p>");if(multiFileCnt<10)$("#attach-file-btn").show();if(multiFileCnt==0)$.each(addFields,function(idx,obj){if(obj.fldTpCd=="120"){var fldNo=obj.fldNo;$("#addField"+fldNo).val("")}});$("#attachFile").focus()});
function fnGoMembershipPage(){window.location.href=stPath+"membership/membershipJoin/";$(".evt-pop-close").trigger("click")}
function fnCheckSerialNo(){var self=$(this);var $goodsSelect=self.parents(".goodsSelect");var $prevGoodsSelect=self.parents(".goodsSelect").prev();var goodsVal=$prevGoodsSelect.find("ul > li.focused").data("mdlcode");var inputValue=$goodsSelect.find("textarea[name^='inpEnterSerialNum']").val();$goodsSelect.find(".error-msg").hide();var eventFldGrp=$prevGoodsSelect.find("ul > li.focused").data("eventfldgrp");if(goodsVal==undefined||goodsVal==""){makeAlert("제품을 선택하셔야 시리얼 넘버 확인이 가능합니다.");return}if(inputValue==
""){$goodsSelect.find(".error-msg").show();return}var param={serialNo:inputValue,mdlCode:$prevGoodsSelect.find("ul > li.focused").data("mdlcode"),goodsId:$prevGoodsSelect.find("ul > li.focused").data("goods-id"),eventNo:pblcEvtNo};var options={url:stPath+"xhr/event/checkSerialNo",data:param,type:"GET",done:function(data){var result=data.result;$goodsSelect.find("input[name='eventFldGrp']").val(eventFldGrp);if(result.validate=="Y"){makeAlert("제품 시리얼 넘버<br/>확인이 완료되었습니다.");$goodsSelect.find("input[name='serialNumChk']").val(result.validate);
$goodsSelect.find("input[name='serialNum']").val(result.serialNo);$goodsSelect.find("input[name='mdlCode']").val(result.mdlCode)}else if(result.validate=="D"){makeAlert("이미 사용된 시리얼입니다.");$goodsSelect.find("input[name='serialNumChk']").val("N");$goodsSelect.find("input[name='serialNum']").val("");$goodsSelect.find("input[name='mdlCode']").val("")}else{makeAlert("제품 시리얼 넘버를 다시<br/>입력해 주세요.");$goodsSelect.find("input[name='serialNumChk']").val("N");$goodsSelect.find("input[name='serialNum']").val("");
$goodsSelect.find("input[name='mdlCode']").val("")}if(result==="N")$goodsSelect.find("textarea[name='inpEnterSerialNum']").select()}};ajax.call(options)}
function fnCheckBespokeSerialNo(){$("#inpBespokeModel").val($("#inpBespokeModel").val().toUpperCase());$("#inpBespokeSerialNumber").val($("#inpBespokeSerialNumber").val().toUpperCase());var param1={mdlCode:$("#inpBespokeModel").val()};bespokeModel=param1.mdlCode;var options1={url:stPath+"xhr/event/checkBespokeProduct",data:param1,done:function(data){if(data.result.count!=0){bespokeModelValidation=false;$("#inpBespokeModelErr2").hide();$("#inpBespokeErr").hide()}else{$("#inpBespokeModelErr2").show();
$("#inpBespokeModel").focus();bespokeModelValidation=true}}};ajax.call(options1);var param2={srlNo:$("#inpBespokeSerialNumber").val(),mdlCode:$("#inpBespokeModel").val(),eventNo:eventInfo.entryEvent.eventNo};bespokeSerialNumber=param2.srlNo;var options2={url:stPath+"xhr/event/checkBespokeSerialInfo",data:param2,done:function(data){if(data.result.count==-1){bespokeSerialValidation=true;$("#inpBespokeSerialErr3").show();$("#inpBespokeSerialErr2").hide();$("#inpBespokeSerialNumber").focus()}else if(data.result.count!=
0){bespokeSerialValidation=true;$("#inpBespokeSerialErr3").hide();$("#inpBespokeSerialErr2").show();$("#inpBespokeSerialNumber").focus()}else{$("#inpBespokeSerialErr2").hide();$("#inpBespokeSerialErr3").hide();$("#inpBespokeErr").hide();bespokeSerialValidation=false}}};ajax.call(options2)}
function fnGetReplyList(evtNo,so){if(evtNo==undefined||evtNo==""){makeAlert("eventNo가 존재하지 않습니다.");return}stPath=$("#openPop").data("st-path");var param={eventNo:evtNo,fldTpCd:"90",page:so!==undefined?so.page:1,rows:so!==undefined?so.rows:10};var options={url:stPath+"xhr/event/getReplyList",data:param,type:"POST",dataType:"html",done:function(data){$("#review-list").html(data)}};ajax.call(options)}
function fnGetCommentList(evtNo){if(evtNo==undefined||evtNo==""){makeAlert("eventNo가 존재하지 않습니다.");return}else{stPath=$("#openPop").data("st-path");var param={eventNo:evtNo,fldTpCd:"90"};var options={url:stPath+"xhr/event/getCommentList",data:param,type:"POST",dataType:"html",done:function(data){$("#review-list").children().remove();$("#review-list").html(data)}};ajax.call(options)}}
function checkAnswer(qstNo,qstTpCd){var rplCnt=0;var answerCnt=0;if(qstTpCd=="30"){var inputAnswer=$("input[name=answer"+qstNo+"]").val();var answer=$("input[name=answer"+qstNo+"Y]").val();if(inputAnswer==answer){$("#answer"+qstNo+"Err").hide();makeAlert("정답입니다.");$("#qstAnswer"+qstNo).val("Y")}else{$("#answer"+qstNo+"Err").show();makeAlert("아쉽게도 오답입니다.<BR>다시 한번 확인해 주세요.");$("#qstAnswer"+qstNo).val("N")}}else{$("input[name=answer"+qstNo+"]").each(function(idx){var id=$(this).attr("id");var answer=
$("#"+id+"Y").val();if($("#"+id).is(":checked")==true){if(answer=="Y")answerCnt++}else if(answer!="Y")answerCnt++;rplCnt++});if(rplCnt==answerCnt){$("#answer"+qstNo+"Err").hide();makeAlert("정답입니다.");$("#qstAnswer"+qstNo).val("Y")}else{$("#answer"+qstNo+"Err").show();makeAlert("아쉽게도 오답입니다.<BR>다시 한번 확인해 주세요.");$("#qstAnswer"+qstNo).val("N")}}}
function fnPostLayerPop(){var options={oncomplete:function(data){var extraAddr="";if(data.userSelectedType==="R"){if(data.bname!==""&&/[동|로|가]$/g.test(data.bname))extraAddr+=data.bname;if(data.buildingName!==""&&data.apartment==="Y")extraAddr+=extraAddr!==""?", "+data.buildingName:data.buildingName;if(extraAddr!=="")extraAddr=" ("+extraAddr+")"}data.jibunAddress+=extraAddr;data.roadAddress+=extraAddr;fnLoadAddrInfo(data)},width:"100%",height:"100%",maxSuggestItems:5};layerPost.open(options)}
function fnLoadAddrInfo(addrInfo){var html="";var addr="";if(addrInfo.userSelectedType==="R"){html="<p>[도로명]</p>";html+="<p>"+addrInfo.roadAddress+"</p>";addr+="[도로명] "+addrInfo.roadAddress}else{html="<p>[지번명]</p>";html+="<p>"+addrInfo.jibunAddress+"</p>";addr+="[지번명] "+addrInfo.jibunAddress}$("#inpEnterZonecode").val(addrInfo.zonecode);$("#inpEnterAddress").val(addr);$("#inpEnterAddressDiv").empty().append(html);$("#inpEnterAddressDetail").select()}
function fnEmailCheck(email){var str=email.substring(0,2);var exptext=/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/;if(exptext.test(email)==false)if(str!="10"&&str!="82")return false;return true}function fnMobileCheck(phoneNum){var regExp=/(01[016789])([1-9]{1}[0-9]{2,3})([0-9]{4})$/;if(regExp.test(phoneNum))return true;else return false}function fnUrlCheck(url){var regExp=/^(http|https):\/\/[^ "]+$/;if(regExp.test(url))return true;else return false}
function fnOnLimitInputVal(selector){var adrsNm=$(selector).val();adrsNm=adrsNm.replace(/[^a-zA-Zㄱ-힣\u119E\u11A20-9\s]/g,"").replace(/\s+/g," ");var totalByte=0;var macLen=50;var len;for(var i=0;i<adrsNm.length;i++){var oneChar=escape(adrsNm.charAt(i));if(oneChar.length==1)totalByte++;else if(oneChar.indexOf("%u")!=-1)totalByte+=2;else if(oneChar.indexOf("%")!=-1)totalByte++;if(totalByte<=macLen)len=i+1}$(selector).val(adrsNm.substring(0,len))}
function fnOnLimitInputValAtDtlAddr(selector){var dtlAddr=$(selector).val();dtlAddr=dtlAddr.replace(/[^a-zA-Zㄱ-힣\u119E\u11A20-9,-/\s]/g,"").replace(/\s+/g," ");$(selector).val(dtlAddr)}function makeAlert(contentsParam,calback){var contentsparam=contentsParam;var alertData={content:contentsparam,btnText:"확인",callback:calback};commonAlert(alertData);openLayer("commonAlert")}
function makeAlert3(contentsParam,calback){var contentsparam=contentsParam;var alertData={content:contentsparam,btnText:"확인",callback:calback};commonAlert3(alertData);openLayer("commonAlert")}
function commonAlert3(data){$("#commonAlert h2").text(data.title);$("#commonAlert pre").html(data.content);$("#commonAlert a").text(data.btnText);if(data.focusId)$("#commonAlert a").data("focus-id",data.focusId);if(data.callback==="")data.callback=undefined;$("#commonAlert a").attr("onclick","closeLayer('commonAlert',"+data.callback+");");$("#commonAlert a").attr("data-focus-next","commonAlert")}
function eventPopClose3(){$(".evt-pop-close").trigger("click");$("#commonAlert pre").replaceWith("<p style='word-break:keep-all;'></p>");if(eventAddYn=="B2B_SALES_ENQUIRIES")window.location.href=stPath+"support/contactus/sales-enquiries/"}function eventPopClose4(){$(".evt-pop-close").trigger("click");$("#mask").remove()}function eventPopClose(){$(".evt-pop-close").trigger("click")}
function eventSurveyPopClose(){$(".evt-pop-close").trigger("click");$("#popupArea_Event3791").html("");drawSurveyHtmlCode()}function eventBspkPopClose(){$(".evt-pop-close").trigger("click");var offset=$("#exhibitionHeight").offset();$("html, body").animate({scrollTop:offset.top},400)}function fnGoLoginPage(){window.location.href=stPath+"member/indexLogin/?returnUrl="+returnUrl;$(".evt-pop-close").trigger("click")}var currentFileSize=0;var currentFileExe="";
var fileUpload={data:{fldNo:""},file:function(callBack,fldNo){fileUpload.callBack=callBack;fileUpload.fileForm("file","");fileUpload.data.fldNo=fldNo},fileFilter:function(callback,filter){fileUpload.callBack=callback;fileUpload.fileForm("file",filter)},image:function(callback){fileUpload.callBack=callback;fileUpload.fileForm("image","")},certificate:function(callback){fileUpload.callBack=callback;fileUpload.fileForm("certificate","")},fileForm:function(type,filter){var html=[];$("#fileUploadForm").remove();
html.push('<form name="fileUploadForm" id="fileUploadForm" method="post" enctype="multipart/form-data">');html.push('\t<div style="display:none;">');html.push('\t\t<input type="file" name="eventUploadFile" id="eventUploadFile" />');html.push('\t\t<input type="hidden" name="uploadType" value="'+type+'">');html.push('\t\t<input type="hidden" name="filter" value="'+filter+'">');html.push("\t</div>");html.push("</form>");$("body").append(html.join(""));$("#eventUploadFile").click()},callBack:null,objId:null,
afterFileSelect:function(file,exCode){$("#phyPath").val(file.filePath);var html="";var maxSize=10;currentFileSize=file.fileSize;currentFileExe=file.fileExe.toUpperCase();var chkFileExe=false;var alertData1={title:"",content:"",callback:"",btnText:"확인"};if(currentFileExe!="JPG"&&currentFileExe!="PNG"){alertData1.content="JPG, PNG 파일만 첨부 가능합니다.";chkFileExe=true}if(chkFileExe){commonAlert(alertData1);openLayer("commonAlert");$("#addField"+fileUpload.data.fldNo).val("");$("input[name$='"+fileUpload.data.fldNo+
"']").val("");return}if(currentFileSize>maxSize*1024*1024){var alertData2={title:"",content:"이미지는 최대 10MB까지 첨부 가능합니다.",callback:"",btnText:"확인"};commonAlert(alertData2);openLayer("commonAlert");return}if($(".file-list"+fileUpload.data.fldNo).children("li").length>=1){var alertData3={title:"",content:"파일은 1개만 첨부 가능합니다.",callback:"",btnText:"확인"};commonAlert(alertData3);openLayer("commonAlert");return}html+="<li>";html+="\t<span>"+file.fileName+"</span>";html+='\t<button type="button" class="ico-del-s" onclick="fileRemove(\''+
fileUpload.data.fldNo+"')\">";html+='\t\t<span class="blind">첨부파일 삭제</span>';html+="\t</button>";html+="</li>";$(".file-list"+fileUpload.data.fldNo).append(html)}};
function fnFileUploadCallBack(result,exCode){var rsltFldNo=fileUpload.data.fldNo;$("#addField"+rsltFldNo).val(result.fileName);$("#fileExe"+rsltFldNo).val(result.fileExe);$("#fileName"+rsltFldNo).val(result.fileName);$("#filePath"+rsltFldNo).val(result.filePath);$("#fileSize"+rsltFldNo).val(result.fileSize);$("#fileType"+rsltFldNo).val(result.fileType);fileUpload.afterFileSelect(result,exCode)}
function fileRemove(fldNo){$(".file-list"+fldNo).children("li").eq(0).remove();$("#addField"+fldNo).val("")}
$(document).on("change","#eventUploadFile",function(){waiting.start();$("#fileUploadForm").ajaxSubmit({url:stPath+"xhr/common/fileUploadResult.do",dataType:"json",success:function(result){waiting.stop();$("#fileUploadForm").remove();if(result.exCode==null||result.exCode==="")if(fileUpload.callBack===undefined||fileUpload.callBack==null)fnFileUploadCallBack(result.file,result.exCode);else fileUpload.callBack(result.file,result.exCode);else makeAlert(result.exMsg)},error:function(xhr,status,error){waiting.stop();
if(xhr.status===1E3)makeAlert("세션이 종료되었습니다.");else makeAlert("오류가 발생되었습니다.<BR>관리자에게 문의하십시요.["+xhr.status+"]["+error+"]")}})});function fnSearchFile(fldNo){fileUpload.file(fnFileUploadCallBack,fldNo)}$(document).on("click",".chkAns",function(){var qstNo=$(this).attr("arg1");var qstTpCd=$(this).attr("arg2");checkAnswer(qstNo,qstTpCd)});$(document).on("click","#inpEnterZonecode, #zoneCodeBtn",function(){fnPostLayerPop()});$(document).on("click","#eventSaveBtn",function(){fnSaveEventEntry()});
$(document).on("click","#reservationBtn",function(){if(entryEvent.eventAddYn=="B2C_PLAZA_DOCENT"||entryEvent.eventAddYn=="B2C_PLAZA_DOCENT_CAMPUS"){var ctt=$("#inpEnterCall").val();if(!fnMobileCheck(ctt)){var alertData={title:"",content:"올바른 형식의 연락처를 입력하세요.",btnText:"닫기",callback:fnFocusCtt};commonAlert(alertData);openLayer("commonAlert")}else{stPath=$("#openPop").data("st-path");var param={eventNo:entryEvent.eventNo,ctt:ctt};var options={url:stPath+"xhr/event/checkEntryConstraints",data:param,type:"POST",
done:function(data){var result=data.result;if(result.cttCnt>1){var alertData={content:"이미 응모한 연락처 입니다.",btnText:"닫기",callback:fnFocusCtt};commonAlert(alertData);openLayer("commonAlert")}else fnSaveEventEntry()}};ajax.call(options)}}else fnSaveEventEntry()});function fnFocusCtt(){$("#inpEnterCall").focus()}$(document).on("click","#eventSurveySaveBtn",function(){fnSaveEventSurvey()});
$(document).on("click","#chk-enter-all",function(){var allChked=$(this).prop("checked");$(".inp-terms").each(function(){$(this).prop("checked",allChked)})});$(document).on("keyup keydown","#inpEnterName",function(){fnOnLimitInputVal($(this))});$(document).on("keyup keydown","#inpEnterAddressDetail",function(){fnOnLimitInputValAtDtlAddr($(this))});var content;$(document).on("keyup","#inpEnterSns",function(){content=$(this).val();$(".sns-count").html("<em class='strong'>"+content.length+"</em> / 500자")});
var content2;$(document).on("input","textarea[name=inpEnterSerialNum]",function(){content2=$(this).val();$(this).parent().find(".serial-count").html("<em class='strong'>"+content2.length+"</em> / 500자")});var content3;$(document).on("input","textarea[name=bspk-txt-fld]",function(){content3=$(this).val();$(".bspk-count").html("<strong id='counter'>"+content3.length+"</strong>자 / 5000")});var content4;
$(document).on("keyup",".textAreaLen",function(){content4=$(this).val();$(this).parent().find(".textarea-count").html("<em class='strong'>"+content4.length+"</em> / 1000자")});$(document).on("keyup keydown","input[name=inputMdlCode]",function(){$("#bspkMdBtn").show();$("#bspkMdChk").val("unchecked")});$(document).on("click","button[name=chkSerialNoBtn]",fnCheckSerialNo);$(document).on("click","button[name=chkBespokeSerialNoBtn]",fnCheckBespokeSerialNo);
$(document).on("keyup","input:text[numberOnly]",function(){$(this).val($(this).val().replace(/[^0-9]/g,""))});$(document).on("click","#microSiteDetailView",function(){var microSiteShopNo=$("input[name=radio-store]:checked").data("shop-no");var microSiteUrl=stPath+"digitalplaza/storeDetail/"+microSiteShopNo;window.open(microSiteUrl);$("#microSiteUrl").val(microSiteUrl)});
$(document).on("click",".btn-tooltop02",function(){var target=$(this).data("tooltip");var goodsVal=$("input[name='chk-goods']:checked").val();var imgUrl="";$(".serialno-usetip").css("z-index",1E3);$.each(goodsSerialInfos,function(idx,val){var goodsId=val.goodsId;if(goodsId==goodsVal)imgUrl="//"+val.serialImgPath});if(imgUrl!=""){$("#serialImg").attr("src",imgUrl);tooltipCenterTop(this,target,380)}});
function fnSaveEventEntry(){$("#focusTarget").val("");if(fnValidationCheck()){if($("#inpEnterSns").val()){var snsUrl=$("#inpEnterSns").val();snsUrl=snsUrl.trim().replace(/^(http|https):\/\//,"");$("#inpEnterSns").val(snsUrl)}$("#addFieldArea").children(".inp-box").each(function(){var $addFieldId=$(this).find("[id^='addField']");var fldtpcd=$addFieldId.data("fldtpcd");if(fldtpcd===10||fldtpcd===20||fldtpcd===90){var fldVal=$addFieldId.val();fldVal=fldVal.trim().replace(/^(http|https):\/\//,"");$addFieldId.val(fldVal)}});
createJsonStr();createVoteJsonStr();var options={url:stPath+"xhr/event/insertEventEntry",data:$("#eventEntryPopFrm").serialize(),done:function(data){var result=data.result;if(result.eventAddYn!=undefined&&result.eventAddYn=="B2C_BSPK_JOIN_2021"){var alertData={content:"BESPOKE 클럽 가입하기 이벤트에 참여해 주셔서 감사합니다.<br>클럽 가입 고객만을 위한 혜택을 놓치지 마세요",btnText:"닫기",callback:eventPopClose};commonAlert(alertData);openLayer("commonAlert")}else if(result.eventAddYn!=undefined&&result.eventAddYn=="B2C_BSPK_BOAST_2021"){var alertData=
{content:"BESPOKE 클럽 자랑하기 이벤트에 참여해 주셔서 감사합니다.<br>작성한 상품평은 관리자가 확인하여<br>승인 후에 자랑하기 이벤트 게시판과<br>해당 상품의 상품평 목록에 게시됩니다.",btnText:"닫기",callback:eventBspkPopClose};commonAlert(alertData);openLayer("commonAlert")}else if(result.resultCd=="success"&&eventAddType=="B2C_LIVE_ALARM"){makeAlert(result.resultMsg,eventPopClose);fnGetEventEntryInfo(entryEvent.eventNo)}else if(result.resultCd=="success"&&eventAddType=="B2C_POSITION_PRIVACY"){eventPopClose();fnGetEventEntryInfo()}else if(result.resultCd=="success"&&
eventAddType=="B2B2C_SALE_FESTA")makeAlert(result.resultMsg,eventPopClose);else if(result.resultCd=="success"&&eventAddType=="B2C_GALAXY_PREALARM_2023"){var surRcvSelFlag=$("input[data-chkgrp-name=checkEventEnter].plcyGbCd40").is(":checked");$("#commonAlert p").replaceWith("<pre style='word-break:keep-all;'></pre>");var $mktRcvSelPos=$("#privacyPolicy .inp-terms").not(".entryAgreeY").not(".plcyGbCd20");var curTime=toTimeString(new Date,"Y");var mbrNm=$("#inpEnterName").val();curTime=curTime.substring(0,
4)+"년"+" "+curTime.substring(4,6)+"월"+curTime.substring(6,8)+"일"+" "+curTime.substring(8,10)+":"+curTime.substring(10,12)+":"+curTime.substring(12,14)+"에<br><br>";var resultMsgText="";var resultStrText=mbrNm+" 고객님<br><br>"+curTime;var resultMidText="이벤트를 위한<br>";var resultEndText=result.resultMsg;var chkYCnt=0;var chkNCnt=0;var plcyGbCd40Flag=false;if($mktRcvSelPos.length>1){var termsTitArr=new Array;var termsTitAgreeArr=new Array;$mktRcvSelPos.each(function(){var termsTitTxt="";var termsTitAgreeTxt=
"";if($(this).is(":checked")==false){if($(this).hasClass("plcyGbCd40"))plcyGbCd40Flag=true;termsTitTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)","");termsTitArr.push(termsTitTxt)}else{termsTitAgreeTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)","");termsTitAgreeArr.push(termsTitAgreeTxt)}});if(termsTitArr.length>0)for(var i=0;i<termsTitArr.length;i++){resultMidText+=$.trim(termsTitArr[i]);if(i==termsTitArr.length-1){resultMidText+=
"<br>'미동의'하셨습니다.<br>";if(plcyGbCd40Flag)resultMidText+="<br>동의 하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없으며<br>추가 설문조사에 참여하실 수 없습니다.";else resultMidText+="<br>동의 하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.";resultMidText+="<br><br>"}else resultMidText+=",<br> "}else{resultMidText="";for(var i=0;i<termsTitAgreeArr.length;i++){resultMidText+=$.trim(termsTitAgreeArr[i]);if(i==termsTitAgreeArr.length-1){resultMidText+="<br>'동의'하셨습니다.<br><br>";resultMidText+="앞으로 SMS 및 이메일을 통해<br>광고성 정보가 안내됩니다.";resultMidText+=
"<br><br>"}else resultMidText+=",<br> "}}}resultMsgText=resultStrText+resultMidText+resultEndText;makeAlert3(resultMsgText,eventPopClose3);if(surRcvSelFlag){joinNo=result.joinNo;makeAlert3(resultMsgText,eventSurveyPopClose)}else makeAlert3(resultMsgText,eventPopClose)}else{if(eventAddType=="B2B2C_9ALAXY_DAY")certificationKcbFlag=false;if(eventAddType=="B2C_TNKFACTORY")$.getScript("//api3.tnkfactory.com/tnk/js/tnk-webapi-cpatrack.1.4.js",function(){TnkSession.actionCompleted()});if(eventAddYn=="B2C_MAISON")certificationKcbFlag=
false;$("#commonAlert p").replaceWith("<pre style='word-break:keep-all;'></pre>");var $mktRcvSelPos=$("#privacyPolicy .inp-terms").not(".entryAgreeY").not(".plcyGbCd20");var curTime=toTimeString(new Date,"Y");var mbrNm=$("#inpEnterName").val();curTime=curTime.substring(0,4)+"년"+" "+curTime.substring(4,6)+"월"+curTime.substring(6,8)+"일"+" "+curTime.substring(8,10)+":"+curTime.substring(10,12)+":"+curTime.substring(12,14)+"에<br><br>";var resultMsgText="";var resultStrText=mbrNm+" 고객님<br><br>"+curTime;
var resultMidText="";var resultEndText=result.resultMsg;var chkYCnt=0;var chkNCnt=0;if($mktRcvSelPos.length>1){var termsTitArr=new Array;var termsTitAgreeArr=new Array;resultMidText="이벤트를 위한<br>";$mktRcvSelPos.each(function(){var termsTitTxt="";var termsTitAgreeTxt="";if($(this).is(":checked")==false){termsTitTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)","");termsTitArr.push(termsTitTxt)}else{termsTitAgreeTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)",
"");termsTitAgreeArr.push(termsTitAgreeTxt)}});if(termsTitArr.length>0)for(var i=0;i<termsTitArr.length;i++){resultMidText+=$.trim(termsTitArr[i]);if(i==termsTitArr.length-1){resultMidText+="<br>'미동의'하셨습니다.<br>";resultMidText+="<br>동의 하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.";resultMidText+="<br><br>"}else resultMidText+=",<br> "}else{resultMidText="";for(var i=0;i<termsTitAgreeArr.length;i++){resultMidText+=$.trim(termsTitAgreeArr[i]);if(i==termsTitAgreeArr.length-1){resultMidText+="<br>'동의'하셨습니다.<br><br>";
resultMidText+="앞으로 SMS 및 이메일을 통해<br>광고성 정보가 안내됩니다.";resultMidText+="<br><br>"}else resultMidText+=",<br> "}}}resultMsgText=resultStrText+resultMidText+resultEndText;makeAlert3(resultMsgText,eventPopClose3);for(var i=0;i<eventGbFields.length;i++)if(eventGbFields[i].eventFldTpCd=="07"){fnGetDcntAply(pblcEvtNo);break}}if(result.resultCd=="success")adbrixCustomEvent(entryEvent.ttl,pblcEvtNo)}};if(entryEvent.eventGbCd!="80")$(".btn-box").removeAttr("style");for(var i=0;i<eventGbFields.length;i++)if(eventGbFields[i].eventFldTpCd==
"07"){$("#eventBtn_Area_div").hide();break}if(isPreView)return;oneTimeChk=false;ajax.call(options)}else{var id=$("#focusTarget").val();var type=$("#focusTargetType").val();if(type=="")setTimeout(function(){$("#"+id).focus()},1);else $("input[name="+id+"]").focus();return}}
function fnValidationCheck(){var passyn="Y";var evtGbFlds=[];if(eventGbFields!=undefined)for(var idx=0;idx<eventGbFields.length;idx++)evtGbFlds.push(eventGbFields[idx].eventFldTpCd);$(".error-msg").hide();if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show();var collectItem={10:{id:"inpEnterName",errId1:"inpEnterNameErr",errId2:"inpEnterNameErr",callback:null},20:{id:"inpEnterCall",errId1:"inpEnterCallErr",errId2:"inpEnterCallErr2",callback:fnMobileCheck},30:{id:"inpEnterEmail",
errId1:"inpEnterEmailErr",errId2:"inpEnterEmailErr2",callback:fnEmailCheck},40:{id:"inpEnterZonecode",errId1:"inpEnterZonecodeErr",errId2:"inpEnterZonecodeErr",callback:null},50:{id:"inpEnterSns",errId1:"inpEnterSnsErr",errId2:"inpEnterSnsErr2",callback:fnUrlCheck},60:{id:"inpCounselMembership",errId1:"inpCounselMembershipErr",errId2:"inpCounselMembershipErr",callback:null}};$.each(collectItems,function(idx,val){var collectItemId=collectItem[val.collectItemCd].id;var collectItemErrId=collectItem[val.collectItemCd].errId1;
var collectItemVal=$("#"+collectItemId).val();if(collectItemVal==""){$("#"+collectItemErrId).show();passyn="N";fnFocusIdSet(collectItemId)}});var validationSubResult;var chkArr=["20","30","50"];$.each(chkArr,function(i,val){validationSubResult=fnValidationSub(collectItem[val]);if(!validationSubResult){passyn="N";fnFocusIdSet(collectItem[val].id)}});passyn=fnValidationAddFieldsChk(passyn);if(eventGbCd=="40"||evtGbFlds.indexOf("01")>-1||evtGbFlds.indexOf("06")>-1)$("#eventNm").val(entryEvent.ttl);if(eventGbCd==
"50"||evtGbFlds.indexOf("02")>-1)passyn=fnValidationChk50(passyn);if(eventGbCd=="60"||evtGbFlds.indexOf("03")>-1)passyn=fnValidationChk60(passyn);if(evtGbFlds.indexOf("04")>-1)passyn=fnValidationChk70(passyn);if(eventGbCd=="80"||evtGbFlds.indexOf("05")>-1){$("#visPlazaNo").val($("input[name=radio-store]:checked").val());$("#visShopNo").val($("input[name=radio-store]:checked").data("shop-no"));$("#visPathTpCd").val($("input[name=radio-store]:checked").data("path-tp-cd"));$("#visPlazaNm").val($("input[name=radio-store]:checked").next().text());
$("#visHopeDt").val($("#visitDate").val());$("#eventNm").val(entryEvent.ttl);var seletedPlazaNo=$("input[name=radio-store]:checked").val();if(seletedPlazaNo==undefined){passyn="N";$("#radio-store1Err").show();fnFocusIdSet("radio-store1")}}if(evtGbFlds.indexOf("07")>-1){$("#visPlazaNo").val($("input[name=radio-store]:checked").val());$("#visShopNo").val($("input[name=radio-store]:checked").data("shop-no"));$("#visPathTpCd").val($("input[name=radio-store]:checked").data("path-tp-cd"));$("#visPlazaNm").val($("input[name=radio-store]:checked").next().text());
var visHopeDt=$docentCal.val();var withPrsnNum=getWithPrsnNum();var visTimeCdNm=$("ul[data-fldtpcd='50']").children("li.focused").text();var timeCd=$("ul[data-fldtpcd='50']").children("li.focused").data("dcnt-time-cd");var visWithPrsnNumNm=$("ul[data-fldtpcd='30']").children("li.item").children("input:checked").val();$("#visTimeCdNm").val(visTimeCdNm);$("#visWithPrsnNumNm").val(visWithPrsnNumNm);$("#visHopeDt").val(visHopeDt);$("#visTimeCd").val(timeCd);$("#visWithPrsnNum").val(withPrsnNum);$("#eventNm").val(entryEvent.ttl);
var seletedPlazaNo=$("input[name=radio-store]:checked").val();if(seletedPlazaNo==undefined){passyn="N";$("#radio-store1Err").show();fnFocusIdSet("radio-store1")}}if(evtGbFlds.indexOf("08")>-1)passyn=fnValidationChk80(passyn);passyn=fnValidationPrivacyPolicy(passyn);return passyn=="Y"?true:false}function fnValidationSub(obj){var value=$("#"+obj.id).val();if(value!=""){var chkFlag=obj.callback(value);if(!chkFlag){$("#"+obj.errId2).show();return false}}return true}
function fnValidationChk50(passyn){$("textarea[name='inpEnterSerialNum']").each(function(idx){$(this).attr("id","inpEnterSerialNum"+idx);var $prevGoodsSelect=$(this).parents(".goodsSelect").prev();var $goodsSelect=$(this).parents(".goodsSelect");var goodsVal=$prevGoodsSelect.find("ul > li.focused").data("mdlcode");if(goodsVal==undefined||goodsVal==""){$prevGoodsSelect.find(".error-msg").show();passyn="N";fnFocusIdSet($prevGoodsSelect.find("ul > li.focused").attr("id"))}var inpEnterSerialId="#inpEnterSerialNum"+
idx;if($(inpEnterSerialId).val()==""||$goodsSelect.find("input[name='serialNumChk']").val()=="N"){$goodsSelect.find(".error-msg").show();passyn="N";fnFocusIdSet($(inpEnterSerialId).attr("id"))}});return passyn}
function fnValidationChk60(passyn){var failCnt=0;var focusId;var tpCd;var ulClassNm;$("input[name=qstAnswer]").each(function(){ulClassNm=$(this).attr("id");var errMsgIdCd=ulClassNm.replaceAll("qstAnswer","");if($(this).val()=="N"){failCnt++;if(failCnt==1){tpCd=$(this).data("qsttpcd");if(tpCd=="30")fnFocusIdSet("answer"+errMsgIdCd);else{focusId=$("."+ulClassNm+" > li").children(":eq(0)").attr("id");fnFocusIdSet(focusId)}}$("#answer"+errMsgIdCd+"Err").show()}});if(failCnt>0)passyn="N";return passyn}
function fnValidationChk70(passyn){$.each(voteQuestionInfos,function(idx,val){var voteQstNo=val.qstNo;var voteQstTpCd=val.qstTpCd;var voteQstNm=val.qstNm;var errorMsgId="#voteAnswer"+voteQstNo+"Err";if(voteQstTpCd=="30"){var inputValue=$("input[name='voteAnswer"+voteQstNo+"']").val();if(inputValue==undefined||inputValue==""){$(errorMsgId).show();passyn="N";fnFocusIdSet("voteAnswer"+voteQstNo,"name")}}else if(voteQstTpCd=="20"){var inputVal=$("input[name='voteAnswer"+voteQstNo+"']:checked").val();
if(inputVal==undefined||inputVal==""){$(errorMsgId).show();passyn="N";if($(".dropButton"+voteQstNo).hasClass("open")===false)$(".dropButton"+voteQstNo).click();fnFocusIdSet("voteAnswer"+voteQstNo,"name")}}else if(voteQstTpCd=="10"){var chkCnt=0;var inputVal=$("input[name='voteAnswer"+voteQstNo+"']:checked").val();$("input[name='voteAnswer"+voteQstNo+"']:checked").each(function(){if($(this).val()!="")chkCnt++});if(chkCnt==0){$(errorMsgId).show();passyn="N";if($(".dropButton"+voteQstNo).hasClass("open")===
false)$(".dropButton"+voteQstNo).click();fnFocusIdSet("voteAnswer"+voteQstNo,"name")}}});return passyn}
function fnValidationChk80(passyn){if($("#inpBespokeModel").val()==""||$("#inpBespokeModel").val()==undefined||$("#inpBespokeModel").val()==" "){$("#inpBespokeModelErr").show();fnFocusIdSet("inpBespokeModel");passyn="N"}else $("#inpBespokeModelErr").hide();if($("#inpBespokeSerialNumber").val()==""||$("#inpBespokeSerialNumber").val()==undefined||$("#inpBespokeSerialNumber").val()==" "){$("#inpBespokeSerialErr").show();fnFocusIdSet("inpBespokeSerialNumber");passyn="N"}else $("#inpBespokeSerialErr").hide();
if(bespokeModelValidation){fnFocusIdSet("inpBespokeModel");$("#inpBespokeErr").show();passyn="N"}else if($("#inpBespokeModel").val()!=bespokeModel){fnFocusIdSet("inpBespokeModel");$("#inpBespokeErr").show();passyn="N"}if(bespokeSerialValidation){fnFocusIdSet("inpBespokeSerialNumber");$("#inpBespokeErr").show();passyn="N"}else if($("#inpBespokeSerialNumber").val()!=bespokeSerialNumber){fnFocusIdSet("inpBespokeSerialNumber");$("#inpBespokeErr").show();passyn="N"}if($("#inpBespokePrdBuyDtm").val()==
""){fnFocusIdSet("inpBespokePrdBuyDtm");$("#inpBespokePrdBuyDtmErr").show();passyn="N"}else $("#inpBespokePrdBuyDtmErr").hide();if(!$("input[name='inpBespokePrdStoreNm']").is(":checked")){fnFocusIdSet("bspkPanelStoreCd");$("#bspkPanelStoreCdErr").show();passyn="N"}else $("#bspkPanelStoreCdErr").hide();return passyn}
function fnValidationPrivacyPolicy(passyn){var plcyAltYn=entryEvent.plcyAltYn;var isRqidChkPlcy=true;$("#privacyPolicy .entryAgreeY").each(function(idx,item){var id=$(item).attr("id");if($("#"+id).is(":checked")==false){$("#err-"+id).show();passyn="N";fnFocusIdSet(id)}});var alertContent="";if(passyn!="N")if(eventAddType=="B2C_GALAXY_PREALARM_2023"){var $optPolicy=$("#privacyPolicy .inp-terms").not(".entryAgreeY").not(".plcyGbCd20");var plcyGbCd40Flag=false;if($optPolicy.length>1){var termsTitArr=
new Array;$optPolicy.each(function(){var termsTitTxt="";if($(this).is(":checked")==false){if($(this).hasClass("plcyGbCd40"))plcyGbCd40Flag=true;termsTitTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)","");termsTitArr.push(termsTitTxt);isRqidChkPlcy=false}});if(termsTitArr.length>0)for(var i=0;i<termsTitArr.length;i++){alertContent+=$.trim(termsTitArr[i]);if(i==termsTitArr.length-1){if(plcyGbCd40Flag)alertContent+="<br>하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없으며<br>추가 설문조사에 참여하실 수 없습니다.";
else alertContent+="<br>하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.";alertContent+="<br><br>";for(var i=0;i<termsTitArr.length;i++)alertContent+="["+$.trim(termsTitArr[i])+"]<br>";alertContent+="<br>";alertContent+="동의 항목을 한 번 더 확인해주세요."}else alertContent+=",<br> "}}else if($optPolicy.length==1){isRqidChkPlcy=$optPolicy.eq(0).prop("checked");var termsTitTxt=$optPolicy.parents(".terms-wrap").children(".terms-tit").text().replace("동의(선택)","");alertContent=$.trim(termsTitTxt)+"에<br>동의하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.<br>["+
$.trim(termsTitTxt)+"]<br>동의 여부를 확인해주세요."}}else{var $optPolicy=$("#privacyPolicy .inp-terms").not(".entryAgreeY").not(".plcyGbCd20");if($optPolicy.length>1){var termsTitArr=new Array;$optPolicy.each(function(){var termsTitTxt="";if($(this).is(":checked")==false){termsTitTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)","");termsTitArr.push(termsTitTxt);isRqidChkPlcy=false}});if(termsTitArr.length>0)for(var i=0;i<termsTitArr.length;i++){alertContent+=$.trim(termsTitArr[i]);
if(i==termsTitArr.length-1){alertContent+="<br>하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.";alertContent+="<br><br>";for(var i=0;i<termsTitArr.length;i++)alertContent+="["+$.trim(termsTitArr[i])+"]<br>";alertContent+="<br>";alertContent+="동의 항목을 한 번 더 확인해주세요."}else alertContent+=",<br> "}}else if($optPolicy.length==1){isRqidChkPlcy=$optPolicy.eq(0).prop("checked");var termsTitTxt=$optPolicy.parents(".terms-wrap").children(".terms-tit").text().replace("동의(선택)","");alertContent=$.trim(termsTitTxt)+"에<br>동의하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.<br>["+
$.trim(termsTitTxt)+"]<br>동의 여부를 확인해주세요."}}if(plcyAltYn=="Y")if(passyn=="Y")if(!oneTimeChk&&!isRqidChkPlcy){var alertData={title:"",content:alertContent,callback:"",btnText:"확인"};commonAlert(alertData);openLayer("commonAlert");passyn="N";oneTimeChk=true}else if(oneTimeChk&&!isRqidChkPlcy)passyn="Y";return passyn}
function fnValidationAddFieldsChk(passyn){$.each(addFields,function(idx,item){var id="addField"+item.fldNo;var fldTpCd=item.fldTpCd;var errorMsgId="#"+id+"Err";var fldValOptYn=item.fldValOptYn==null||item.fldValOptYn===undefined?"N":item.fldValOptYn;var fldTpCdArr_10_20_60_90_130=["10","20","60","90","130"];if(fldValOptYn=="N")if(fldTpCdArr_10_20_60_90_130.indexOf(fldTpCd)>-1)if($("#"+id).val()==""){$(errorMsgId).show();passyn="N";fnFocusIdSet(id)}else{if(eventInfo.entryEvent.eventNo=="30307"&&fldTpCd==
"90"){var content=$("#"+id).val();if(content.length<10){makeAlert("내용은 최소 10자 이상으로 입력해 주세요.");passyn="N"}else if(content.length>5E3){makeAlert("내용은 최대 5,000자 이하로 입력해 주세요.");passyn="N"}}}else if(fldTpCd=="30"){var inputValue=$("input[name='"+id+"']:checked").val();if(inputValue==undefined||inputValue==""){$(errorMsgId).show();passyn="N";fnFocusIdSet(id,"name")}}else if(fldTpCd=="40"){var chkCnt=0;$("input[name='"+id+"']:checked").each(function(){if($(this).val()!="")chkCnt++});if(chkCnt==0){$(errorMsgId).show();
passyn="N";fnFocusIdSet(id,"name")}}else if(fldTpCd=="50"){var selText=$("#"+id+" li.focused").text();if(selText==""){$(errorMsgId).show();passyn="N";fnFocusIdSet(id+"Btn")}}else if(fldTpCd=="100"){var modelChkFlag=$("#bspkMdChk").val();if($("#"+id).val()==""||modelChkFlag!="checked"){$(errorMsgId).show();passyn="N";fnFocusIdSet(id)}}else if(fldTpCd=="120")if($("#"+id).val()==""){$(errorMsgId).show();passyn="N";fnFocusIdSet("attachFile")}});return passyn}
function fnFocusIdSet(targetId,type){if($("#focusTarget").val()==""){$("#focusTarget").val(targetId);if(type!="")$("#focusTargetType").val(type)}}
function createJsonStr(){var jsonStr=new Object;var rowArr=new Array;var index=0;$.each(addFields,function(idx,item){var jobj=new Object;var id="addField"+item.fldNo;var fldTpCd=item.fldTpCd;if(fldTpCd=="10"||fldTpCd=="20"||fldTpCd=="90"||fldTpCd=="100"||fldTpCd=="130"){var inputValue126=$("#"+id).val();if(inputValue126!=""){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+"";jobj.fldNm=item.fldNm;jobj.fldVal=inputValue126;rowArr.push(jobj);jsonStr.addFieldList=rowArr}index++}else if(fldTpCd==
"30"){var inputValue3=$("input[name='"+id+"']:checked").val();if(inputValue3!=undefined&&inputValue3!=""){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+"";jobj.fldNm=item.fldNm;jobj.fldVal=inputValue3;rowArr.push(jobj);jsonStr.addFieldList=rowArr}index++}else if(fldTpCd=="40"){$("input[name='"+id+"']:checked").each(function(a,b){var obj2=new Object;obj2.fldNo=item.fldNo+"";obj2.fldGrp=item.fldGrp;obj2.fldTpCd=item.fldTpCd+"";obj2.fldNm=item.fldNm;obj2.fldVal=$(this).val();
rowArr.push(obj2);jsonStr.addFieldList=rowArr});index++}else if(fldTpCd=="50"){var selText=$("#"+id+" li.focused").text();if(selText!=""){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+"";jobj.fldNm=item.fldNm;jobj.fldVal=selText;rowArr.push(jobj);jsonStr.addFieldList=rowArr}index++}else if(fldTpCd=="60"){var inputValue126=$("#"+id).val();var filePath=$("#filePath"+item.fldNo).val();var fileSize=$("#fileSize"+item.fldNo).val();if(inputValue126!="")if(item.fldVal!=""&&item.fldVal!=
null&&item.fldVal!=undefined){var fldValMeta=item.fldVal.split(",");if(fldValMeta.length==1){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+"";jobj.fldNm=item.fldNm;if(eventAddYn=="B2B2C_SALE_FESTA")jobj.fldVal=inputValue126+";"+filePath+";"+fileSize;else jobj.fldVal=inputValue126+";"+filePath;jobj.fldValMeta=fldValMeta[0];rowArr.push(jobj);jsonStr.addFieldList=rowArr}else if(fldValMeta.length==2){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+
"";jobj.fldNm=item.fldNm;if(eventAddYn=="B2B2C_SALE_FESTA")jobj.fldVal=inputValue126+";"+filePath+";"+fileSize;else jobj.fldVal=inputValue126+";"+filePath;jobj.fldValMeta=fldValMeta[0];rowArr.push(jobj);jsonStr.addFieldList=rowArr;if(eventAddYn=="N"){var jobj2=new Object;jobj2.fldNo=item.fldNo+1+"";jobj2.fldGrp=item.fldGrp;jobj2.fldTpCd=item.fldTpCd+"";jobj2.fldNm=item.fldNm;jobj2.fldVal=inputValue126+";"+filePath;jobj.fldValMeta=fldValMeta[1];rowArr.push(jobj2);jsonStr.addFieldList=rowArr}}}index++}else if(fldTpCd==
"110"){var starating=$("#estmScore").val();if(starating!=""&&starating!=undefined&&starating!=null){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+"";jobj.fldNm=item.fldNm;jobj.fldVal=starating;rowArr.push(jobj);jsonStr.addFieldList=rowArr}index++}else if(fldTpCd=="120"){var multiImgPath=new Array;var addMultiImgPathArr=$("input[name=multiImgPath]");if($(addMultiImgPathArr).length>0)for(var i=0;i<addMultiImgPathArr.length;i++)multiImgPath.push($(addMultiImgPathArr[i]).val());
index++;if(multiImgPath!=null&&multiImgPath!=undefined&&multiImgPath!=""){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.fldTpCd=item.fldTpCd+"";jobj.fldNm=item.fldNm;jobj.fldVal=multiImgPath;rowArr.push(jobj);jsonStr.addFieldList=rowArr}}});var rowArrPlcy=new Array;$(".plcyGbCd20").prop("checked",true);$("input[data-chkgrp-name=checkEventEnter]").each(function(idx,item){var plcyObj=new Object;var id=$(item).attr("id");plcyObj.policyNo=$("#"+id).data("policyno")+"";plcyObj.fldGrp=idx;if($("#"+
id).is(":checked")==true)plcyObj.seletedYn="Y";else plcyObj.seletedYn="N";rowArrPlcy.push(plcyObj);jsonStr.plcyAgreeList=rowArrPlcy;index++});var biztalkUseYn=$("#biztalkUseYn").val();if(biztalkUseYn=="Y"){var mktRcvSelYnLen=$("input[data-chkgrp-name=checkEventEnter].plcyGbCd30").length;var plcyGbCd30idx=0;$("input[data-chkgrp-name=checkEventEnter].plcyGbCd30").each(function(idx,item){var id=$(item).attr("id");if($("#"+id).is(":checked")==true)plcyGbCd30idx++});if(mktRcvSelYnLen==plcyGbCd30idx)$("#mktRcvSelYn").val("Y");
else $("#mktRcvSelYn").val("N")}if(index==0)$("#jsonStr").val("noData");else $("#jsonStr").val(JSON.stringify(jsonStr))}
function createVoteJsonStr(){var voteInfo=new Object;voteInfo.rdoBox=[];voteInfo.txtBox=[];voteInfo.chkBox=[];$.each(voteQuestionInfos,function(idx,val){var rplInfo=new Array;var voteQstNo=val.qstNo;var voteQstTpCd=val.qstTpCd;var voteQstNm=val.qstNm;var errorMsgId="#voteAnswer"+voteQstNo+"Err";var jobj=new Object;if(voteQstTpCd=="30"){var inputValue=$("input[name='voteAnswer"+voteQstNo+"']").val();var rplNo=$("input[name='voteAnswer"+voteQstNo+"']").data("rplno");jobj.qstNo=voteQstNo;jobj.qstTpCd=
voteQstTpCd;jobj.qstNm=voteQstNm;jobj.rplNo=rplNo;jobj.rplInfo=inputValue;voteInfo.txtBox.push(jobj)}else if(voteQstTpCd=="20"){var inputValue=$("input[name='voteAnswer"+voteQstNo+"']:checked").val();var rplNo=$("input[name='voteAnswer"+voteQstNo+"']:checked").data("rplno");jobj.qstNo=voteQstNo;jobj.qstTpCd=voteQstTpCd;jobj.qstNm=voteQstNm;jobj.rplNo=rplNo;jobj.rplInfo=inputValue;voteInfo.rdoBox.push(jobj)}else if(voteQstTpCd=="10"){var rplNo=new Array;var rplVal=new Array;var inputVal=$("input[name='voteAnswer"+
voteQstNo+"']:checked").val();$("input[name='voteAnswer"+voteQstNo+"']:checked").each(function(){if($(this).val()!=""){rplNo.push($(this).data("rplno"));rplVal.push($(this).val())}});jobj.qstNo=voteQstNo;jobj.qstTpCd=voteQstTpCd;jobj.qstNm=voteQstNm;jobj.rplNo=rplNo;jobj.rplInfo=rplVal;voteInfo.chkBox.push(jobj)}});$("#voteJsonStr").val(JSON.stringify(voteInfo))}
function drawTooltipHtmlCode(){var html="";html+='<div class="tooltip-layer serialno-usetip" tabindex="0">';html+='    <div class="tooltip-title"><h2>시리얼번호 확인</h2></div>';html+='    <div class="tooltip-content">';html+='        <div class="serial-img">';html+='            <img src="" alt="" id="serialImg">';html+="        </div>";html+="    </div>";html+='    <button type="button" class="btn-tooltip-close"><em class="blind">닫기</em></button>';html+="</div>\t";return html}
function drawPopHtmlCode(){var ctPath=$("#openPop").data("st-path");var html="";html+='<form id="eventEntryPopFrm">';html+='\t<input type="hidden" id="serialNumChk" value="N"/>';html+='\t<input type="hidden" id="serialNum" name="serialNum" value=""/>';html+='\t<input type="hidden" id="mdlCode" name="mdlCode" value=""/>';html+='\t<input type="hidden" id="focusTarget" value=""/>';html+='\t<input type="hidden" id="focusTargetType" value=""/>';html+='\t<input type="hidden" id="jsonStr" name="jsonStr" value=""/>';
html+='\t<input type="hidden" id="entryEventNo" name="eventNo" value=""/>';html+='\t<input type="hidden" id="evtGbCd" name="evtGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbGbCd" name="prtcpPsbGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbCnt" name="prtcpPsbCnt" value=""/>';html+='\t<input type="hidden" id="visPlazaNo" name="visPlazaNo" value=""/>';html+='\t<input type="hidden" id="visShopNo" name="visShopNo" value=""/>';html+='\t<input type="hidden" id="visPlazaNm" name="visPlazaNm" value=""/>';
html+='\t<input type="hidden" id="visHopeDt" name="visHopeDt" value=""/>';html+='\t<input type="hidden" id="visTimeCd" name="visTimeCd" value=""/>';html+='\t<input type="hidden" id="visWithPrsnNum" name="visWithPrsnNum" value=""/>';html+='\t<input type="hidden" id="visPlazaTel" name="visPlazaTel" value=""/>';html+='\t<input type="hidden" id="visPlazaAddr" name="visPlazaAddr" value=""/>';html+='\t<input type="hidden" id="visPathTpCd" name="visPathTpCd" value=""/>';html+='\t<input type="hidden" id="cpNo" name="cpNo" value=""/>';
html+='\t<input type="hidden" id="eventNm" name="eventNm" value=""/>';html+='\t<input type="hidden" id="microSiteUrl" name="microSiteUrl" value=""/>';html+='\t<input type="hidden" id="biztalkTmplTxt" name="biztalkTmplTxt" value=""/>';html+='\t<input type="hidden" id="biztalkUseYn" name="biztalkUseYn" value=""/>';html+='\t<input type="hidden" id="prtnrCpUseYn" name="prtnrCpUseYn" value=""/>';html+='\t<input type="hidden" id="mktRcvSelYn" name="mktRcvSelYn" value=""/>';html+='\t<input type="hidden" id="weekdayCloseTime" name="weekdayCloseTime" value=""/>';
html+='\t<input type="hidden" id="weekdayOpenTime" name="weekdayOpenTime" value=""/>';html+='\t<input type="hidden" id="weekendCloseTime" name="weekendCloseTime" value=""/>';html+='\t<input type="hidden" id="weekendOpenTime" name="weekendOpenTime" value=""/>';html+='\t<input type="hidden" id="eventAddYn" name="eventAddYn" value=""/>';html+='\t<input type="hidden" id="popEntrySuccMsg" name="popEntrySuccMsg" value=""/>';html+='\t<div class="layer-pop layer-normal layer-event-exhibition" id="popupExhibitionEnter" tabindex="0" data-popup-layer="popupExhibitionEnter" data-focus="popupExhibitionEnter">';
html+='       <button type="button" id="exhibition" data-popup-target="popupExhibitionEnter" style="display: none;"></button>';html+='\t    <div class="layer-header" id="evtHeader">';html+="\t        <h2>응모 하기</h2>";html+="\t    </div>";html+='\t    <div class="layer-content">';html+='\t        <div class="frm-login ">';html+='\t            <form action="">';html+='\t                <fieldset class="secureInp">';html+="\t                    <legend>응모 입력 폼</legend>";html+='\t\t\t\t\t\t <div class="event-img">';
html+='\t                        <img src="" alt="" id="evtImg">';html+="\t                    </div>";html+='\t                    <div class="vote-txt-box eventGbCd70">';html+='\t                        <p><strong><span id="evtNm"></span></strong> 투표에 참여해주셔서 감사합니다.</p>';html+="\t                        <p>투표 이벤트 추첨을 위해 아래 정보를 작성해주세요.</p>";html+='\t                        <p class="txt-major">* 투표하기는 1회만 가능합니다.</p>';html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form user-form">';
html+='\t                        <div class="secure-pop-tit bottom-line"><span class="titleNo">01. </span><span id="popTitle">응모자 정보</span></div>';html+='\t                        <div class="secure-pop form-write">';html+='\t                            <div class="inp-box entryCollect10 entryCollect">';html+='\t                                <label for="inpEnterName" class="lb-line">이름</label>';html+="\t\t                            <div>";html+='\t\t                                <input type="text" id="inpEnterName" name="inpEnterName" class="inp-line" value="" readonly="readonly">';
html+='\t\t                                <div class="error-msg" id="inpEnterNameErr">';html+="\t                                    \t<p>이름을 입력해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect20 entryCollect">';html+='\t                                <label for="inpEnterCall" class="lb-line">연락처</label>';html+="\t\t                            <div>";
html+='\t                                    <input type="text" id="inpEnterCall" name="inpEnterCall" class="inp-line" placeholder="(-) 없이 숫자만 입력해 주세요." numberOnly maxlength="11">';html+='\t                                    <div class="error-msg" id="inpEnterCallErr">';html+="\t                                    \t<p>연락처를 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg"  id="inpEnterCallErr2">';html+="\t                                    \t<p>연락처가 올바르지 않습니다.</p>";
html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t\t\t\t\t\t\t\t<div class="inp-box entryCollect60 entryCollect">';html+='\t\t\t\t\t\t\t\t    <label for="inpCounselMembership" class="lb-line line-double">삼성전자 <br>멤버십 번호</label>';html+="\t\t\t\t\t\t\t\t    <div>";html+='\t\t\t\t\t\t\t\t        <input type="text" id="inpCounselMembership" class="inp-line" value="" readonly="readonly">';html+='\t                                    <div class="error-msg" id="inpCounselMembershipErr">';
html+="\t                                    </div>";html+="\t\t\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t                            <div class="inp-box entryCollect30 entryCollect">';html+='\t                                <label for="inpEnterEmail" class="lb-line">이메일</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterEmail" name="inpEnterEmail" class="inp-line" placeholder="이메일을 입력해 주세요.">';
html+='\t                                    <div class="error-msg" id="inpEnterEmailErr">';html+="\t                                        <p>이메일을 입력해 주세요. </p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterEmailErr2">';html+="\t                                        <p>이메일을 정확히 입력해 주세요. </p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";
html+='\t                            <div class="inp-box entryCollect40 entryCollect">';html+='\t                                <label for="inpEnterZonecode" class="lb-line">주소</label>';html+='\t\t                            <div class="address-box">';html+='\t\t                                <div class="address-search">';html+='\t                                        <input type="text" id="inpEnterZonecode" name="inpEnterZonecode"readonly="readonly" class="inp-line" title="우편번호" placeholder="우편번호를 검색해 주세요." value="">';
html+='\t                                        <button type="button" class="btn btn-s btn-type1" id="zoneCodeBtn">우편번호</button>';html+="\t                                    </div>";html+='\t                                    <div class="address-txt">';html+='\t                                        <div id="inpEnterAddressDiv" >';html+="\t                                        </div>";html+='\t                                        \t<input type="hidden" id="inpEnterAddress" name="inpEnterAddress">';
html+="\t                                    </div>";html+='\t                                    <div class="address-detail">';html+='\t                                        <input type="text" name="inpEnterAddressDetail" id="inpEnterAddressDetail" class="inp-line" placeholder="상세주소를 입력해주세요(선택사항).">';html+="\t                                    </div>";html+='\t                                     <div class="error-msg" id="inpEnterZonecodeErr">';html+="\t                                        <p>우편번호를 통해 주소를 선택해 주세요.</p>";
html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect50 entryCollect">';html+='\t                                <label for="inpEnterSns" class="lb-line">SNS 게시물 URL</label>';html+="\t\t                            <div>";html+='\t\t                                <div class="inquiry-con">';html+='\t\t                                    <textarea id="inpEnterSns" name="inpEnterSns" class="inp-line pop-tArea" placeholder="게시한 SNS URL을 입력해 주세요." maxlength="500"></textarea>';
html+='\t\t                                    <span class="txt-count sns-count"><em class="strong">0</em> / 500자</span>';html+="\t\t                                </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr">';html+="\t                                       <p>SNS 게시물 URL을 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr2">';html+="\t                                       <p>URL을 정확하게 입력해 주세요.</p>";
html+="\t                                    </div>";html+="\t                                </div>";html+="\t                            </div>";html+='\t                            <p class="txt-general eventGbCd70">* 잘못된 정보 입력 시 투표에 제한이 있을 수 있으며, 경품 당첨이 취소됩니다.</p>';html+='\t                            <div id="addFieldArea"> ';html+="\t                            </div>";html+='\t                            <div class="inp-box goodsSelect eventGbCd50">';html+='\t                                <label for="chk-goods-1" class="lb-line lb-top">제품 선택</label>';
html+="\t\t                            <div>";html+='\t                                    <ul class="chk-list-box chk-form mo-col1" id="goodsUl"></ul>';html+='\t                                     <div class="error-msg" id="chk-goods-err">';html+="\t                                        <p>제품을 선택해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box goodsSelect eventGbCd50">';
html+='\t                                <p class="label-box">';html+='\t                                    <label for="inpEnterSerialNum" class="lb-line">제품 시리얼 <br>넘버</label>';html+='\t                                    <i class="btn-tooltop02" data-tooltip="serialno-usetip"><span>툴팁보기(레이어열림)</span></i>';html+="\t                                </p>";html+="\t\t                            <div>";html+='\t\t                                <div class="inquiry-con">';html+='\t\t                                    <textarea id="inpEnterSerialNum" name="inpEnterSerialNum" class="inp-line pop-tArea" placeholder="제품 시리얼 넘버 확인 후 입력해 주세요." maxlength="500"></textarea>';
html+='\t\t                                    <span class="txt-count serial-count"><em class="strong">0</em> / 500자</span>';html+="\t                                    </div>";html+='\t                                    <div class="serial-box">';html+='\t                                        <p class="essential">* 제품의 시리얼 넘버를 입력하신 후 [확인하기] 버튼을 눌러주세요.</p>';html+='\t                                        <button type="button" class="btn btn-s btn-type1" id="chkSerialNoBtn">확인하기</button>';html+=
"\t                                    </div>";html+='\t                                     <div class="error-msg" id="inpEnterSerialNumErr">';html+="\t                                        <p>시리얼 넘버를 입력 후 확인해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+="\t                        </div>";html+="\t                    </div>";html+='\t                    <div class="survey-box qstList eventGbCd60">';
html+="\t                    </div>";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form user-form eventGbCd80">';html+='\t\t\t\t\t\t\t<div class="secure-pop-tit bottom-line"><span class="titleNo">02. </span>매장선택</div>';html+='\t\t\t\t\t\t    <p class="txt-general">매장 상담 가능한 매장 및 매장상담 희망일을 선택하세요.</p>';html+='\t\t\t\t\t\t    <div class="secure-pop">';html+='\t\t\t\t\t\t        <div class="inp-box">';html+='\t\t\t\t\t\t            <label for="inpCounselName" class="lb-line">시/도 선택</label>';
html+="\t\t\t\t\t\t            <div>";html+="\t\t\t\t\t\t                <div>";html+='\t\t\t\t\t\t                    <div class="select-box">';html+='\t\t\t\t\t\t                        <div id="dropAge" class="wrap-droplist">';html+='\t\t\t\t\t\t                            <button class="droplist-button selected" aria-haspopup="listbox" aria-labelledby="dropAreaBtn" id="dropAreaBtn">서울</button>';html+='\t\t\t\t\t\t                            <ul class="droplist" id="dropSiDo" tabindex="-1" role="listbox" aria-labelledby="dropAreaBtn" aria-activedescendant="dropArea1-1">';
html+="\t\t\t\t\t\t                            </ul>";html+="\t\t\t\t\t\t                        </div>";html+="\t\t\t\t\t\t                    </div>";html+="\t\t\t\t\t\t                </div>";html+="\t\t\t\t\t\t            </div>";html+="\t\t\t\t\t\t        </div>";html+='\t\t\t\t\t\t        <div class="inp-box">';html+='\t\t\t\t\t\t            <label for="inpCounselCall" class="lb-line">시/군/구 선택</label>';html+="\t\t\t\t\t\t           <div>";html+='\t\t\t\t\t\t                <div class="select-box">';
html+='\t\t\t\t\t\t                    <div id="dropAge" class="wrap-droplist">';html+='\t\t\t\t\t\t                        <button class="droplist-button selected" aria-haspopup="listbox" aria-labelledby="dropAreaBtn2" id="dropAreaBtn2">강남구</button>';html+='\t\t\t\t\t\t                        <ul class="droplist" id="dropSiGunGu" tabindex="-1" role="listbox" aria-labelledby="dropAreaBtn2" aria-activedescendant="dropArea2-1">';html+="\t\t\t\t\t\t                        </ul>";html+="\t\t\t\t\t\t                    </div>";
html+="\t\t\t\t\t\t                </div>";html+="\t\t\t\t\t\t            </div>";html+="\t\t\t\t\t\t        </div>";html+='\t\t\t\t\t\t        <ul class="chk-form style-btn store-select-list">';html+="\t\t\t\t\t\t        </ul>";html+='\t\t\t\t\t\t\t\t<div class="error-msg" id="radio-store1Err" style="text-align: center;">';html+="\t\t\t\t\t\t\t\t    <p>매장을 선택하세요</p>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t\t\t\t\t\t        <div class="store-detail-info">';html+='\t\t\t\t\t\t            <div class="store-detail">';
html+='\t\t\t\t\t\t                <p class="store-name"></p>';html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>주소</dt>";html+='\t\t\t\t\t\t                    <dd id="storeAddr"></dd>';html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>전화번호</dt>";html+='\t\t\t\t\t\t                    <dd id="storeTel"></dd>';html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t                <dl>";
html+="\t\t\t\t\t\t                    <dt>영업시간</dt>";html+='\t\t\t\t\t\t                    <dd id="storeOpenTime"></dd>';html+="\t\t\t\t\t\t                </dl>";html+='\t\t\t\t\t\t                <dl class="dl-parking">';html+="\t\t\t\t\t\t                    <dt>주차공간</dt>";html+='\t\t\t\t\t\t                    <dd id="storeParkingInfo"></dd>';html+="\t\t\t\t\t\t                </dl>";html+='\t\t\t\t\t\t                <p class="btn-more-box"><a href="#" class="link" id="microSiteDetailView">상세보기 ></a></p>';
html+="\t\t\t\t\t\t            </div>";html+='\t\t\t\t\t\t            <div class="store-detail-mapbox" id="map">';html+="\t\t\t\t\t\t                \x3c!-- 맵 영역 --\x3e";html+="\t\t\t\t\t\t            </div>";html+='\t\t\t\t\t\t            <div class="hope-visit-date">';html+='\t\t\t\t\t\t                <p class="date-title">방문 희망 일자 선택</p>';html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>날짜선택</dt>";html+="\t\t\t\t\t\t                    <dd>";html+='\t\t\t\t\t\t                        <input type="text" id="visitDate" name="visitDate" placeholder="방문 희망 일자를 선택해 주세요." class="inp-line inp-calendar">';
html+='\t\t\t\t\t\t                        <p class="txt">* 삼성스토어 매장 마감시간은 20시 30분입니다.</p>';html+="\t\t\t\t\t\t                    </dd>";html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t            </div>";html+="\t\t\t\t\t\t        </div>";html+="\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t</div>";html+='\t                    <div class="user-info-box secure-pop-form terms-form">';html+='\t                        <div class="secure-pop-tit bottom-line">';html+='\t                            <span class="titleNo">03. </span>개인정보 수집·이용 동의 <span class="ico-required">*<span>필수입력</span></span>';
html+="\t                        </div>";html+='\t                        <div class="secure-pop terms-con">';html+='\t                            <p class="txt-general">';html+="\t\t\t                                귀하께서는 본 동의 안내 문구를 숙지하셨으며, 안내문구에 대해 거절하실 수 있습니다.<br>";html+="\t\t\t                                단, 거절하신 경우에는 이벤트 응모가 제한되실 수 있습니다.";html+="\t                            </p>";html+='\t                            <div class="chk-form allChk-box">';html+='\t                                <input id="chk-enter-all" data-allchk-name="allCheck" data-children-name="checkEventEnter" type="checkbox" required="" title=""';
html+='\t                                    class="checkBoxTerms">';html+='\t                                <label for="chk-enter-all" class="chk-all">모든 약관을 확인하고 전체 동의합니다.</label>';html+="\t                            </div>";html+='\t                            <div id="privacyPolicy"></div>';html+="\t                        </div>";html+='\t                        <div class="help-box">';html+="\t                            <p>";html+='\t\t\t                                개인정보 처리에 대한 상세한 사항은 삼성전자 웹사이트  (<a href="http://www.samsung.com'+
ctPath+'" class="link" target="_blank">www.samsung.com'+ctPath+'</a>)에 공개한 "삼성닷컴 이벤트 개인정보 처리방침"을 참조하십시오.<br>';html+="\t\t\t                                다만, 본 동의서 내용과 상충되는 부분은 본 동의서 내용을 우선합니다.";html+="\t                            </p>";html+="\t                        </div>";html+="\t                    </div>";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form terms-form  eventGbCd80">';html+='\t\t\t\t\t\t    <div class="secure-pop-tit bottom-line">';html+='\t\t\t\t\t\t        <span class="titleNo">04. </span>신청 정보 확인';
html+="\t\t\t\t\t\t    </div>";html+='\t\t\t\t\t\t    <p class="txt-general">참여 희망일자를 확인 후 신청을 완료하세요.</p>';html+='\t\t\t\t\t\t    <div class="final-check-box">';html+='\t\t\t\t\t\t        <p class="txt1 storeRsltMsg"><span class="txt-major selectedResultMsg"></span>으로<br><span class="selectedResultMsg2">매장방문을 신청합니다.</span></p>';html+='\t\t\t\t\t\t        <p class="txt2">※ 신청 시 카카오 알림톡으로 &lt;<span id="ftEvtNm"></span>”&gt;<br> 초대장이 발송됩니다.</p>';html+='\t\t\t\t\t\t        <p class="btn-area"><button type="button" class="btn btn-d btn-type2" id="reservationBtn">신청하기</button></p>';
html+="\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t</div>";html+="\t                </fieldset>";html+="\t            </form>";html+='\t            <div class="btn-box " id="eventBtn_Area_div">';html+='\t\t            <button type="button" class="btn btn-d btn-type2" id="eventSaveBtn">이벤트 응모</button>';html+="\t\t        </div>";html+="\t        </div>";html+="\t    </div>";html+='\t    <button type="button" class="pop-close evt-pop-close" data-focus-next="popupExhibitionEnter">팝업닫기</button>';html+=
"\t</div>\t";html+="</form>";return html}
function drawPopHtmlCodeRenewal(){var html="";html+='<form id="eventEntryPopFrm">';html+='\t<input type="hidden" id="focusTarget" value=""/>';html+='\t<input type="hidden" id="focusTargetType" value=""/>';html+='\t<input type="hidden" id="jsonStr" name="jsonStr" value=""/>';html+='\t<input type="hidden" id="voteJsonStr" name="voteJsonStr" value=""/>';html+='\t<input type="hidden" id="entryEventNo" name="eventNo" value=""/>';html+='\t<input type="hidden" id="evtGbCd" name="evtGbCd" value=""/>';html+=
'\t<input type="hidden" id="isEvtGbFld" name="isEvtGbFld" value=""/>';html+='\t<input type="hidden" id="prtcpPsbGbCd" name="prtcpPsbGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbCnt" name="prtcpPsbCnt" value=""/>';html+='\t<input type="hidden" id="visPlazaNo" name="visPlazaNo" value=""/>';html+='\t<input type="hidden" id="visShopNo" name="visShopNo" value=""/>';html+='\t<input type="hidden" id="visPlazaNm" name="visPlazaNm" value=""/>';html+='\t<input type="hidden" id="visHopeDt" name="visHopeDt" value=""/>';
html+='\t<input type="hidden" id="visTimeCd" name="visTimeCd" value=""/>';html+='\t<input type="hidden" id="visTimeCdNm" name="visTimeCdNm" value=""/>';html+='\t<input type="hidden" id="visWithPrsnNum" name="visWithPrsnNum" value=""/>';html+='\t<input type="hidden" id="visWithPrsnNumNm" name="visWithPrsnNumNm" value=""/>';html+='\t<input type="hidden" id="visPlazaTel" name="visPlazaTel" value=""/>';html+='\t<input type="hidden" id="visPlazaAddr" name="visPlazaAddr" value=""/>';html+='\t<input type="hidden" id="visPathTpCd" name="visPathTpCd" value=""/>';
html+='\t<input type="hidden" id="cpNo" name="cpNo" value=""/>';html+='\t<input type="hidden" id="eventNm" name="eventNm" value=""/>';html+='\t<input type="hidden" id="microSiteUrl" name="microSiteUrl" value=""/>';html+='\t<input type="hidden" id="biztalkTmplTxt" name="biztalkTmplTxt" value=""/>';html+='\t<input type="hidden" id="biztalkUseYn" name="biztalkUseYn" value=""/>';html+='\t<input type="hidden" id="prtnrCpUseYn" name="prtnrCpUseYn" value=""/>';html+='\t<input type="hidden" id="mktRcvSelYn" name="mktRcvSelYn" value=""/>';
html+='\t<input type="hidden" id="weekdayCloseTime" name="weekdayCloseTime" value=""/>';html+='\t<input type="hidden" id="weekdayOpenTime" name="weekdayOpenTime" value=""/>';html+='\t<input type="hidden" id="weekendCloseTime" name="weekendCloseTime" value=""/>';html+='\t<input type="hidden" id="weekendOpenTime" name="weekendOpenTime" value=""/>';html+='\t<input type="hidden" id="eventAddYn" name="eventAddYn" value=""/>';html+='\t<input type="hidden" id="ciToken" name="ciToken" value=""/>';html+='\t<input type="hidden" id="birth" name="birth" value=""/>';
html+='\t<input type="hidden" id="popEntrySuccMsg" name="popEntrySuccMsg" value=""/>';html+='\t<input type="hidden" id="ceoTel" name="ceoTel" value=""/>';html+='\t<input type="hidden" id="dvcTpCd" name="dvcTpCd" value=""/>';html+='\t<div class="layer-pop layer-normal layer-event-exhibition layer-famailyPF layer-pop-content-festa-event" id="popupExhibitionEnter" tabindex="0" data-popup-layer="popupExhibitionEnter" data-focus="popupExhibitionEnter">';html+='       <button type="button" id="exhibition" data-popup-target="popupExhibitionEnter" style="display: none;"></button>';
html+='\t    <div class="layer-header" id="evtHeader">';html+="\t        <h2>응모 하기</h2>";html+="\t    </div>";html+='\t    <div class="layer-content">';html+='\t        <div class="frm-login ">';html+='\t            <form action="">';html+='\t                <fieldset class="secureInp">';html+="\t                    <legend>응모 입력 폼</legend>";html+='\t\t\t\t\t\t <div class="event-img">';html+='\t                        <img src="" alt="" id="evtImg">';html+='\t                        <p class="blind hTxt1"></p>';
html+='\t                        <p class="blind hTxt2"></p>';html+='\t                        <p class="blind hTxt3"></p>';html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form user-form radio-list-form">';html+='\t                        <div class="secure-pop-tit bottom-line"><span class="titleNo">01. </span><span id="popTitle">응모자 정보</span></div>';html+='\t                        <div class="secure-pop form-write">';html+='\t                            <div class="inp-box entryCollect10 entryCollect">';
html+='\t                                <label for="inpEnterName" class="lb-line">이름</label>';html+="\t\t                            <div>";html+='\t\t                                <input type="text" id="inpEnterName" name="inpEnterName" class="inp-line" value="" readonly="readonly">';html+='\t\t                                <div class="error-msg" id="inpEnterNameErr">';html+="\t                                    \t<p>이름을 입력해 주세요.</p>";html+="\t                                    </div>";html+=
"\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect20 entryCollect">';html+='\t                                <label for="inpEnterCall" class="lb-line">연락처</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterCall" name="inpEnterCall" class="inp-line" placeholder="(-) 없이 숫자만 입력해 주세요." numberOnly maxlength="11">';html+=
'\t                                    <div class="error-msg" id="inpEnterCallErr">';html+="\t                                    \t<p>연락처를 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg"  id="inpEnterCallErr2">';html+="\t                                    \t<p>연락처가 올바르지 않습니다.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";
html+='\t\t\t\t\t\t\t\t<div class="inp-box entryCollect60 entryCollect">';html+='\t\t\t\t\t\t\t\t    <label for="inpCounselMembership" class="lb-line line-double">삼성전자 <br>멤버십 번호</label>';html+="\t\t\t\t\t\t\t\t    <div>";html+='\t\t\t\t\t\t\t\t        <input type="text" id="inpCounselMembership" class="inp-line" value="" readonly="readonly">';html+='\t                                    <div class="error-msg" id="inpCounselMembershipErr">';html+="\t                                    </div>";html+=
"\t\t\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t                            <div class="inp-box entryCollect30 entryCollect">';html+='\t                                <label for="inpEnterEmail" class="lb-line">이메일</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterEmail" name="inpEnterEmail" class="inp-line" placeholder="이메일을 입력해 주세요.">';html+='\t                                    <div class="error-msg" id="inpEnterEmailErr">';
html+="\t                                        <p>이메일을 입력해 주세요. </p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterEmailErr2">';html+="\t                                        <p>이메일을 정확히 입력해 주세요. </p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect40 entryCollect">';
html+='\t                                <label for="inpEnterZonecode" class="lb-line">주소</label>';html+='\t\t                            <div class="address-box">';html+='\t\t                                <div class="address-search">';html+='\t                                        <input type="text" id="inpEnterZonecode" name="inpEnterZonecode"readonly="readonly" class="inp-line" title="우편번호" placeholder="우편번호를 검색해 주세요." value="">';html+='\t                                        <button type="button" class="btn btn-s btn-type1" id="zoneCodeBtn">우편번호</button>';
html+="\t                                    </div>";html+='\t                                    <div class="address-txt">';html+='\t                                        <div id="inpEnterAddressDiv" >';html+="\t                                        </div>";html+='\t                                        \t<input type="hidden" id="inpEnterAddress" name="inpEnterAddress">';html+="\t                                    </div>";html+='\t                                    <div class="address-detail">';
html+='\t                                        <input type="text" name="inpEnterAddressDetail" id="inpEnterAddressDetail" class="inp-line" placeholder="상세주소를 입력해주세요(선택사항).">';html+="\t                                    </div>";html+='\t                                     <div class="error-msg" id="inpEnterZonecodeErr">';html+="\t                                        <p>우편번호를 통해 주소를 선택해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";
html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect50 entryCollect">';html+='\t                                <label for="inpEnterSns" class="lb-line">SNS 게시물 URL</label>';html+="\t\t                            <div>";html+='\t\t                                <div class="inquiry-con">';html+='\t\t                                    <textarea id="inpEnterSns" name="inpEnterSns" class="inp-line pop-tArea" placeholder="게시한 SNS URL을 입력해 주세요." maxlength="500"></textarea>';
html+='\t\t                                    <span class="txt-count sns-count"><em class="strong">0</em> / 500자</span>';html+="\t\t                                </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr">';html+="\t                                       <p>SNS 게시물 URL을 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr2">';html+="\t                                       <p>URL을 정확하게 입력해 주세요.</p>";
html+="\t                                    </div>";html+="\t                                </div>";html+="\t                            </div>";html+='\t                            <div id="eventGbField"> ';html+="\t                            </div>";html+='\t                            <div id="addFieldArea"> ';html+="\t                            </div>";html+="\t                        </div>";html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form terms-form">';
html+='\t                        <div class="secure-pop-tit bottom-line">';html+='\t                            <span class="titleNo">03. </span>개인정보 수집·이용 동의 <span class="ico-required">*<span>필수입력</span></span>';html+="\t                        </div>";html+='\t                        <div class="secure-pop terms-con txt-chg1">';html+='\t                            <p class="txt-general">';html+="\t\t\t                                귀하께서는 본 동의 안내 문구를 숙지하셨으며, 안내문구에 대해 거절하실 수 있습니다.<br>";html+="\t\t\t                                단, 거절하신 경우에는 이벤트 응모가 제한되실 수 있습니다.";
html+="\t                            </p>";html+='\t                            <div class="chk-form allChk-box">';html+='\t                                <input id="chk-enter-all" data-allchk-name="allCheck" data-children-name="checkEventEnter" type="checkbox" required="" title=""';html+='\t                                    class="checkBoxTerms">';html+='\t                                <label for="chk-enter-all" class="chk-all">모든 약관을 확인하고 전체 동의합니다.</label>';html+="\t                            </div>";
html+='\t                            <div id="privacyPolicy"></div>';html+="\t                        </div>";html+='\t                        <div class="help-box txt-chg2">';html+="\t                            <p>";html+='\t\t\t                                개인정보 처리에 대한 상세한 사항은 삼성전자 웹사이트  (<a href="http://www.samsung.com/sec" class="link" target="_blank">www.samsung.com/sec</a>)에 공개한 "삼성닷컴 이벤트 개인정보 처리방침"을 참조하십시오.<br>';html+="\t\t\t                                다만, 본 동의서 내용과 상충되는 부분은 본 동의서 내용을 우선합니다.";
html+="\t                            </p>";html+="\t                        </div>";html+="\t                    </div>";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form terms-form  eventGbCd80">';html+='\t\t\t\t\t\t    <div class="secure-pop-tit bottom-line">';html+='\t\t\t\t\t\t        <span class="titleNo">04. </span>신청 정보 확인';html+="\t\t\t\t\t\t    </div>";html+='\t\t\t\t\t\t    <p class="txt-general">참여 희망일자를 확인 후 신청을 완료하세요.</p>';html+='\t\t\t\t\t\t    <div class="final-check-box">';
html+='\t\t\t\t\t\t        <p class="txt1 storeRsltMsg"><span class="txt-major selectedResultMsg"></span>(으)로<br><span class="selectedResultMsg2">매장방문을 신청합니다.</span></p>';html+='\t\t\t\t\t\t        <p class="txt2">※ 신청 시 입력하신 연락처로 &lt;<span id="ftEvtNm"></span>&gt;<br> 참여 안내가 발송됩니다.</p>';html+='\t\t\t\t\t\t        <p class="btn-area"><button type="button" class="btn btn-d btn-type2" id="reservationBtn">신청하기</button></p>';html+="\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t</div>";html+="\t                </fieldset>";
html+="\t            </form>";html+='\t            <div class="btn-box " id="eventBtn_Area_div">';html+='\t\t            <button type="button" class="btn btn-d btn-type2" id="eventSaveBtn">이벤트 응모</button>';html+="\t\t        </div>";html+="\t        </div>";html+="\t    </div>";html+='\t    <button type="button" class="pop-close evt-pop-close" data-focus-next="popupExhibitionEnter">팝업닫기</button>';html+="\t</div>\t";html+="</form>";return html}var certificationFlag=false;
function fnCallPop3(evtNo,paramPhoneTpCd){if(!certificationFlag){pblcEvtNo=evtNo;phoneTpCd=paramPhoneTpCd}returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options2=
{url:"/sec/xhr/member/getSession",type:"POST",done:function(data){var options={url:stPath+"xhr/event/getEventBaseInfo",data:param,done:function(data2){$("#mask").remove();var eventInfo=data2.eventInfo;if(eventInfo.errMsg==""||eventInfo.errMsg==null)if(!certificationFlag)fnNicePopup(data2);else setEventPop2(data2);else if(eventInfo.errCd=="LGN0005")makeAlert(eventInfo.errMsg,fnGoLoginPage2);else makeAlert(eventInfo.errMsg,eventPopClose)}};var session=JSON.parse(data);if(session.mbrNo==0)options=$.extend({},
options,{netFunnelId:"b2c_gnb_login"});else if(!certificationFlag)options=$.extend({},options,{netFunnelId:"b2c_promotion2"});ajax.call(options)}};ajax.call(options2)}
function fnNicePopup(data){stPath=$("#openPop").data("st-path");$unpackAuthDiv=$(drawUnpackAuthDivHtmlCode(data));$("#popupArea_Event3791").html("");if($("#popupArea_Event3791").length>0){$("#popupArea_Event3791").append($unpackAuthDiv);var checkPlus=data.checkPlus;$("form[name='form_chk']").children("input[name='EncodeData']").val(checkPlus.encData)}var agent=navigator.userAgent.toLowerCase();if(navigator.appName==="Netscape"&&agent.indexOf("trident")!==-1||agent.indexOf("msie")!==-1)newWindowAndSubmit({url:stPath+
"popupCheckPlus/",nice:true,stContextPath:stPath});else{window.open("","popupChk","width=500, height=550, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no");document.form_chk.action="https://evt.niceid.co.kr/CheckPlusSafeModel/checkplus.cb";document.form_chk.target="popupChk";document.form_chk.submit()}}function fnCallPop3Chain(){fnCallPop3(pblcEvtNo,phoneTpCd)}
function drawUnpackAuthDivHtmlCode(data){var html="";html+='<form name="form_chk" method="post" action="/checkplus_main.jsp">';html+='\t<input type="hidden" name="m" value="checkplusService">';html+='\t<input type="hidden" name="EncodeData" value="">';html+="</form>";return html}
function setEventPop2(data){fnDrawPop2();$("#phoneTpCd").val(phoneTpCd);$("#ciToken").val(ciToken);$("#birth").val(birth);$("#exhibition").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;collectItems=eventInfo.eventCollectItems;plcyContentCollect=eventInfo.plcyContentCollect;plcyContentPrcs=eventInfo.plcyContentPrcs;eventPrivacyPolicys=eventInfo.eventPrivacyPolicys;eventAddYn=entryEvent.eventAddYn;$("#entryEventNo").val(entryEvent.eventNo);$("#evtGbCd").val(entryEvent.eventGbCd);
$("#prtcpPsbGbCd").val(entryEvent.prtcpPsbGbCd);$("#prtcpPsbCnt").val(entryEvent.prtcpPsbCnt);$("#evtNm").text(entryEvent.ttl);$("#cpNo").val(entryEvent.cpNo);$("#ftEvtNm").text(entryEvent.ttl);sessionMbr=eventInfo.loginUserMbrNo;membershipNo=eventInfo.loginUserMembership;eventGbCd=entryEvent.eventGbCd;setLayoutShowHide(eventGbCd);setCommLayout(entryEvent,collectItems,addFields);if(eventGbCd=="40"){$(".goodsSelect").hide();$("#goodsUl").empty();$("#biztalkUseYn").val(entryEvent.biztalkUseYn);$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}var policyHtml=
"";$("#privacyPolicy").empty();policyHtml+=createPrivacyPolicyHtml(plcyContentCollect,1);if(plcyContentPrcs!=null)policyHtml+=createPrivacyPolicyHtml(plcyContentPrcs,2);$.each(eventPrivacyPolicys,function(idx,val){var index=idx+3;policyHtml+=createPrivacyPolicyHtml(val,index)});$("#privacyPolicy").append(policyHtml);$(".error-msg").hide();if(eventAddYn=="N")$("#inpCounselMembershipErr").html("<p>나의 정보에서 멤버십 회원 추가정보 입력 후</p><p>알림신청하면 멤버십 번호가 보여집니다.</p>");else if(eventAddYn=="Y")$("#inpCounselMembershipErr").html("<p>※멤버십번호가 보이지 않으시나요?</p><p>화면 우측 상단 > 나의정보 메뉴에서</p><p>멤버십 가입여부 확인 후 다시 시도해 보세요.</p><p>(미가입 시 가입 후 재시도 필요)</p>");
if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}function fnGoLoginPage2(){window.location.href=stPath+"member/indexLogin/?returnUrl="+returnUrl;$(".evt-pop-close").trigger("click")}function fnDrawPop2(){if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").append($popDiv2);else $("#popupArea").append($popDiv2);$(".titleNo").show()}
function drawPopHtmlCode2(){var html="";html+='<form id="eventEntryPopFrm">';html+='\t<input type="hidden" id="jsonStr" name="jsonStr" value=""/>';html+='\t<input type="hidden" id="entryEventNo" name="eventNo" value=""/>';html+='\t<input type="hidden" id="evtGbCd" name="evtGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbGbCd" name="prtcpPsbGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbCnt" name="prtcpPsbCnt" value=""/>';html+='\t<input type="hidden" id="cpNo" name="cpNo" value=""/>';
html+='\t<input type="hidden" id="eventNm" name="eventNm" value=""/>';html+='\t<input type="hidden" id="microSiteUrl" name="microSiteUrl" value=""/>';html+='\t<input type="hidden" id="biztalkTmplTxt" name="biztalkTmplTxt" value=""/>';html+='\t<input type="hidden" id="biztalkUseYn" name="biztalkUseYn" value=""/>';html+='\t<input type="hidden" id="mktRcvSelYn" name="mktRcvSelYn" value=""/>';html+='\t<input type="hidden" id="eventAddYn" name="eventAddYn" value=""/>';html+='\t<input type="hidden" id="ciToken" name="ciToken" value=""/>';
html+='\t<input type="hidden" id="birth" name="birth" value=""/>';html+='\t<input type="hidden" id="phoneTpCd" name="phoneTpCd" value=""/>';html+='\t<div class="layer-pop layer-normal layer-event-exhibition" id="popupExhibitionEnter" tabindex="0" data-popup-layer="popupExhibitionEnter" data-focus="popupExhibitionEnter">';html+='       <button type="button" id="exhibition" data-popup-target="popupExhibitionEnter" style="display: none;"></button>';html+='\t    <div class="layer-header" id="evtHeader">';
html+="\t        <h2>응모 하기</h2>";html+="\t    </div>";html+='\t    <div class="layer-content">';html+='\t        <div class="frm-login ">';html+='\t            <form action="">';html+='\t                <fieldset class="secureInp">';html+="\t                    <legend>응모 입력 폼</legend>";html+='\t\t\t\t\t\t <div class="event-img">';html+='\t                        <img src="" alt="" id="evtImg">';html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form user-form">';
html+='\t                        <div class="secure-pop-tit bottom-line"><span class="titleNo">01. </span><span id="popTitle">응모자 정보</span></div>';html+='\t                        <div class="secure-pop form-write">';html+='\t                            <div class="inp-box entryCollect10 entryCollect">';html+='\t                                <label for="inpEnterName" class="lb-line">이름</label>';html+="\t\t                            <div>";html+='\t\t                                <input type="text" id="inpEnterName" name="inpEnterName" class="inp-line" value="" readonly="readonly">';
html+='\t\t                                <div class="error-msg" id="inpEnterNameErr">';html+="\t                                    \t<p>이름을 입력해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect20 entryCollect">';html+='\t                                <label for="inpEnterCall" class="lb-line">연락처</label>';html+="\t\t                            <div>";
html+='\t                                    <input type="text" id="inpEnterCall" name="inpEnterCall" class="inp-line" placeholder="(-) 없이 숫자만 입력해 주세요." numberOnly maxlength="11">';html+='\t                                    <div class="error-msg" id="inpEnterCallErr">';html+="\t                                    \t<p>연락처를 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg"  id="inpEnterCallErr2">';html+="\t                                    \t<p>연락처가 올바르지 않습니다.</p>";
html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t\t\t\t\t\t\t\t<div class="inp-box entryCollect60 entryCollect">';html+='\t\t\t\t\t\t\t\t    <label for="inpCounselMembership" class="lb-line line-double">삼성전자 <br>멤버십 번호</label>';html+="\t\t\t\t\t\t\t\t    <div>";html+='\t\t\t\t\t\t\t\t        <input type="text" id="inpCounselMembership" class="inp-line" value="" readonly="readonly">';html+='\t                                    <div class="error-msg" id="inpCounselMembershipErr">';
html+="\t                                    </div>";html+="\t\t\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t                            <div class="inp-box entryCollect30 entryCollect">';html+='\t                                <label for="inpEnterEmail" class="lb-line">이메일</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterEmail" name="inpEnterEmail" class="inp-line" placeholder="이메일을 입력해 주세요.">';
html+='\t                                    <div class="error-msg" id="inpEnterEmailErr">';html+="\t                                        <p>이메일을 입력해 주세요. </p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterEmailErr2">';html+="\t                                        <p>이메일을 정확히 입력해 주세요. </p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";
html+="\t                        </div>";html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form terms-form">';html+='\t                        <div class="secure-pop-tit bottom-line">';html+='\t                            <span class="titleNo">03. </span>개인정보 수집·이용 동의 <span class="ico-required">*<span>필수입력</span></span>';html+="\t                        </div>";html+='\t                        <div class="secure-pop terms-con">';html+='\t                            <p class="txt-general">';
html+="\t\t\t                                귀하께서는 본 동의 안내 문구를 숙지하셨으며, 안내문구에 대해 거절하실 수 있습니다.<br>";html+="\t\t\t                                단, 거절하신 경우에는 이벤트 응모가 제한되실 수 있습니다.";html+="\t                            </p>";html+='\t                            <div class="chk-form allChk-box">';html+='\t                                <input id="chk-enter-all" data-allchk-name="allCheck" data-children-name="checkEventEnter" type="checkbox" required="" title=""';html+='\t                                    class="checkBoxTerms">';
html+='\t                                <label for="chk-enter-all" class="chk-all">모든 약관을 확인하고 전체 동의합니다.</label>';html+="\t                            </div>";html+='\t                            <div id="privacyPolicy"></div>';html+="\t                        </div>";html+='\t                        <div class="help-box">';html+="\t                            <p>";html+='\t\t\t                                개인정보 처리에 대한 상세한 사항은 삼성전자 웹사이트  (<a href="http://www.samsung.com/sec" class="link" target="_blank">www.samsung.com/sec</a>)에 공개한 "삼성닷컴 이벤트 개인정보 처리방침"을 참조하십시오.<br>';
html+="\t\t\t                                다만, 본 동의서 내용과 상충되는 부분은 본 동의서 내용을 우선합니다.";html+="\t                            </p>";html+="\t                        </div>";html+="\t                    </div>";html+="\t                </fieldset>";html+="\t            </form>";html+='\t            <div class="btn-box " id="eventBtn_Area_div2">';html+='\t\t            <button type="button" class="btn btn-d btn-type2" id="eventSaveBtn2">이벤트 응모</button>';html+="\t\t        </div>";html+="\t        </div>";
html+="\t    </div>";html+='\t    <button type="button" class="pop-close evt-pop-close" data-focus-next="popupExhibitionEnter">팝업닫기</button>';html+="\t</div>\t";html+="</form>";return html}$(document).on("click","#eventSaveBtn2",function(){fnSaveEventEntry2()});
function fnSaveEventEntry2(){$("#focusTarget").val("");if(fnValidationCheck2()){if($("#inpEnterSns").val()){var snsUrl=$("#inpEnterSns").val();snsUrl=snsUrl.trim().replace(/^(http|https):\/\//,"");$("#inpEnterSns").val(snsUrl)}$("#addFieldArea").children(".inp-box").each(function(){var $addFieldId=$(this).find("[id^='addField']");var fldtpcd=$addFieldId.data("fldtpcd");if(fldtpcd===10||fldtpcd===20||fldtpcd===90){var fldVal=$addFieldId.val();fldVal=fldVal.trim().replace(/^(http|https):\/\//,"");$addFieldId.val(fldVal)}});
createJsonStr();var options={url:stPath+"xhr/event/insertEventEntry",data:$("#eventEntryPopFrm").serialize(),done:function(data){var result=data.result;makeAlert(result.resultMsg,eventPopClose);certificationFlag=false}};$(".btn-box").removeAttr("style");if(isPreView)return;oneTimeChk=false;ajax.call(options)}else{var id=$("#focusTarget").val();var type=$("#focusTargetType").val();if(type=="")setTimeout(function(){$("#"+id).focus()},1);else $("input[name="+id+"]").focus();return}}
function fnValidationCheck2(){var passyn="Y";$(".error-msg").hide();if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show();var collectItem={10:{id:"inpEnterName",errId1:"inpEnterNameErr",errId2:"inpEnterNameErr",callback:null},20:{id:"inpEnterCall",errId1:"inpEnterCallErr",errId2:"inpEnterCallErr2",callback:fnMobileCheck},30:{id:"inpEnterEmail",errId1:"inpEnterEmailErr",errId2:"inpEnterEmailErr2",callback:fnEmailCheck}};$.each(collectItems,function(idx,val){var collectItemId=
collectItem[val.collectItemCd].id;var collectItemErrId=collectItem[val.collectItemCd].errId1;var collectItemVal=$("#"+collectItemId).val();if(collectItemVal==""){$("#"+collectItemErrId).show();passyn="N";fnFocusIdSet(collectItemId)}});var validationSubResult;var chkArr=["20","30"];$.each(chkArr,function(i,val){validationSubResult=fnValidationSub(collectItem[val]);if(!validationSubResult){passyn="N";fnFocusIdSet(collectItem[val].id)}});if(eventGbCd=="40")$("#eventNm").val(entryEvent.ttl);passyn=fnValidationPrivacyPolicy(passyn);
return passyn=="Y"?true:false}
function fnCheckWinConstraints(evtNo,paramGoodsId){returnUrl=window.location.pathname;var searchPath=window.location.search;returnUrl+=searchPath;stPath=$("#openPop").data("st-path");unpackGoodsId=paramGoodsId;var param={eventNo:evtNo};var options={url:stPath+"xhr/event/checkWinConstraints",data:param,done:function(data){$("#mask").remove();var result=data.result;if(result.errCd=="LGN0005")makeAlert(result.errMsg,fnGoLoginPage);else if(result.errCd=="EVTWIN0005"||result.errCd=="EVTWIN0007"){var paramAlert=
[];paramAlert.content=result.errMsg;paramAlert.btnText="구매하러 가기";paramAlert.goodsId=paramGoodsId;makeAlert2(paramAlert,fnEventNowBuyChain)}else makeAlert(result.errMsg,eventPopClose)}};if(evtNo=="31892")options=$.extend({},options,{netFunnelId:"b2c_cta_event"});ajax.call(options)}function fnEventNowBuyChain(){fnEventNowBuy(unpackGoodsId)}
function fnEventNowBuy(unpackGoodsId){$eventCartForm=drawEventCartHtmlCode();$("#popupArea_Event3791").html("");if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").append($eventCartForm);$("form[name='eventGoodsCartForm'] > input[name='goodsIds']").val(unpackGoodsId);eventGoodsDetail.fnCartNowBuy(eventGoodsDetail.fnReqData())}
function drawEventCartHtmlCode(){var html="";html+='\t<form id="eventGoodsCartForm" name="eventGoodsCartForm" method="post">';html+='    <input type="hidden" name="goodsIds" value="" />';html+='    <input type="hidden" name="stGbCd" value="10" />';html+='    <input type="hidden" name="stId" value="1" />';html+='    <input type="hidden" name="nowBuyYn" value="Y" />';html+='    <input type="hidden" name="buyQtys" class="count-prd" value="1" />';html+='    <input type="hidden" name="orderType" value="ONCE" />';
html+="</form>";return html}function makeAlert2(contentsParam,calback){if(!checkEvtPersonalBuyLimit(contentsParam.goodsId))return false;var contentsparam=contentsParam;var alertData={content:contentsparam.content,btnText:contentsparam.btnText,callback:calback};commonAlert(alertData);openLayer("commonAlert")}
function checkEvtPersonalBuyLimit(goodsId){var rtnVal=true;var options={url:stPath+"xhr/order/check/checkEvtPersonalBuyLimit",async:false,data:{goodsId:goodsId},done:function(data){console.log(typeof data);if(data)rtnVal=data;else{rtnVal=data;commonAlert({title:"alert",content:"이미 구매하신 상품입니다."});openLayer("commonAlert")}}};ajax.call(options);return rtnVal}
function fnCallPop4(evtNo){oneTimeChk=false;pblcEvtNo=evtNo;returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else returnUrl+="?eventNo="+pblcEvtNo;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options={url:stPath+
"xhr/event/getEventBaseInfo",data:param,done:function(data){$("#mask").remove();var eventInfo=data.eventInfo;kakaoAppKeyEvent=data.kakaoAppKey;siDo10=data.siDo10;siGunGu123=data.siGunGu123;if(eventInfo.errMsg==""||eventInfo.errMsg==null)if(eventInfo.entryCnt>0)setEventPop5(data);else setEventPop4(data);else if(eventInfo.errCd=="LGN0005")makeAlert(eventInfo.errMsg,fnGoLoginPage);else makeAlert(eventInfo.errMsg,eventPopClose)}};ajax.call(options)}
function setEventPop4(data){fnDrawPop4();$("#exhibition").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;collectItems=eventInfo.eventCollectItems;goodsSerialInfos=eventInfo.goodsSerialInfos;plcyContentCollect=eventInfo.plcyContentCollect;plcyContentPrcs=eventInfo.plcyContentPrcs;eventPrivacyPolicys=eventInfo.eventPrivacyPolicys;addFields=eventInfo.addFields;questionInfos=eventInfo.questionInfos;plazas=eventInfo.plazas;siDoList=eventInfo.siDoList;siGunGuList=eventInfo.siGunGuList;
eventAddType=entryEvent.eventAddYn;entryCnt=eventInfo.entryCnt;eventAddYn=entryEvent.eventAddYn;$("#entryEventNo").val(entryEvent.eventNo);$("#evtGbCd").val(entryEvent.eventGbCd);$("#prtcpPsbGbCd").val(entryEvent.prtcpPsbGbCd);$("#prtcpPsbCnt").val(entryEvent.prtcpPsbCnt);$("#evtNm").text(entryEvent.ttl);$("#cpNo").val(entryEvent.cpNo);$("#ftEvtNm").text(entryEvent.ttl);$("#popTitle4").text(entryEvent.popEntryTtl);$("#eventSaveBtn4").text(entryEvent.popEntryCtaText);$("#popEntrySuccMsg4").val(entryEvent.popEntrySuccMsg);
if(eventAddYn=="B2C_KSF_KAKAO_SEND")$("#imageForm").empty().append(drawPopHtmlCode4_1());else if(eventAddYn=="B2C_KAKAO_SEND")$("#imageForm").empty().append(drawPopHtmlCode4_2());sessionMbr=eventInfo.loginUserMbrNo;membershipNo=eventInfo.loginUserMembership;eventGbCd=entryEvent.eventGbCd;setLayoutShowHide(eventGbCd);setCommLayout(entryEvent,collectItems,addFields);if(eventGbCd=="40"){$(".goodsSelect").hide();$("#goodsUl").empty();$("#biztalkUseYn").val(entryEvent.biztalkUseYn);$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);
$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}if(eventGbCd=="50"){$(".goodsSelect").hide();$("#goodsUl").empty();var html="";$.each(goodsSerialInfos,function(idx,val){var index=idx+1;html+='<li class="item">';html+='\t<input id="chk-goods-'+index+'" type="radio" name="chk-goods" value="'+val.goodsId+"\" onchange='goodsCheck(this)' data-mdlcode='"+val.mdlCode+"' data-goods-nm='"+val.goodsNm+"'>";html+='\t<label for="chk-goods-'+index+'">'+val.mdlCode+"</label>";html+="</li>"});$("#goodsUl").append(html);
$(".goodsSelect").show();$("#inpEnterSerialNum").attr("readonly",true)}if(eventGbCd=="60"){$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);createQuestionHtml(questionInfos)}if(eventGbCd=="80"){fnScriptLoad();$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}var policyHtml="";$("#privacyPolicy").empty();policyHtml+=createPrivacyPolicyHtml(plcyContentCollect,1);if(plcyContentPrcs!=null)policyHtml+=createPrivacyPolicyHtml(plcyContentPrcs,2);$.each(eventPrivacyPolicys,function(idx,val){var index=idx+
3;policyHtml+=createPrivacyPolicyHtml(val,index)});$("#privacyPolicy").append(policyHtml);$(".error-msg").hide();if(eventAddYn=="N")$("#inpCounselMembershipErr").html("<p>나의 정보에서 멤버십 회원 추가정보 입력 후</p><p>알림신청하면 멤버십 번호가 보여집니다.</p>");else if(eventAddYn=="Y")$("#inpCounselMembershipErr").html("<p>※멤버십번호가 보이지 않으시나요?</p><p>화면 우측 상단 > 나의정보 메뉴에서</p><p>멤버십 가입여부 확인 후 다시 시도해 보세요.</p><p>(미가입 시 가입 후 재시도 필요)</p>");if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}
function fnDrawPop4(){$("#popupArea_Event3791").html("");$("#tooltipArea_Event3791").html("");if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").append($popDiv4);else $("#popupArea").append($popDiv4);if($("#tooltipArea_Event3791").length>0)$("#tooltipArea_Event3791").append($tooltipDiv);else $("#tooltipArea").append($tooltipDiv);$(".titleNo").show()}
function drawPopHtmlCode4(){var html="";html+='<form id="eventEntryPopFrm">';html+='\t<input type="hidden" id="serialNumChk" value="N"/>';html+='\t<input type="hidden" id="serialNum" name="serialNum" value=""/>';html+='\t<input type="hidden" id="mdlCode" name="mdlCode" value=""/>';html+='\t<input type="hidden" id="focusTarget" value=""/>';html+='\t<input type="hidden" id="focusTargetType" value=""/>';html+='\t<input type="hidden" id="jsonStr" name="jsonStr" value=""/>';html+='\t<input type="hidden" id="entryEventNo" name="eventNo" value=""/>';
html+='\t<input type="hidden" id="evtGbCd" name="evtGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbGbCd" name="prtcpPsbGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbCnt" name="prtcpPsbCnt" value=""/>';html+='\t<input type="hidden" id="visPlazaNo" name="visPlazaNo" value=""/>';html+='\t<input type="hidden" id="visShopNo" name="visShopNo" value=""/>';html+='\t<input type="hidden" id="visPlazaNm" name="visPlazaNm" value=""/>';html+='\t<input type="hidden" id="visHopeDt" name="visHopeDt" value=""/>';
html+='\t<input type="hidden" id="visPlazaTel" name="visPlazaTel" value=""/>';html+='\t<input type="hidden" id="visPlazaAddr" name="visPlazaAddr" value=""/>';html+='\t<input type="hidden" id="cpNo" name="cpNo" value=""/>';html+='\t<input type="hidden" id="eventNm" name="eventNm" value=""/>';html+='\t<input type="hidden" id="microSiteUrl" name="microSiteUrl" value=""/>';html+='\t<input type="hidden" id="biztalkTmplTxt" name="biztalkTmplTxt" value=""/>';html+='\t<input type="hidden" id="biztalkUseYn" name="biztalkUseYn" value=""/>';
html+='\t<input type="hidden" id="prtnrCpUseYn" name="prtnrCpUseYn" value=""/>';html+='\t<input type="hidden" id="mktRcvSelYn" name="mktRcvSelYn" value=""/>';html+='\t<input type="hidden" id="weekdayCloseTime" name="weekdayCloseTime" value=""/>';html+='\t<input type="hidden" id="weekdayOpenTime" name="weekdayOpenTime" value=""/>';html+='\t<input type="hidden" id="weekendCloseTime" name="weekendCloseTime" value=""/>';html+='\t<input type="hidden" id="weekendOpenTime" name="weekendOpenTime" value=""/>';
html+='\t<input type="hidden" id="eventAddYn" name="eventAddYn" value=""/>';html+='\t<input type="hidden" id="popEntrySuccMsg4" name="popEntrySuccMsg4" value=""/>';html+='\t<input type="hidden" id="dvcTpCd" name="dvcTpCd" value=""/>';html+='\t<div class="layer-pop layer-normal layer-event-exhibition" id="popupExhibitionEnter" tabindex="0" data-popup-layer="popupExhibitionEnter" data-focus="popupExhibitionEnter">';html+='       <button type="button" id="exhibition" data-popup-target="popupExhibitionEnter" style="display: none;"></button>';
html+='\t    <div class="layer-header" id="evtHeader">';html+="\t        <h2>응모 하기</h2>";html+="\t    </div>";html+='\t    <div class="layer-content">';html+='\t        <div class="frm-login ">';html+='\t            <form action="">';html+='\t                <fieldset class="secureInp">';html+="\t                    <legend>응모 입력 폼</legend>";html+='\t\t\t\t\t\t <div class="event-img">';html+='\t                        <img src="" alt="" id="evtImg">';html+="\t                    </div>";html+='\t                    <div class="vote-txt-box eventGbCd70">';
html+='\t                        <p><strong><span id="evtNm"></span></strong> 투표에 참여해주셔서 감사합니다.</p>';html+="\t                        <p>투표 이벤트 추첨을 위해 아래 정보를 작성해주세요.</p>";html+='\t                        <p class="txt-major">* 투표하기는 1회만 가능합니다.</p>';html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form user-form">';html+='\t                        <div class="secure-pop-tit bottom-line"><span class="titleNo">01. </span><span id="popTitle4">응모자 정보</span></div>';
html+='\t                        <div class="secure-pop form-write">';html+='\t                            <div class="inp-box entryCollect10 entryCollect">';html+='\t                                <label for="inpEnterName" class="lb-line">이름</label>';html+="\t\t                            <div>";html+='\t\t                                <input type="text" id="inpEnterName" name="inpEnterName" class="inp-line" value="" readonly="readonly">';html+='\t\t                                <div class="error-msg" id="inpEnterNameErr">';
html+="\t                                    \t<p>이름을 입력해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect20 entryCollect">';html+='\t                                <label for="inpEnterCall" class="lb-line">연락처</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterCall" name="inpEnterCall" class="inp-line" placeholder="(-) 없이 숫자만 입력해 주세요." numberOnly maxlength="11">';
html+='\t                                    <div class="error-msg" id="inpEnterCallErr">';html+="\t                                    \t<p>연락처를 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg"  id="inpEnterCallErr2">';html+="\t                                    \t<p>연락처가 올바르지 않습니다.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";
html+='\t\t\t\t\t\t\t\t<div class="inp-box entryCollect60 entryCollect">';html+='\t\t\t\t\t\t\t\t    <label for="inpCounselMembership" class="lb-line line-double">삼성전자 <br>멤버십 번호</label>';html+="\t\t\t\t\t\t\t\t    <div>";html+='\t\t\t\t\t\t\t\t        <input type="text" id="inpCounselMembership" class="inp-line" value="" readonly="readonly">';html+='\t                                    <div class="error-msg" id="inpCounselMembershipErr">';html+="\t                                    </div>";html+=
"\t\t\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t                            <div class="inp-box entryCollect30 entryCollect">';html+='\t                                <label for="inpEnterEmail" class="lb-line">이메일</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterEmail" name="inpEnterEmail" class="inp-line" placeholder="이메일을 입력해 주세요.">';html+='\t                                    <div class="error-msg" id="inpEnterEmailErr">';
html+="\t                                        <p>이메일을 입력해 주세요. </p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterEmailErr2">';html+="\t                                        <p>이메일을 정확히 입력해 주세요. </p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect40 entryCollect">';
html+='\t                                <label for="inpEnterZonecode" class="lb-line">주소</label>';html+='\t\t                            <div class="address-box">';html+='\t\t                                <div class="address-search">';html+='\t                                        <input type="text" id="inpEnterZonecode" name="inpEnterZonecode"readonly="readonly" class="inp-line" title="우편번호" placeholder="우편번호를 검색해 주세요." value="">';html+='\t                                        <button type="button" class="btn btn-s btn-type1" id="zoneCodeBtn">우편번호</button>';
html+="\t                                    </div>";html+='\t                                    <div class="address-txt">';html+='\t                                        <div id="inpEnterAddressDiv" >';html+="\t                                        </div>";html+='\t                                        \t<input type="hidden" id="inpEnterAddress" name="inpEnterAddress">';html+="\t                                    </div>";html+='\t                                    <div class="address-detail">';
html+='\t                                        <input type="text" name="inpEnterAddressDetail" id="inpEnterAddressDetail" class="inp-line" placeholder="상세주소를 입력해 주세요.">';html+="\t                                    </div>";html+='\t                                     <div class="error-msg" id="inpEnterZonecodeErr">';html+="\t                                        <p>우편번호를 통해 주소를 선택해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+=
"\t                            </div>";html+='\t                            <div class="inp-box entryCollect50 entryCollect">';html+='\t                                <label for="inpEnterSns" class="lb-line">SNS 게시물 URL</label>';html+="\t\t                            <div>";html+='\t\t                                <div class="inquiry-con">';html+='\t\t                                    <textarea id="inpEnterSns" name="inpEnterSns" class="inp-line pop-tArea" placeholder="게시한 SNS URL을 입력해 주세요." maxlength="500"></textarea>';
html+='\t\t                                    <span class="txt-count sns-count"><em class="strong">0</em> / 500자</span>';html+="\t\t                                </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr">';html+="\t                                       <p>SNS 게시물 URL을 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr2">';html+="\t                                       <p>URL을 정확하게 입력해 주세요.</p>";
html+="\t                                    </div>";html+="\t                                </div>";html+="\t                            </div>";html+='\t                            <p class="txt-general eventGbCd70">* 잘못된 정보 입력 시 투표에 제한이 있을 수 있으며, 경품 당첨이 취소됩니다.</p>';html+='\t                            <div id="addFieldArea"> ';html+="\t                            </div>";html+='\t                            <div class="inp-box goodsSelect eventGbCd50">';html+='\t                                <label for="chk-goods-1" class="lb-line lb-top">제품 선택</label>';
html+="\t\t                            <div>";html+='\t                                    <ul class="chk-list-box chk-form mo-col1" id="goodsUl"></ul>';html+='\t                                     <div class="error-msg" id="chk-goods-err">';html+="\t                                        <p>제품을 선택해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box goodsSelect eventGbCd50">';
html+='\t                                <p class="label-box">';html+='\t                                    <label for="inpEnterSerialNum" class="lb-line">제품 시리얼 <br>넘버</label>';html+='\t                                    <i class="btn-tooltop02" data-tooltip="serialno-usetip"><span>툴팁보기(레이어열림)</span></i>';html+="\t                                </p>";html+="\t\t                            <div>";html+='\t\t                                <div class="inquiry-con">';html+='\t\t                                    <textarea id="inpEnterSerialNum" name="inpEnterSerialNum" class="inp-line pop-tArea" placeholder="제품 시리얼 넘버 확인 후 입력해 주세요." maxlength="500"></textarea>';
html+='\t\t                                    <span class="txt-count serial-count"><em class="strong">0</em> / 500자</span>';html+="\t                                    </div>";html+='\t                                    <div class="serial-box">';html+='\t                                        <p class="essential">* 제품의 시리얼 넘버를 입력하신 후 [확인하기] 버튼을 눌러주세요.</p>';html+='\t                                        <button type="button" class="btn btn-s btn-type1" id="chkSerialNoBtn">확인하기</button>';html+=
"\t                                    </div>";html+='\t                                     <div class="error-msg" id="inpEnterSerialNumErr">';html+="\t                                        <p>시리얼 넘버를 입력 후 확인해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+="\t                        </div>";html+="\t                    </div>";html+='\t                    <div class="survey-box qstList eventGbCd60">';
html+="\t                    </div>";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form user-form eventGbCd80">';html+='\t\t\t\t\t\t\t<div class="secure-pop-tit bottom-line"><span class="titleNo">02. </span>매장선택</div>';html+='\t\t\t\t\t\t    <p class="txt-general">매장 상담 가능한 매장 및 매장상담 희망일을 선택하세요.</p>';html+='\t\t\t\t\t\t    <div class="secure-pop">';html+='\t\t\t\t\t\t        <div class="inp-box">';html+='\t\t\t\t\t\t            <label for="inpCounselName" class="lb-line">시/도 선택</label>';
html+="\t\t\t\t\t\t            <div>";html+="\t\t\t\t\t\t                <div>";html+='\t\t\t\t\t\t                    <div class="select-box">';html+='\t\t\t\t\t\t                        <div id="dropAge" class="wrap-droplist">';html+='\t\t\t\t\t\t                            <button class="droplist-button selected" aria-haspopup="listbox" aria-labelledby="dropAreaBtn" id="dropAreaBtn">서울</button>';html+='\t\t\t\t\t\t                            <ul class="droplist" id="dropSiDo" tabindex="-1" role="listbox" aria-labelledby="dropAreaBtn" aria-activedescendant="dropArea1-1">';
html+="\t\t\t\t\t\t                            </ul>";html+="\t\t\t\t\t\t                        </div>";html+="\t\t\t\t\t\t                    </div>";html+="\t\t\t\t\t\t                </div>";html+="\t\t\t\t\t\t            </div>";html+="\t\t\t\t\t\t        </div>";html+='\t\t\t\t\t\t        <div class="inp-box">';html+='\t\t\t\t\t\t            <label for="inpCounselCall" class="lb-line">시/군/구 선택</label>';html+="\t\t\t\t\t\t           <div>";html+='\t\t\t\t\t\t                <div class="select-box">';
html+='\t\t\t\t\t\t                    <div id="dropAge" class="wrap-droplist">';html+='\t\t\t\t\t\t                        <button class="droplist-button selected" aria-haspopup="listbox" aria-labelledby="dropAreaBtn2" id="dropAreaBtn2">강남구</button>';html+='\t\t\t\t\t\t                        <ul class="droplist" id="dropSiGunGu" tabindex="-1" role="listbox" aria-labelledby="dropAreaBtn2" aria-activedescendant="dropArea2-1">';html+="\t\t\t\t\t\t                        </ul>";html+="\t\t\t\t\t\t                    </div>";
html+="\t\t\t\t\t\t                </div>";html+="\t\t\t\t\t\t            </div>";html+="\t\t\t\t\t\t        </div>";html+='\t\t\t\t\t\t        <ul class="chk-form style-btn store-select-list">';html+="\t\t\t\t\t\t        </ul>";html+='\t\t\t\t\t\t\t\t<div class="error-msg" id="radio-store1Err" style="text-align: center;">';html+="\t\t\t\t\t\t\t\t    <p>매장을 선택하세요</p>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t\t\t\t\t\t        <div class="store-detail-info">';html+='\t\t\t\t\t\t            <div class="store-detail">';
html+='\t\t\t\t\t\t                <p class="store-name"></p>';html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>주소</dt>";html+='\t\t\t\t\t\t                    <dd id="storeAddr"></dd>';html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>전화번호</dt>";html+='\t\t\t\t\t\t                    <dd id="storeTel"></dd>';html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t                <dl>";
html+="\t\t\t\t\t\t                    <dt>영업시간</dt>";html+='\t\t\t\t\t\t                    <dd id="storeOpenTime"></dd>';html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>주차공간</dt>";html+='\t\t\t\t\t\t                    <dd id="storeParkingInfo"></dd>';html+="\t\t\t\t\t\t                </dl>";html+='\t\t\t\t\t\t                <p class="btn-more-box"><a href="#" class="link" id="microSiteDetailView">상세보기 ></a></p>';html+=
"\t\t\t\t\t\t            </div>";html+='\t\t\t\t\t\t            <div class="store-detail-mapbox" id="map">';html+="\t\t\t\t\t\t                \x3c!-- 맵 영역 --\x3e";html+="\t\t\t\t\t\t            </div>";html+='\t\t\t\t\t\t            <div class="hope-visit-date">';html+='\t\t\t\t\t\t                <p class="date-title">방문 희망 일자 선택</p>';html+="\t\t\t\t\t\t                <dl>";html+="\t\t\t\t\t\t                    <dt>날짜선택</dt>";html+="\t\t\t\t\t\t                    <dd>";html+='\t\t\t\t\t\t                        <input type="text" id="visitDate" name="visitDate" placeholder="방문 희망 일자를 선택해 주세요." class="inp-line inp-calendar">';
html+='\t\t\t\t\t\t                        <p class="txt">* 삼성스토어 매장 마감시간은 20시 30분입니다.</p>';html+="\t\t\t\t\t\t                    </dd>";html+="\t\t\t\t\t\t                </dl>";html+="\t\t\t\t\t\t            </div>";html+="\t\t\t\t\t\t        </div>";html+="\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t</div>";html+='\t                    <div class="user-info-box secure-pop-form terms-form">';html+='\t                        <div class="secure-pop-tit bottom-line">';html+='\t                            <span class="titleNo">03. </span>개인정보 수집·이용 동의 <span class="ico-required">*<span>필수입력</span></span>';
html+="\t                        </div>";html+='\t                        <div class="secure-pop terms-con">';html+='\t                            <p class="txt-general">';html+="\t\t\t                                귀하께서는 본 동의 안내 문구를 숙지하셨으며, 안내문구에 대해 거절하실 수 있습니다.<br>";html+="\t\t\t                                단, 거절하신 경우에는 이벤트 응모가 제한되실 수 있습니다.";html+="\t                            </p>";html+='\t                            <div class="chk-form allChk-box">';html+='\t                                <input id="chk-enter-all" data-allchk-name="allCheck" data-children-name="checkEventEnter" type="checkbox" required="" title=""';
html+='\t                                    class="checkBoxTerms">';html+='\t                                <label for="chk-enter-all" class="chk-all">모든 약관을 확인하고 전체 동의합니다.</label>';html+="\t                            </div>";html+='\t                            <div id="privacyPolicy"></div>';html+="\t                        </div>";html+='\t                        <div class="help-box">';html+="\t                            <p>";html+='\t\t\t                                개인정보 처리에 대한 상세한 사항은 삼성전자 웹사이트  (<a href="http://www.samsung.com/sec" class="link" target="_blank">www.samsung.com/sec</a>)에 공개한 "삼성닷컴 이벤트 개인정보 처리방침"을 참조하십시오.<br>';
html+="\t\t\t                                다만, 본 동의서 내용과 상충되는 부분은 본 동의서 내용을 우선합니다.";html+="\t                            </p>";html+="\t                        </div>";html+="\t                    </div>";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form terms-form  eventGbCd80">';html+='\t\t\t\t\t\t    <div class="secure-pop-tit bottom-line">';html+='\t\t\t\t\t\t        <span class="titleNo">04. </span>신청 정보 확인';html+="\t\t\t\t\t\t    </div>";html+='\t\t\t\t\t\t    <p class="txt-general">방문 희망일자와 매장 정보를 확인 후 신청을 완료하세요.</p>';
html+='\t\t\t\t\t\t    <div class="final-check-box">';html+='\t\t\t\t\t\t        <p class="txt1 storeRsltMsg"><span class="txt-major selectedResultMsg"></span>으로<br> 매장방문을 신청합니다.</p>';html+='\t\t\t\t\t\t        <p class="txt2">※ 신청 시 카카오 알림톡으로 &lt;“<span id="ftEvtNm"></span>”&gt;<br> 초대장이 발송됩니다.</p>';html+='\t\t\t\t\t\t        <p class="btn-area"><button type="button" class="btn btn-d btn-type2" id="reservationBtn">신청하기</button></p>';html+="\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t</div>";html+=
'    \t\t\t\t\t<div id = "imageForm">';html+="    \t\t\t\t\t</div>";html+="\t                </fieldset>";html+="\t            </form>";html+='\t            <div class="btn-box " id="eventBtn_Area_div">';html+='\t\t            <button type="button" class="btn btn-d btn-type2" id="eventSaveBtn4">카카오톡 공유하기</button>';html+="\t\t        </div>";html+="\t        </div>";html+="\t    </div>";html+='\t    <button type="button" class="pop-close evt-pop-close" data-focus-next="popupExhibitionEnter">팝업닫기</button>';
html+="\t</div>\t";html+="</form>";return html}
function drawPopHtmlCode4_1(){var html="";html+="    \t\t\t\t\t\x3c!-- s : CHEER CARD form --\x3e";html+='    \t\t\t\t\t<div class="user-info-box secure-pop-form user-form">';html+='    \t\t\t\t\t\t<div class="secure-pop-tit bottom-line">코리아세일페스타 추천 패키지</div>';html+="    \t\t\t\t\t</div>";html+='    \t\t\t\t\t<ul class="cheer-cards">';html+="\t\t\t\t\t\t\t<li>";html+='\t\t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='\t\t\t\t\t\t\t\t\t<input type="radio" id="chrCard_01" name="chrCard" checked>';html+=
'\t\t\t\t\t\t\t\t\t<label for="chrCard_01">';html+="\t\t\t\t\t\t\t\t\t\t코리아세일페스타 소문내기";html+='\t\t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='\t\t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202211/sec_koreasale_img.jpg" alt="삼성전자와 함께하는 코리아세일페스타">';html+="\t\t\t\t\t\t\t\t\t\t</figure>";html+="\t\t\t\t\t\t\t\t\t</label>";html+="\t\t\t\t\t\t\t\t</div>";html+="\t\t\t\t\t\t\t</li>";html+="    \t\t\t\t\t</ul>";return html}
function drawPopHtmlCode4_2(){var html="";html+="    \t\t\t\t\t\x3c!-- s : CHEER CARD form --\x3e";html+='    \t\t\t\t\t<div class="user-info-box secure-pop-form user-form">';html+='    \t\t\t\t\t\t<div class="secure-pop-tit bottom-line">삼성전자 가을 추천 패키지</div>';html+="    \t\t\t\t\t</div>";html+='    \t\t\t\t\t<ul class="cheer-cards">';html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_01" name="chrCard" checked>';
html+='    \t\t\t\t\t\t\t\t<label for="chrCard_01">';html+="    \t\t\t\t\t\t\t\t\t즐거운 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_01.jpg" alt="집에서 편안하게 영화/드라마 즐기기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';
html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_02" name="chrCard">';html+='    \t\t\t\t\t\t\t\t<label for="chrCard_02">';html+="    \t\t\t\t\t\t\t\t\t맛있는 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_02.jpg" alt="풍성한 식재료로 맛있는 집 밥 만들기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";
html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_03" name="chrCard">';html+='    \t\t\t\t\t\t\t\t<label for="chrCard_03">';html+="    \t\t\t\t\t\t\t\t\t멋있는 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_03.jpg" alt="찬바람이 시작되는 계절, 롱 코트로 멋 내기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";
html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_04" name="chrCard">';html+='    \t\t\t\t\t\t\t\t<label for="chrCard_04">';html+="    \t\t\t\t\t\t\t\t\t깨끗한 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_04.jpg" alt="우리집도 가을 하늘처럼 깨끗하게 만들기">';
html+="    \t\t\t\t\t\t\t\t\t</figure>";html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";html+="    \t\t\t\t\t</ul>";return html}
$(document).on("click","#eventSaveBtn4",function(){$("#focusTarget").val("");if(fnValidationCheck4()){if(fnValidationSelCard())makeAlert("공유를 위해 카카오톡APP이 실행되며,<br>카카오톡 APP을 통해 반드시 공유하기를 완료해야 참여됩니다.",fnSaveEventEntry4)}else{var id=$("#focusTarget").val();var type=$("#focusTargetType").val();if(type=="")setTimeout(function(){$("#"+id).focus()},1);else $("input[name="+id+"]").focus();return}});
function fnSaveEventEntry4(){if($("#inpEnterSns").val()){var snsUrl=$("#inpEnterSns").val();snsUrl=snsUrl.trim().replace(/^(http|https):\/\//,"");$("#inpEnterSns").val(snsUrl)}$("#addFieldArea").children(".inp-box").each(function(){var $addFieldId=$(this).find("[id^='addField']");var fldtpcd=$addFieldId.data("fldtpcd");if(fldtpcd===10||fldtpcd===20||fldtpcd===90){var fldVal=$addFieldId.val();fldVal=fldVal.trim().replace(/^(http|https):\/\//,"");$addFieldId.val(fldVal)}});createJsonStr();var options=
{url:stPath+"xhr/event/insertEventEntry",data:$("#eventEntryPopFrm").serialize(),done:function(data){var result=data.result;if(result.resultCd=="success"){var eventUrl=document.location.href;var eventTitle="";var eventImagePath="";var eventDesc="";var msg=$("#popEntrySuccMsg4").val();var eventNo=$("#entryEventNo").val();var mbrNo=sessionMbr;if(eventAddYn=="B2C_KSF_KAKAO_SEND"){eventTitle="삼성전자와 함께하는 코리아세일페스타";eventImagePath=$("[name='chrCard']:checked").parent().find("img").attr("src");eventDesc=
"삼성닷컴에서 행사 내용을 확인하고, 소문내기 경품 이벤트에도 참여하세요!"}else if(eventAddYn=="B2C_KAKAO_SEND"){eventTitle="삼성전자와 함께하는 가을 추천패키지";eventImagePath=$("[name='chrCard']:checked").parent().find("img").attr("src");eventDesc="삼성닷컴에서 행사 내용을 확인하고, 소문내기 경품 이벤트에도 참여하세요!"}snsShare.kakaoTalkCallback(eventUrl,eventTitle,eventImagePath,eventDesc,eventNo,mbrNo);$("#commonAlert p").replaceWith("<pre style='white-space: pre-wrap;'></pre>");makeAlert3(msg,eventPopClose3);adbrixCustomEvent(entryEvent.ttl,pblcEvtNo)}else makeAlert(result.resultMsg,
eventPopClose)}};$(".btn-box").removeAttr("style");if(isPreView)return;oneTimeChk=false;ajax.call(options)}
function fnValidationCheck4(){var passyn="Y";$(".error-msg").hide();if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show();var collectItem={10:{id:"inpEnterName",errId1:"inpEnterNameErr",errId2:"inpEnterNameErr",callback:null},20:{id:"inpEnterCall",errId1:"inpEnterCallErr",errId2:"inpEnterCallErr2",callback:fnMobileCheck},30:{id:"inpEnterEmail",errId1:"inpEnterEmailErr",errId2:"inpEnterEmailErr2",callback:fnEmailCheck},40:{id:"inpEnterZonecode",errId1:"inpEnterZonecodeErr",errId2:"inpEnterZonecodeErr",
callback:null},50:{id:"inpEnterSns",errId1:"inpEnterSnsErr",errId2:"inpEnterSnsErr2",callback:fnUrlCheck},60:{id:"inpCounselMembership",errId1:"inpCounselMembershipErr",errId2:"inpCounselMembershipErr",callback:null}};$.each(collectItems,function(idx,val){var collectItemId=collectItem[val.collectItemCd].id;var collectItemErrId=collectItem[val.collectItemCd].errId1;var collectItemVal=$("#"+collectItemId).val();if(collectItemVal==""){$("#"+collectItemErrId).show();passyn="N";fnFocusIdSet(collectItemId)}});
var validationSubResult;var chkArr=["20","30"];$.each(chkArr,function(i,val){validationSubResult=fnValidationSub(collectItem[val]);if(!validationSubResult){passyn="N";fnFocusIdSet(collectItem[val].id)}});passyn=fnValidationAddFieldsChk(passyn);if(eventGbCd=="40")$("#eventNm").val(entryEvent.ttl);passyn=fnValidationPrivacyPolicy(passyn);return passyn=="Y"?true:false}
function setEventPop5(data){fnDrawPop5();$("#exhibition").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;$("#entryEventNo").val(entryEvent.eventNo);sessionMbr=eventInfo.loginUserMbrNo;eventAddYn=entryEvent.eventAddYn;if(eventAddYn=="B2C_KSF_KAKAO_SEND")$("#imageForm").empty().append(drawPopHtmlCode5_1());else if(eventAddYn=="B2C_KAKAO_SEND")$("#imageForm").empty().append(drawPopHtmlCode5_2());$("#eventSaveBtn5").text(entryEvent.popEntryCtaText);$("#popEntrySuccMsg5").val(entryEvent.popEntrySuccMsg);
var imgUrl="";var filter="win16|win32|win64|mac|macintel";if(navigator.platform)if(filter.indexOf(navigator.platform.toLowerCase())<0)imgUrl="//"+entryEvent.moImgPath;else imgUrl="//"+entryEvent.pcImgPath;$("#evtImg").attr("src",imgUrl)}
function fnDrawPop5(){$("#popupArea_Event3791").html("");$("#tooltipArea_Event3791").html("");if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").append($popDiv5);else $("#popupArea").append($popDiv5);if($("#tooltipArea_Event3791").length>0)$("#tooltipArea_Event3791").append($tooltipDiv);else $("#tooltipArea").append($tooltipDiv);$(".titleNo").show()}
function drawPopHtmlCode5(){var html="";html+="\x3c!-- s : 21-10-22 KOREA Sale FESTA - 응원카드 카톡공유 --\x3e";html+='<input type="hidden" id="focusTargetType" value=""/>';html+='<input type="hidden" id="entryEventNo" name="eventNo" value=""/>';html+='<input type="hidden" id="popEntrySuccMsg5" name="popEntrySuccMsg5" value=""/>';html+='<div class="layer-pop layer-normal layer-event-exhibition" id="popupExhibitionEnter" tabindex="0" data-popup-layer="popupExhibitionEnter" data-focus="popupExhibitionEnter">';
html+='   <button type="button" id="exhibition" data-popup-target="popupExhibitionEnter" style="display: none;"></button>';html+='   <div id = "imageForm">';html+="   </div>";html+='\t<button type="button" class="pop-close evt-pop-close" data-focus-next="popupExhibitionEnter">팝업닫기</button>';html+="</div>";html+="\x3c!-- e : 21-10-22 KOREA Sale FESTA - 응원카드 카톡공유 --\x3e";return html}
function drawPopHtmlCode5_1(){var html="";html+='\t\t<div class="layer-header text-hide">';html+="\t\t\t<h2>공유 이미지 - 카카오톡 공유하기</h2>";html+="\t\t</div>";html+='\t\t<div class="layer-content">';html+='\t\t\t<div class="">';html+='\t\t\t\t<form action="">';html+='\t\t\t\t\t<fieldset class="secureInp">';html+="\t\t\t\t\t\t<legend>KOREA SALE FESTA</legend>";html+='\t\t\t\t\t\t<div class="event-img">';html+='    \t\t\t\t\t\t<img src="" alt="삼성전자와 함께하는 코리아세일페스타" id="evtImg">';html+="\t\t\t\t\t\t</div>";
html+="\t\t\t\t\t\t\x3c!-- s : CHEER CARD form --\x3e";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form user-form">';html+='\t\t\t\t\t\t\t<div class="secure-pop-tit bottom-line">삼성전자와 함께하는 코리아세일페스타</div>';html+="\t\t\t\t\t\t</div>";html+='\t\t\t\t\t\t<ul class="cheer-cards">';html+="\t\t\t\t\t\t\t<li>";html+='\t\t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='\t\t\t\t\t\t\t\t\t<input type="radio" id="chrCard_01" name="chrCard" checked>';html+='\t\t\t\t\t\t\t\t\t<label for="chrCard_01">';
html+="\t\t\t\t\t\t\t\t\t\t코리아세일페스타 소문내기";html+='\t\t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='\t\t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202211/sec_koreasale_img.jpg" alt="삼성전자와 함께하는 코리아세일페스타">';html+="\t\t\t\t\t\t\t\t\t\t</figure>";html+="\t\t\t\t\t\t\t\t\t</label>";html+="\t\t\t\t\t\t\t\t</div>";html+="\t\t\t\t\t\t\t</li>";html+="\t\t\t\t\t\t</ul>";html+="\t\t\t\t\t\t\x3c!-- e : CHEER CARD form --\x3e";html+="\t\t\t\t\t</fieldset>";html+="\t\t\t\t</form>";
html+='\t\t\t\t<div class="btn-box">';html+='\t\t\t\t\t<button type="button" class="btn btn-d btn-type2" id="eventSaveBtn5">카카오톡 공유하기</button>';html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+="\t\t</div>";return html}
function drawPopHtmlCode5_2(){var html="";html+='\t\t<div class="layer-header text-hide">';html+="\t\t\t<h2>삼성전자 가을 추천 패키지 - 카카오톡 공유하기</h2>";html+="\t\t</div>";html+='\t\t<div class="layer-content">';html+='\t\t\t<div class="">';html+='\t\t\t\t<form action="">';html+='\t\t\t\t\t<fieldset class="secureInp">';html+="\t\t\t\t\t\t<legend>BESPOKE GRANDE AI</legend>";html+='\t\t\t\t\t\t<div class="event-img">';html+='    \t\t\t\t\t\t<img src="" alt="삼성닷컴에서 행사 내용을 확인하고, 소문내기 경품 이벤트에도 참여하세요!" id="evtImg">';
html+="\t\t\t\t\t\t</div>";html+="\t\t\t\t\t\t\x3c!-- s : CHEER CARD form --\x3e";html+='\t\t\t\t\t\t<div class="user-info-box secure-pop-form user-form">';html+='\t\t\t\t\t\t\t<div class="secure-pop-tit bottom-line">삼성전자 가을 추천 패키지</div>';html+="\t\t\t\t\t\t</div>";html+='    \t\t\t\t\t<ul class="cheer-cards">';html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_01" name="chrCard" checked>';html+='    \t\t\t\t\t\t\t\t<label for="chrCard_01">';
html+="    \t\t\t\t\t\t\t\t\t즐거운 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_01.jpg" alt="집에서 편안하게 영화/드라마 즐기기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_02" name="chrCard">';
html+='    \t\t\t\t\t\t\t\t<label for="chrCard_02">';html+="    \t\t\t\t\t\t\t\t\t맛있는 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_02.jpg" alt="풍성한 식재료로 맛있는 집 밥 만들기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';
html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_03" name="chrCard">';html+='    \t\t\t\t\t\t\t\t<label for="chrCard_03">';html+="    \t\t\t\t\t\t\t\t\t멋있는 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_03.jpg" alt="찬바람이 시작되는 계절, 롱 코트로 멋 내기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";
html+="    \t\t\t\t\t\t<li>";html+='    \t\t\t\t\t\t\t<div class="chk-form terms-more">';html+='    \t\t\t\t\t\t\t\t<input type="radio" id="chrCard_04" name="chrCard">';html+='    \t\t\t\t\t\t\t\t<label for="chrCard_04">';html+="    \t\t\t\t\t\t\t\t\t깨끗한 가을";html+='    \t\t\t\t\t\t\t\t\t<figure class="card-img">';html+='    \t\t\t\t\t\t\t\t\t\t<img src="https://images.samsung.com/kdp/event/samsungsale/202210/sec_autumn_img_04.jpg" alt="우리집도 가을 하늘처럼 깨끗하게 만들기">';html+="    \t\t\t\t\t\t\t\t\t</figure>";
html+="    \t\t\t\t\t\t\t\t</label>";html+="    \t\t\t\t\t\t\t</div>";html+="    \t\t\t\t\t\t</li>";html+="    \t\t\t\t\t</ul>";html+="\t\t\t\t\t\t\x3c!-- e : CHEER CARD form --\x3e";html+="\t\t\t\t\t</fieldset>";html+="\t\t\t\t</form>";html+='\t\t\t\t<div class="btn-box">';html+='\t\t\t\t\t<button type="button" class="btn btn-d btn-type2" id="eventSaveBtn5">카카오톡 공유하기</button>';html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+="\t\t</div>";return html}
$(document).on("click","#eventSaveBtn5",function(){if(fnValidationSelCard()){$("#focusTarget").val("");makeAlert("공유를 위해 카카오톡APP이 실행되며,<br>카카오톡 APP을 통해 반드시 공유하기를 완료해야 참여됩니다.",fnSaveEventEntry5)}});
function fnSaveEventEntry5(){var eventUrl=document.location.href;var eventTitle="";var eventImagePath="";var eventDesc="";var msg=$("#popEntrySuccMsg5").val();var eventNo=$("#entryEventNo").val();var mbrNo=sessionMbr;if(eventAddYn=="B2C_KSF_KAKAO_SEND"){eventTitle="삼성전자와 함께하는 코리아세일페스타";eventImagePath=$("[name='chrCard']:checked").parent().find("img").attr("src");eventDesc="삼성닷컴에서 행사 내용을 확인하고, 소문내기 경품 이벤트에도 참여하세요!"}else if(eventAddYn=="B2C_KAKAO_SEND"){eventTitle="삼성전자와 함께하는 가을 추천패키지";eventImagePath=
$("[name='chrCard']:checked").parent().find("img").attr("src");eventDesc="삼성닷컴에서 행사 내용을 확인하고, 소문내기 경품 이벤트에도 참여하세요!"}snsShare.kakaoTalkCallback(eventUrl,eventTitle,eventImagePath,eventDesc,eventNo,mbrNo);$("#commonAlert p").replaceWith("<pre style='white-space: pre-wrap;'></pre>");makeAlert3(msg,eventPopClose3)}
function fnValidationSelCard(){var passyn=true;passyn=$("input[name='chrCard']").is(":checked");if(!passyn)if(eventInfo.entryEvent.eventAddYn=="B2C_KSF_KAKAO_SEND")makeAlert("소문내기카드를 선택해 주세요.");else if(eventInfo.entryEvent.eventAddYn=="B2C_KAKAO_SEND")makeAlert("추천 패키지를 선택해 주세요.");return passyn}
function drawSurveyHtmlCode(){stPath=$("#openPop").data("st-path");var options={url:stPath+"xhr/event/getEventSurveyCodeList",done:function(data){var evtSurBftCdList=data.evtSurBftCdList;var evtSurPhoneCdList=data.evtSurPhoneCdList;var evtSurMobileCdList=data.evtSurMobileCdList;var html="";html+='<div class="layer-pop layer-normal layer-event-survey" id="popupAddSurvey" style="z-index:300;" tabindex="0" data-popup-layer="popupAddSurvey" data-focus="popupAddSurvey">';html+='    <button type="button" id="exhibition" data-popup-target="popupAddSurvey" style="display: none;"></button>';
html+='    <div class="layer-header tCenter">';html+="        <h2>간단한 질문에 답해주세요!<br>고객님께 딱 맞는 제품과 혜택을 알려드립니다</h2>";html+="    </div>";html+='    <div class="layer-content">';html+='\t\t<div class="frm-login wrap-scroll">';html+='\t\t\t<form id="eventEntrySurveyPopFrm">';html+='\t            <input type="hidden" id="joinNo" name="joinNo" />';html+='\t            <input type="hidden" id="eventNo" name="eventNo" />';html+='\t            <input type="hidden" id="evtSurBftCd" name="evtSurBftCd" value=""/>';
html+='\t            <input type="hidden" id="evtSurPhoneCd" name="evtSurPhoneCd" value=""/>';html+='\t            <input type="hidden" id="evtSurMobileCd" name="evtSurMobileCd" value=""/>';html+='\t\t\t\t<input type="hidden" id="focusTarget" value=""/>';html+='\t\t\t\t<input type="hidden" id="focusTargetType" value=""/>';html+='\t\t\t\t<input type="hidden" id="jsonStr" name="jsonStr" value=""/>';html+="\t\t\t\t<fieldset>";html+="\t\t\t\t\t<legend>설문조사 입력</legend>";html+='\t\t<div class="inp-box-survey bg-box type2">                                                         ';
html+='        <div class="inp-box">                                                                            ';html+='            <p class="txt-survey" id="galaxy-survey1">스마트폰 구매 시 가장 중요하게 고려하는 사항을 선택해 주세요.</p>\t\t  ';html+='            <div id="evtSurBftCdList" class="survey-box" aria-labelledby="galaxy-survey1">                                    ';html+='                <ul class="chk-form">                                                                    ';for(var i=0;i<evtSurBftCdList.length;i++){html+=
"                    <li>                                                                                 ";html+='                        <input type="checkbox" id="gs1-'+(i+1)+'" data-pd-type-cd="'+evtSurBftCdList[i].dtlCd+'" data-pd-type-nm="'+evtSurBftCdList[i].dtlNm+'">                                               ';html+='                        <label for="gs1-'+(i+1)+'">'+evtSurBftCdList[i].dtlNm+"</label>                                                  ";html+="                    </li>                                                                                "}html+=
"            \t</ul>                                                                                 ";html+="            </div>                                                                                  ";html+="        </div>                                                                                           ";html+='        <div class="inp-box">                                                                            ';html+='            <p class="txt-survey" id="galaxy-survey2">가장 선호하는 혜택을 선택해 주세요.</p>            ';
html+='            <div id="evtSurPhoneCdList" class="galaxy-survey-box" aria-labelledby="galaxy-survey2">                             ';html+='                <ul class="chk-form">                                                                    ';for(var i=0;i<evtSurPhoneCdList.length;i++){html+="                    <li>                                                                                 ";html+='                        <input type="checkbox" id="gs2-'+(i+1)+'" data-pd-type-cd="'+
evtSurPhoneCdList[i].dtlCd+'" data-pd-type-nm="'+evtSurPhoneCdList[i].dtlNm+'">                                               ';html+='                        <label for="gs2-'+(i+1)+'">'+evtSurPhoneCdList[i].dtlNm+"</label>                                                  ";html+="                    </li>                                                                                "}html+="            \t</ul>                                                                               ";html+=
"            </div>                                                                                  ";html+="        </div>                                                                                           ";html+='        <div class="inp-box">                                                                            ';html+='            <p class="txt-survey" id="galaxy-survey3">현재 사용중인 스마트폰의 제조사를 선택해 주세요.</p>';html+='            <div id="evtSurMobileCdList" class="galaxy-survey-box" aria-labelledby="galaxy-survey3">                             ';
html+='                <ul class="chk-form">                                                                    ';for(var i=0;i<evtSurMobileCdList.length;i++){html+="                    <li>                                                                                 ";html+='                        <input type="checkbox" id="gs3-'+(i+1)+'" data-pd-type-cd="'+evtSurMobileCdList[i].dtlCd+'" data-pd-type-nm="'+evtSurMobileCdList[i].dtlNm+'">                                               ';html+=
'                        <label for="gs3-'+(i+1)+'">'+evtSurMobileCdList[i].dtlNm+"</label>                                                  ";html+="                    </li>                                                                                "}html+="                </ul>                                                                           ";html+="            </div>                                                                                       ";html+="        </div>                                                                                           ";
html+="        </div>                                                                                           ";html+="\t\t\t\t</fieldset>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t";html+="\t\t\t</form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t";html+="\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t";html+='        <div class="btn-box">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t';
html+='            <button id="eventSurveySaveBtn" type="button" class="btn btn-d btn-type2">제출하기</button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t';html+="        </div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t";html+="    </div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t";html+='    <button type="button" class="pop-close evt-pop-close" data-focus-next="popupAddSurvey">팝업닫기</button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t';
html+="</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t";if($("#popupArea_Event3791").length>0){$("#popupArea_Event3791").append(html);$("#exhibition").click()}$("#eventEntrySurveyPopFrm > #eventNo").val(entryEvent.eventNo)}};ajax.call(options)}
function fnSaveEventSurvey(){$(".error-msg").hide();$("#focusTarget").val("");if(fnSurveyValidCheck()){createSurveyJsonStr();var options={url:stPath+"xhr/event/insertEventSurvey",data:$("#eventEntrySurveyPopFrm").serialize(),done:function(data){var result=data.result;makeAlert3(result.resultMsg,eventPopClose3)}};ajax.call(options)}else{var id=$("#focusTarget").val();var type=$("#focusTargetType").val();if(type=="")setTimeout(function(){$("#"+id).focus()},1);else $("input[name="+id+"]").focus();return}}
function fnSurveyValidCheck(){var passyn="Y";var evtSurBftCd=$("#evtSurBftCdList > ul > li > input[type='checkbox']:checked").data("pd-type-cd");var evtSurPhoneCd=$("#evtSurPhoneCdList > ul > li > input[type='checkbox']:checked").data("pd-type-cd");var evtSurMobileCd=$("#evtSurMobileCdList > ul > li > input[type='checkbox']:checked").data("pd-type-cd");if(joinNo===undefined||joinNo==""){passYn="N";alert("응모번호가 존재하지 않습니다.")}else $("#eventEntrySurveyPopFrm > #joinNo").val(joinNo);if(evtSurBftCd===undefined);
else $("#eventEntrySurveyPopFrm > #evtSurBftCd").val(evtSurBftCd);if(evtSurPhoneCd===undefined);else $("#eventEntrySurveyPopFrm > #evtSurPhoneCd").val(evtSurPhoneCd);if(evtSurMobileCd===undefined);else $("#eventEntrySurveyPopFrm > #evtSurMobileCd").val(evtSurMobileCd);if(evtSurBftCd===undefined&&evtSurPhoneCd===undefined&&evtSurMobileCd===undefined){$(".evt-pop-close").trigger("click");return}return passyn=="Y"?true:false}
function createSurveyJsonStr(){var jsonStr=new Object;var rowArr=new Array;var index=0;var addSurvey=new Object;var addSurveyFields=new Array;addSurvey.fldNo="evtSurBftCdList";addSurvey.surveyFldTpCd=50;addSurvey.fldGrp=1;addSurvey.fldNm="스마트폰 구매 시 가장 중요하게 고려하는 사항을 선택해 주세요.";addSurveyFields.push(addSurvey);addSurvey=new Object;addSurvey.fldNo="evtSurPhoneCdList";addSurvey.surveyFldTpCd=50;addSurvey.fldGrp=2;addSurvey.fldNm="가장 선호하는 혜택을 선택해 주세요.";addSurveyFields.push(addSurvey);addSurvey=new Object;
addSurvey.fldNo="evtSurMobileCdList";addSurvey.surveyFldTpCd=50;addSurvey.fldGrp=3;addSurvey.fldNm="현재 사용중인 스마트폰의 제조사를 선택해 주세요.";addSurveyFields.push(addSurvey);$.each(addSurveyFields,function(idx,item){var jobj=new Object;var id=item.fldNo;var surveyFldTpCd=item.surveyFldTpCd;if(surveyFldTpCd=="10"||surveyFldTpCd=="20"||surveyFldTpCd=="90"||surveyFldTpCd=="100"||surveyFldTpCd=="130");else if(surveyFldTpCd=="30");else if(surveyFldTpCd=="40");else if(surveyFldTpCd=="50"){var selPos=$("#"+id+" > ul > li > input[type='checkbox']:checked");
var selText="";$.each(selPos,function(idx,obj){selText+=selPos.eq(idx).data("pd-type-nm");if(idx!=selPos.length-1)selText+=","});if(selText!=""){jobj.fldNo=item.fldNo+"";jobj.fldGrp=item.fldGrp;jobj.surveyFldTpCd=item.surveyFldTpCd+"";jobj.fldNm=item.fldNm;jobj.fldVal=selText;rowArr.push(jobj);jsonStr.addSurveyFields=rowArr}index++}else if(surveyFldTpCd=="60");else if(surveyFldTpCd=="110");else if(surveyFldTpCd=="120");});if(index==0)$("#jsonStr").val("noData");else $("#jsonStr").val(JSON.stringify(jsonStr))}
function drawEventKcbAuthDivHtmlCode(data){var html="";html+='<form name="form_kcbPhoneEvt" method="post">';html+='\t<input type="hidden" name="tc" value="kcb.oknm.online.safehscert.popup.cmd.P931_CertChoiceCmd">';html+='\t<input type="hidden" name="cp_cd" value="">';html+='\t<input type="hidden" name="mdl_tkn" value="">';html+="</form>";return html}
function fnCallPop7(evtNo){pblcEvtNo=evtNo;oneTimeChk=false;returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options={url:stPath+"xhr/event/getEventBaseInfo",
data:param,done:function(data){$("#mask").remove();var eventInfo=data.eventInfo;if(eventInfo.errMsg==""||eventInfo.errMsg==null)if(!certificationKcbFlag){eventAddYn=eventInfo.entryEvent.eventAddYn;fnKcbPopup(data)}else setEventPopRenewal(data);else if(eventInfo.errCd=="LGN0005")makeAlert(eventInfo.errMsg,fnGoLoginPage);else makeAlert(eventInfo.errMsg,eventPopClose);if(eventGbCd)if(eventInfo.plazas)$("#eventBtn_Area_div").css("display","none");else $("#eventBtn_Area_div").css("display","")}};if(evtNo==
"31892")if(!certificationKcbFlag)options=$.extend({},options,{netFunnelId:"b2c_cta_event"});ajax.call(options);multiFileCnt=0}
function fnKcbPopup(data){stPath=$("#openPop").data("st-path");$eventKcbAuthDiv=$(drawEventKcbAuthDivHtmlCode(data));$("#popupArea_Event3791").html("");if($("#popupArea_Event3791").length>0){$("#popupArea_Event3791").append($eventKcbAuthDiv);var kcbPhone=data.kcbPhone;$("form[name='form_kcbPhoneEvt']").children("input[name='cp_cd']").val(kcbPhone.cp_CD);$("form[name='form_kcbPhoneEvt']").children("input[name='mdl_tkn']").val(kcbPhone.mdl_TKN)}var agent=navigator.userAgent.toLowerCase();if(navigator.appName===
"Netscape"&&agent.indexOf("trident")!==-1||agent.indexOf("msie")!==-1)newWindowAndSubmit({url:stPath+"popupKcbPhone/",stContextPath:stPath});else{window.open("","popupChk","width=600, height=850, top=100, left=100, fullscreen=no, menubar=no, status=no, toolbar=no, titlebar=yes, location=no, scrollbar=no");document.form_kcbPhoneEvt.action="https://safe.ok-name.co.kr/CommonSvl";document.form_kcbPhoneEvt.target="popupChk";document.form_kcbPhoneEvt.submit()}}
function fnCallPop7Chain(){fnCallPop7(pblcEvtNo)}
$(document).on("click",".voteAnswer",function(){if(eventAddYn=="B2C_CHARACTER_INCRUIT"){var title="";var html="";var checkCnt=0;$(this).parent().parent().parent().find(".item").each(function(){if($(this).find("input").is(":checked")==true){if(title=="")title=$(this).find("input").val();checkCnt++}});if(checkCnt==0){$(this).parents(".dropOption").find("a").removeClass("right-add-icon");html+="\t\t\t<span class='left-title'>내용을 확인하고 선택해주세요</span>"}else if(checkCnt==1){$(this).parents(".dropOption").find("a").removeClass("right-add-icon").addClass("right-add-icon");
html+="\t\t\t<span class='left-title'>"+title+"</span>";html+="\t\t<span class='round-icon-sky'>선택 완료</span>"}else{checkCnt--;$(this).parents(".dropOption").find("a").removeClass("right-add-icon").addClass("right-add-icon");html+="\t\t\t<span class='left-title'>"+title+"</span>";html+="\t\t\t<em class='others-num'>외 "+checkCnt+"개</em>";html+="\t\t<span class='round-icon-sky'>선택 완료</span>"}$(this).parents(".dropOption").find("a").empty().append(html)}else{var title="";var html="";var checkCnt=0;$(this).parent().parent().find(".item").each(function(){if($(this).find("input").is(":checked")==
true){if(title=="")title=$(this).find("input").val();checkCnt++}});if(checkCnt==0){$(this).parents(".dropOption").find("a").removeClass("right-add-icon");html+="\t\t\t<span class='left-title'>내용을 확인하고 선택해주세요</span>"}else if(checkCnt==1){$(this).parents(".dropOption").find("a").removeClass("right-add-icon").addClass("right-add-icon");html+="\t\t\t<span class='left-title'>"+title+"</span>";html+="\t\t<span class='round-icon-sky'>선택 완료</span>"}else{checkCnt--;$(this).parents(".dropOption").find("a").removeClass("right-add-icon").addClass("right-add-icon");
html+="\t\t\t<span class='left-title'>"+title+"</span>";html+="\t\t\t<em class='others-num'>외 "+checkCnt+"개</em>";html+="\t\t<span class='round-icon-sky'>선택 완료</span>"}$(this).parents(".dropOption").find("a").empty().append(html)}});
function handdleSlideDownUpPrecaution(e){var $e=$(e);if($e.length==0)return false;$e.find(".dropButton").off("click").on("click",function(e){$(this).next().slideUp("fast");$(this).parent().find(".dropButton").removeClass("open");$(this).parent().removeClass("opened");if(!$(this).next().is(":visible")){$(this).next().slideDown("fast");$(this).addClass("open");$(this).parent().addClass("opened")}})}var LAYERZINDEX=255;
function layerPopCampusFunc(){var openBtn="[data-popup-gCams]",closeBtn=".pop-cams-close";function getTarget(t){if($(t).attr("data-popup-gCams"))return $(t).attr("data-popup-gCams");else return $(t).closest("a").attr("data-popup-gCams")}function open(t){var showTarget=$("[data-popup-gCams-layer="+t+"]");if($(".layer-pop-cams").is(":visible"))LAYERZINDEX++;showTarget.show().css("z-index",255).attr("aria-hidden",false).attr("data-zindex",255).focus();showTarget.find(".pop-cams-close").data("activeTarget",
t);if(!showTarget.hasClass("embed"))$("body *").not($("#"+t)).not($("#"+t).parents()).not($("#"+t).find("*")).not($("[data-popup-gCams="+t+"]").parents()).not($("[data-popup-gCams="+t+"]")).attr("aria-hidden",true);if(!showTarget.hasClass("nomask")){var zidx=parseInt($("#"+t).attr("data-zindex"))-1;$("body").append("<div id='mask-cams' data-mask-target='"+t+"' style='z-index:"+zidx+"'></div>");$("#mask-cams").fadeIn().data("activeTarget",t);$("body").css("overflow","hidden")}}function close(t){var activeTarget=
$("[data-popup-gCams-layer="+t+"]");activeTarget.removeAttr("style").removeAttr("data-zindex").attr("aria-hidden",true).hide();if(!$(".layer-pop-cams").is(":visible"))$("body").css("overflow","");$("#mask-cams[data-mask-target='"+t+"']").fadeOut("fast").remove();$("[data-popup-gCams="+t+"]").focus();if(!activeTarget.hasClass("embed"))$("body *").not($("#"+t)).not($("#"+t).parents()).not($("#"+t).find("*")).not($("[data-popup-gCams="+t+"]").parents()).not($("[data-popup-gCams="+t+"]")).removeAttr("aria-hidden")}
$(document).on("click",openBtn,function(e){e.preventDefault();open(getTarget(e.target))}).on("click",closeBtn,function(e){e.preventDefault();close($(this).data("activeTarget"))})}
function fnStampCallPop(evtNo){oneTimeChk=false;pblcEvtNo=evtNo;returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else returnUrl+="?eventNo="+pblcEvtNo;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options=
{url:stPath+"xhr/event/getEventBaseInfo",data:param,done:function(data){$("#mask").remove();var eventInfo=data.eventInfo;kakaoAppKeyEvent=data.kakaoAppKey;if(eventInfo.errMsg==""||eventInfo.errMsg==null)setEventStampPop(data);else if(eventInfo.errCd=="LGN0005")makeAlert(eventInfo.errMsg,fnGoLoginPage);else makeAlert(eventInfo.errMsg,eventPopClose)}};ajax.call(options)}
function setEventStampPop(data){fnDrawPopStamp();$("#popupCertInfoBtn").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;eventAddYn=entryEvent.eventAddYn;eventAddType=entryEvent.eventAddYn;addFields=eventInfo.addFields;$("#entryStampEventNo").val(entryEvent.eventNo);sessionMbr=eventInfo.loginUserMbrNo;membershipNo=eventInfo.loginUserMembership;if(sessionMbr!=0&&sessionMbr!=null){$("#inpStampEnterName").val(eventInfo.loginUserMbrNm);$("#inpStampEnterCall").val(eventInfo.loginUserMobile);
$("#inpStampEnterEmail").val(eventInfo.loginUserEmail)}var imgUrl="";var filter="win16|win32|win64|mac|macintel";if(navigator.platform)if(filter.indexOf(navigator.platform.toLowerCase())<0)imgUrl="//"+entryEvent.moImgPath;else imgUrl="//"+entryEvent.pcImgPath;$("#stampImg").attr("src",imgUrl);$("#stampEventNm").text(entryEvent.eventSubNm);$.each(addFields,function(idx,obj){if(obj.fldNm=="영업시간")$("#stampTime").text(obj.fldDscrt);else if(obj.fldNm=="주소")$("#stampAddr").text(obj.fldDscrt);else if(obj.fldNm==
"지도")$("#stampMapImg").attr("src",obj.fldDscrt);else if(obj.fldNm=="소개")$("#stampContent").text(obj.fldDscrt);else if(obj.fldNm=="위도")$("#stampLatitud").val(obj.fldDscrt);else if(obj.fldNm=="경도")$("#stampLongitude").val(obj.fldDscrt);else if(obj.fldNm=="failMsg")$("#failMessage").val(obj.fldDscrt)});if("geolocation"in navigator)navigator.geolocation.getCurrentPosition(function(position){if(!getScriptFlag)fnScriptStampTour()},function(error){console.log("Error occurred. Error code : "+error.code);
if(error.code===1)makeAlert("설정에서 위치정보 사용을 승인 후 다시 시도해주세요.",stampPopClose);else if(error.code===2)makeAlert("위치정보를 불러오는데 실패하였습니다. 다시 시도해주세요.",stampPopClose);else if(error.code===3)makeAlert("타임아웃이 발생하였습니다. 다시 시도해주세요.",stampPopClose);else makeAlert("오류가 발생하였습니다.다시 시도해주세요.",stampPopClose)})}
function fnDrawPopStamp(){if($("#popupArea_Event3791").length>0){$("#popupArea_Event3791").empty().append(drawPopHtmlCodeStamp());layerPopCampusFunc();handdleSlideDownUpPrecaution(".precautions-content")}else $("#popupArea").empty().append(drawPopHtmlCodeStamp());if($("#tooltipArea_Event3791").length>0)$("#tooltipArea_Event3791").append($tooltipDiv);else $("#tooltipArea").append($tooltipDiv);$(".titleNo").show()}
function drawPopHtmlCodeStamp(){var html="";html+='<form id="eventStampEntryPopFrm">';html+='\t<input type="hidden" id="focusStampTarget" value=""/>';html+='\t<input type="hidden" id="entryStampEventNo" name="eventNo" value=""/>';html+='\t<input type="hidden" id="inpStampEnterName" name="inpEnterName" value=""/>';html+='\t<input type="hidden" id="inpStampEnterCall" name="inpEnterCall" value=""/>';html+='\t<input type="hidden" id="inpStampEnterEmail" name="inpEnterEmail" value=""/>';html+='\t<input type="hidden" id="failMessage" name="failMessage" value=""/>';
html+='\t<input type="hidden" id="stampLatitud" name="stampLatitud" value=""/>';html+='\t<input type="hidden" id="stampLongitude" name="stampLongitude" value=""/>';html+="\t\x3c!-- s : 2022-05-19 갤럭시캠퍼스 신규 팝업 추가 --\x3e";html+='\t<button type="button" id="popupCertInfoBtn" data-popup-gCams="popupCertInfo" style="display: none;">팝업보기</button>';html+='\t<div class="layer-pop-cams" id="popupCertInfo" tabindex="0" data-popup-gCams-layer="popupCertInfo" data-focus="popupCertInfo">';html+='       <button type="button" class="pop-cams-close" data-focus-next="popupCertInfo">';
html+='\t\t\t<span class="blind">팝업닫기</span>';html+="\t\t</button>";html+='\t\t<div class="layer-content">';html+='\t\t\t<div class="set">';html+='\t\t\t\t<div class="img-box">';html+='\t\t\t\t\t<img src="" alt="" id="stampImg">';html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+='\t\t\t<div class="set">';html+='\t\t\t\t<h2 class="pop-title" id="stampEventNm"></h2>';html+='\t\t\t\t<dl class="cams-information">';html+="\t\t\t\t\t<dt>영업시간</dt>";html+='\t\t\t\t\t<dd id="stampTime"></dd>';html+="\t\t\t\t\t<dt>주소</dt>";
html+='\t\t\t\t\t<dd id="stampAddr"></dd>';html+='\t\t\t\t\t<dt class="map-tit">지도</dt>';html+='\t\t\t\t\t<dd class="map-content">';html+="\t\t\t\t\t\t\x3c!-- 임시 지도 영역 테스트 --\x3e";html+='\t\t\t\t\t\t<div class="cams-map">';html+='\t\t\t\t\t\t\t<img src="" alt="지도" style="width:100%" id="stampMapImg">';html+="\t\t\t\t\t\t</div>";html+="\t\t\t\t\t</dd>";html+="\t\t\t\t</dl>";html+="\t\t\t</div>";html+='\t\t\t<div class="set">';html+='\t\t\t\t<h2 class="pop-title">BESPOKE Creative Zone 소개</h2>';html+=
'\t\t\t\t<pre id="stampContent"></pre>';html+="\t\t\t</div>";html+='\t\t\t<div class="store-detail-mapbox" id="map">';html+="\t\t\t\x3c!-- 맵 영역 --\x3e";html+="\t\t\t</div>";html+='\t\t\t<div class=" precautions-content">';html+='\t\t\t\t<div class="precautions-inner">';html+='\t\t\t\t\t<a href="javascript:;"  class="dropButton" title="유의사항 보기">';html+='\t\t\t\t\t\t<p class="tit">유의사항 보기</p>';html+="\t\t\t\t\t</a>";html+='\t\t\t\t\t<div class="drop-content ">';html+='\t\t\t\t\t\t<p class="drop-title"><strong>꼭 확인하세요!</strong></p>';
html+='\t\t\t\t\t\t<ul class="precautions-view-list">';html+="\t\t\t\t\t\t\t<li>오프라인 행사매장에서 대상품목의 행사모델을 2품목 이상 구매 시 품목 수에 따라 혜택이 지급됩니다.</li>";html+="\t\t\t\t\t\t\t<li>세부 행사모델은 매장에서 안내드립니다.</li>";html+="\t\t\t\t\t\t\t<li>한 개의 판매전표에 2품목 이상 동시 구매해야 성립하며, 동일 품목 2대 구매는 1건으로 간주합니다.</li>";html+="\t\t\t\t\t\t\t<li>동일 판매전표 기준이며, 전표 분리 시 합산 반영 불가합니다.</li>";html+="\t\t\t\t\t\t\t<li>삼성스토어 / 이마트 / 홈플러스는 삼성전자 멤버십 포인트로 지급되며,구매금액 결제 및 배송완료 D+3일 내 자동적립, 대물 로지텍 배송조건 입니다. (핸드캐리/자점 배송 시 적립 불가)</li>";html+="\t\t\t\t\t\t\t<li>하이마트는 롯데멤버스 L.Point로 지급되며, 구매금액 완불 즉시 자동적립 됩니다.(고객 롯데멤버스 가입필수)</li>";
html+="\t\t\t\t\t\t\t<li>전자랜드는 캐시백으로 지급되며, 삼성/롯데/KB국민/신한/NH농협 개인카드로 결제, 법인/기업/체크/선불/기프트 카드는 제외됩니다.</li>";html+="\t\t\t\t\t\t\t<li>(5월 판매 5월 배송시 6월말 지급, 6월 배송시 7월말 지급, 7월 배송시 8월말 지급, 8월 이후 배송 건 미지급)</li>";html+="\t\t\t\t\t\t\t<li>구매 취소 시 제공받은 혜택(포인트, 캐시백 등)은 반납하여야 합니다.</li>";html+="\t\t\t\t\t\t\t<li>삼성전자 멤버십 및 롯데멤버스 사전 가입이 필요합니다.</li>";html+="\t\t\t\t\t\t</ul>";html+="\t\t\t\t\t</div>";html+="\t\t\t\t</div>";html+="\t\t\t</div>";html+="\t\t</div>";html+='\t\t<div class="pop-bottom-button">';html+=
'\t\t\t<a class="btn-stemp" href="javascript:;" id="stampSaveBtn">스탬프 찍기</a>';html+="\t\t</div>";html+="\t</div>";html+="\t\x3c!-- e : 2022-05-19 갤럭시캠퍼스 신규 팝업 추가 --\x3e";html+="</form>";return html}function fnLocAccY(){setCookie("locAcc","Y",-1);setCookie("locAcc","Y");closeLayer("locationAgree");makeAlert("현재 위치를 제공하여 해당 장소를 검색합니다.")}function fnLocAccN(){setCookie("locAcc","N",-1);setCookie("locAcc","N");closeLayer("locationAgree");makeAlert("설정에서 위치정보 사용을 승인 후 다시 시도해주세요.",stampPopClose)}
function stampPopClose(){$(".pop-cams-close").trigger("click")}function getCookie(key){var result=null;var cookie=document.cookie.split(";");cookie.some(function(item){item=item.replace(" ","");var dic=item.split("=");if(key===dic[0]){result=dic[1];return true}});return result}function setCookie(name,value,exp){var date=new Date;date.setTime(date.getTime()+exp*24*60*60*1E3);document.cookie=name+"="+value+";expires="+date.toUTCString()+";path=/"}
$(document).on("click","#stampSaveBtn",function(){var stampLatitud=$("#stampLatitud").val();var stampLongitude=$("#stampLongitude").val();fnStampCalculation(stampLatitud,stampLongitude)});
function fnSaveStampEventEntry(){$("#focusStampTarget").val("");var options={url:stPath+"xhr/event/insertStampEventEntry",data:$("#eventStampEntryPopFrm").serialize(),done:function(data){var result=data.result;if(result.resultCd=="success")makeAlert(result.resultMsg,stampPopClose2);else makeAlert(result.resultMsg,stampPopClose)}};ajax.call(options)}function stampPopClose2(){$(".pop-cams-close").trigger("click");fnGetEventEntryInfo()}
function fnScriptStampTour(){$.getScript("//developers.kakao.com/sdk/js/kakao.min.js").done(function(script,textStatus){getScriptFlag=true}).fail(function(jqxhr,settings,exception){});$.getScript("//dapi.kakao.com/v2/maps/sdk.js?appkey="+kakaoAppKeyEvent+"&autoload=false",function(){daum.maps.load(function(){})})}
function fnStampCalculation(xPosition,yPosition){var mapContainer=document.getElementById("map");var mapOption={center:new kakao.maps.LatLng(xPosition,yPosition),level:5};var map=new kakao.maps.Map(mapContainer,mapOption);var drawingFlag=false;var moveLine;var clickLine;var distanceOverlay;var dots={};var clickPosition=new kakao.maps.LatLng(xPosition,yPosition);clickLine=new kakao.maps.Polyline({path:[clickPosition]});if("geolocation"in navigator)navigator.geolocation.getCurrentPosition(function(position){var path=
clickLine.getPath();var curClickPosition=new kakao.maps.LatLng(position.coords.latitude,position.coords.longitude);path.push(curClickPosition);clickLine.setPath(path);var distance=Math.round(clickLine.getLength());if(distance<=500)fnSaveStampEventEntry();else makeAlert($("#failMessage").val())},function(error){console.log("Error occurred. Error code : "+error.code);if(error.code===1)makeAlert("설정에서 위치정보 사용을 승인 후 다시 시도해주세요.",stampPopClose);else if(error.code===2)makeAlert("위치정보를 불러오는데 실패하였습니다. 다시 시도해주세요.",
stampPopClose);else if(error.code===3)makeAlert("타임아웃이 발생하였습니다. 다시 시도해주세요.",stampPopClose);else makeAlert("오류가 발생하였습니다.다시 시도해주세요.",stampPopClose)})}
function fnGetDcntAply(evtNo){var $dcntAplyBtn;returnUrl=window.location.pathname;stPath=$("#openPop").data("st-path");var options={url:stPath+"xhr/member/getSession",type:"POST",done:function(data){var session=JSON.parse(data);if(session.mbrNo==0);else{var param;param={eventNo:evtNo,mbrNo:session.mbrNo};var options2={url:stPath+"xhr/event/getDocentAplyData",data:param,done:function(data2){var $dcntAplyPos=$("button.dcntEvtCancel");$dcntAplyPos.each(function(){var dataEventNo=$(this).data("event-no");
if(evtNo===dataEventNo){$dcntAplyBtn=$(this);return false}});if(data2.result!=null){var rsvNo=data2.result.rsvNo;var reserveInfo=data2.result.reserveInfo;var biztalkTmplTxt=data2.result.biztalkTmplTxt.split("|")[1];$dcntAplyBtn.show();$dcntAplyBtn.attr("onclick","fnDcntAplyCancel("+rsvNo+", '"+reserveInfo+"', '"+biztalkTmplTxt+"')");$dcntAplyBtn.data("rsv-no",rsvNo)}else $dcntAplyBtn.hide()}};ajax.call(options2)}}};ajax.call(options)}
function fnDcntAplyCancel(rsvNo,reserveInfo,biztalkTmplTxt){returnUrl=window.location.pathname;stPath=$("#openPop").data("st-path");if(rsvNo===undefined)makeAlert("신청번호가 존재하지 않습니다.",eventPopClose4);else{$("#popupArea_Event3791").html("");if($("#popupArea_Event3791").length>0){$("#popupArea_Event3791").append($dcntPop2);$("#rsvNo").val(rsvNo);$("#biztalkTmpl").val(biztalkTmplTxt);$("#reserveInfo").val(reserveInfo);$("#tourCncl").text($("#reserveInfo").val());$("#popupDocentTourCncltBtn").click();$("#mask").remove()}}}
function fnDcntAplyCancelExecute(){var options={url:stPath+"xhr/member/getSession",async:false,type:"POST",done:function(data){var session=JSON.parse(data);if(session.mbrNo==0)makeAlert("로그인이 필요합니다.",fnGoLoginPage);else{var rsvNo=$("#rsvNo").val();var biztalkTmpl=$("#biztalkTmpl").val();param={rsvNo:rsvNo,biztalkTmpl:biztalkTmpl};var options2={url:stPath+"xhr/event/updateDocentAplyData",async:false,data:param,done:function(data2){$("#mask").remove();var $dcntAplyCancelPos=$("button.dcntEvtCancel");
$dcntAplyCancelPos.each(function(){var dataRsvNo=$(this).data("rsv-no");if(rsvNo===dataRsvNo){$(this).hide();return false}});$("#popupArea_Event3791").html("");if($("#popupArea_Event3791").length>0){$("#popupArea_Event3791").append($dcntPop3);$("#popupDocentTourCncltCompBtn").click()}}};ajax.call(options2)}}};ajax.call(options)}
function drawDcntPopHtmlCode1(){var html="";html+="\x3c!-- s : 도슨트 투어 로그인 유도 팝업 220712 --\x3e";html+='<div class="layer-pop layer-default layer-loginafter" id="popupDocentTourLogin" tabindex="0" data-popup-layer="popupDocentTourLogin" data-focus="popupDocentTourLogin">';html+='   <button type="button" id="popupDocentTourLoginBtn" data-popup-target="popupDocentTourLogin" style="display: none;"></button>';html+='   <div class="layer-header blind"><h2>로그인후 예약 하기</h2></div>';html+='   <div class="layer-content">';
html+="   <p>로그인 이후 예약 신청 가능합니다.<br>로그인 화면으로 이동하시겠습니까?</p>";html+='\t\t<div class="btn-box double">\x3c!-- 버튼 두개시 클래스 double 추가 --\x3e';html+='\t\t\t<a href="javascript:void(0)" class="btn btn-d btn-type2">확인</a>';html+='\t\t\t<a href="javascript:void(0)" class="btn btn-d btn-type1">취소</a>  ';html+="\t\t</div>";html+="\t</div>";html+='\t<button type="button" class="pop-close" data-focus-next="popupDocentTourLogin">팝업닫기</button>';html+="</div>";html+="\x3c!-- e : 도슨트 투어 로그인 유도 팝업 220712 --\x3e";return html}
function drawDcntPopHtmlCode2(){var html="";html+="\x3c!-- s :  도슨트 투어 예약 취소 팝업 220712 --\x3e";html+='<div class="layer-pop layer-default layer-counsel-nonmember" id="popupDocentTourCnclt" tabindex="0" data-popup-layer="popupDocentTourCnclt" data-focus="popupDocentTourCnclt">';html+='   <button type="button" id="popupDocentTourCncltBtn" data-popup-target="popupDocentTourCnclt" style="display: none;"></button>';html+='   <div class="layer-header blind"><h2>예약 취소 하기</h2></div>';html+='   <div class="layer-content">';
html+='   \t<p>예약내역:<br><span id="tourCncl" class="txt-major">2022년 01월 25일 삼성스토어 홍대본점 12시</span></p>';html+='\t\t<p class="fw-bold" style="margin-top: 0;">정말 취소하시겠습니까?</p>';html+='\t\t<div class="btn-box double">';html+='\t\t\t<a href="javascript:fnDcntAplyCancelExecute();" class="btn btn-d btn-type2">확인</a>';html+='\t\t\t<a href="javascript:eventPopClose();$(\'#mask\').remove();" class="btn btn-d btn-type1">닫기</a>';html+="\t\t</div>";html+="\t</div>";html+='\t<input type="hidden" id="rsvNo">';html+=
'\t<input type="hidden" id="reserveInfo">';html+='\t<input type="hidden" id="biztalkTmpl">';html+='\t<button type="button" class="pop-close evt-pop-close" style="display:none;" data-focus-next="popupDocentTourCncltBtn">팝업닫기</button>';html+="</div>";html+="\x3c!-- e : 도슨트 투어 로그인 유도 팝업 220712 --\x3e";return html}
function drawDcntPopHtmlCode3(){var html="";html+="\x3c!-- s : 도슨트 투어 취소 완료 팝업 220712 --\x3e";html+='<div class="layer-pop layer-default layer-counsel-nonmember" id="popupDocentTourCncltComp" tabindex="0" data-popup-layer="popupDocentTourCncltComp" data-focus="popupDocentTourCncltComp">';html+='   <button type="button" id="popupDocentTourCncltCompBtn" data-popup-target="popupDocentTourCncltComp" style="display: none;"></button>';html+='   <div class="layer-header blind"> <h2>예약 취소 완료</h2></div>';
html+='   <div class="layer-content">';html+='   \t<p clasas="user-chk user-chk01">취소가 완료되었습니다.<br>감사합니다.</p>';html+='\t\t<div class="btn-box">';html+='\t\t\t<a href="javascript:eventPopClose();$(\'#mask\').remove();" class="btn btn-d btn-type2">확인</a>';html+="\t\t</div>";html+="\t</div>";html+='\t<button type="button" class="pop-close evt-pop-close" style="display:none;" data-focus-next="popupDocentTourCncltCompBtn">팝업닫기</button>';html+="</div>";html+="\x3c!-- e : 도슨트 투어 취소 완료 팝업 220712 --\x3e";
return html}
function cbCertificationInfo(data){if(data.rtnCode)if(eventAddYn=="B2C_BSPK_INFINITE_LINE"){var birthDayYear=data.birthDate.toString().substring(0,4);var curYear=(new Date).getFullYear();var curAge=curYear-birthDayYear+1;if(curAge<19){makeAlert("만19세 이상만 응모할 수 있습니다.");return}else{param={ciToken:data.colInfo,eventNo:pblcEvtNo};ciToken=data.colInfo;stPath=$("#openPop").data("st-path");var options={url:stPath+"xhr/event/getEventKcbAuthCnt",data:param,done:function(data){if(data.kcbAuthCnt>0){certificationKcbFlag=
false;makeAlert("이미 응모하였습니다.")}else{certificationKcbFlag=true;makeAlert("본인 인증이 완료 되었습니다.",fnCallPop7Chain)}}};ajax.call(options)}}else if(eventAddYn=="B2C_MAISON")if(data.fourteenCertification=="N"){makeAlert("만14세 이상만 응모할 수 있습니다.");return}else{param={ciToken:data.colInfo,eventNo:pblcEvtNo};ciToken=data.colInfo;birth=data.birthDate;stPath=$("#openPop").data("st-path");var options={url:stPath+"xhr/event/getEventKcbAuthCnt",data:param,done:function(data){if(data.kcbAuthCnt>0){certificationKcbFlag=
false;makeAlert("이미 응모하였습니다.")}else{certificationKcbFlag=true;makeAlert("본인 인증이 완료 되었습니다.",fnCallPop7Chain)}}};ajax.call(options)}else if(eventAddYn=="B2B2C_9ALAXY_DAY"){param={ciToken:data.colInfo,eventNo:pblcEvtNo};ciToken=data.colInfo;stPath=$("#openPop").data("st-path");var options={url:stPath+"xhr/event/getEventKcbAuthCnt",data:param,done:function(data){if(data.kcbAuthCnt>0){certificationKcbFlag=false;makeAlert("이미 응모하였습니다.")}else{certificationKcbFlag=true;makeAlert("본인 인증이 완료 되었습니다.",fnCallPop7Chain)}}};
ajax.call(options)}else makeAlert("해당하는 특정이벤트가 없습니다.");else certificationKcbFlag=false}
function fnCouponAddPop(evtNo){oneTimeChk=false;pblcEvtNo=evtNo;returnUrl=window.location.pathname;var searchPath=window.location.search;if(searchPath.indexOf("eventNo")!=-1)returnUrl+=searchPath;else if(searchPath.indexOf("?")!=-1)if(returnUrl.indexOf("event/eventContentDetailView")!=-1)returnUrl+=searchPath+"&eventNo="+pblcEvtNo;else returnUrl+=searchPath;else returnUrl+="?eventNo="+pblcEvtNo;stPath=$("#openPop").data("st-path");var param;param={eventNo:pblcEvtNo,isPreView:isPreView};var options=
{url:stPath+"xhr/event/getEventBaseInfo",data:param,done:function(data){$("#mask").remove();var eventInfo=data.eventInfo;if(eventInfo.errMsg==""||eventInfo.errMsg==null)setCpAddEventPop(data);else if(eventInfo.errCd=="LGN0005")makeAlert(eventInfo.errMsg,fnGoLoginPage);else{$("#commonAlert p").replaceWith("<pre style='word-break:keep-all;'></pre>");makeAlert3(eventInfo.errMsg,eventPopClose3)}}};ajax.call(options);multiFileCnt=0}
function drawImeiPopHtmlCode(){var html="";html+='<form id="eventEntryPopFrm">';html+='\t<input type="hidden" id="focusTarget" value=""/>';html+='\t<input type="hidden" id="focusTargetType" value=""/>';html+='\t<input type="hidden" id="jsonStr" name="jsonStr" value=""/>';html+='\t<input type="hidden" id="voteJsonStr" name="voteJsonStr" value=""/>';html+='\t<input type="hidden" id="entryEventNo" name="eventNo" value=""/>';html+='\t<input type="hidden" id="evtGbCd" name="evtGbCd" value=""/>';html+=
'\t<input type="hidden" id="isEvtGbFld" name="isEvtGbFld" value=""/>';html+='\t<input type="hidden" id="prtcpPsbGbCd" name="prtcpPsbGbCd" value=""/>';html+='\t<input type="hidden" id="prtcpPsbCnt" name="prtcpPsbCnt" value=""/>';html+='\t<input type="hidden" id="visPlazaNo" name="visPlazaNo" value=""/>';html+='\t<input type="hidden" id="visShopNo" name="visShopNo" value=""/>';html+='\t<input type="hidden" id="visPlazaNm" name="visPlazaNm" value=""/>';html+='\t<input type="hidden" id="visHopeDt" name="visHopeDt" value=""/>';
html+='\t<input type="hidden" id="visTimeCd" name="visTimeCd" value=""/>';html+='\t<input type="hidden" id="visTimeCdNm" name="visTimeCdNm" value=""/>';html+='\t<input type="hidden" id="visWithPrsnNum" name="visWithPrsnNum" value=""/>';html+='\t<input type="hidden" id="visWithPrsnNumNm" name="visWithPrsnNumNm" value=""/>';html+='\t<input type="hidden" id="visPlazaTel" name="visPlazaTel" value=""/>';html+='\t<input type="hidden" id="visPlazaAddr" name="visPlazaAddr" value=""/>';html+='\t<input type="hidden" id="visPathTpCd" name="visPathTpCd" value=""/>';
html+='\t<input type="hidden" id="cpNo" name="cpNo" value=""/>';html+='\t<input type="hidden" id="eventNm" name="eventNm" value=""/>';html+='\t<input type="hidden" id="microSiteUrl" name="microSiteUrl" value=""/>';html+='\t<input type="hidden" id="biztalkTmplTxt" name="biztalkTmplTxt" value=""/>';html+='\t<input type="hidden" id="biztalkUseYn" name="biztalkUseYn" value=""/>';html+='\t<input type="hidden" id="prtnrCpUseYn" name="prtnrCpUseYn" value=""/>';html+='\t<input type="hidden" id="mktRcvSelYn" name="mktRcvSelYn" value=""/>';
html+='\t<input type="hidden" id="weekdayCloseTime" name="weekdayCloseTime" value=""/>';html+='\t<input type="hidden" id="weekdayOpenTime" name="weekdayOpenTime" value=""/>';html+='\t<input type="hidden" id="weekendCloseTime" name="weekendCloseTime" value=""/>';html+='\t<input type="hidden" id="weekendOpenTime" name="weekendOpenTime" value=""/>';html+='\t<input type="hidden" id="eventAddYn" name="eventAddYn" value=""/>';html+='\t<input type="hidden" id="ciToken" name="ciToken" value=""/>';html+='\t<input type="hidden" id="popEntrySuccMsg" name="popEntrySuccMsg" value=""/>';
html+='\t<input type="hidden" id="ceoTel" name="ceoTel" value=""/>';html+='   <input type="hidden" id="dvcTpCd" name="dvcTpCd" value=""/>';html+='\t<div class="layer-pop layer-normal layer-event-exhibition layer-famailyPF layer-pop-content-festa-event" id="popupExhibitionEnter" tabindex="0" data-popup-layer="popupExhibitionEnter" data-focus="popupExhibitionEnter">';html+='       <button type="button" id="exhibition" data-popup-target="popupExhibitionEnter" style="display: none;"></button>';html+=
'\t    <div class="layer-header" id="evtHeader">';html+="\t        <h2>응모 하기</h2>";html+="\t    </div>";html+='\t    <div class="layer-content">';html+='\t        <div class="frm-login ">';html+='\t            <form action="">';html+='\t                <fieldset class="secureInp">';html+="\t                    <legend>응모 입력 폼</legend>";html+='\t\t\t\t\t\t <div class="event-img">';html+='\t                        <img src="" alt="" id="evtImg">';html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form user-form radio-list-form">';
html+='\t                        <div class="secure-pop-tit bottom-line"><span class="titleNo">01. </span><span id="popTitle">응모자 정보</span></div>';html+='\t                        <div class="secure-pop form-write">';html+='\t                            <div class="inp-box entryCollect10 entryCollect">';html+='\t                                <label for="inpEnterName" class="lb-line">이름</label>';html+="\t\t                            <div>";html+='\t\t                                <input type="text" id="inpEnterName" name="inpEnterName" class="inp-line" value="" readonly="readonly">';
html+='\t\t                                <div class="error-msg" id="inpEnterNameErr">';html+="\t                                    \t<p>이름을 입력해 주세요.</p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect20 entryCollect">';html+='\t                                <label for="inpEnterCall" class="lb-line">연락처</label>';html+="\t\t                            <div>";
html+='\t                                    <input type="text" id="inpEnterCall" name="inpEnterCall" class="inp-line" placeholder="(-) 없이 숫자만 입력해 주세요." numberOnly maxlength="11">';html+='\t                                    <div class="error-msg" id="inpEnterCallErr">';html+="\t                                    \t<p>연락처를 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg"  id="inpEnterCallErr2">';html+="\t                                    \t<p>연락처가 올바르지 않습니다.</p>";
html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t\t\t\t\t\t\t\t<div class="inp-box entryCollect60 entryCollect">';html+='\t\t\t\t\t\t\t\t    <label for="inpCounselMembership" class="lb-line line-double">삼성전자 <br>멤버십 번호</label>';html+="\t\t\t\t\t\t\t\t    <div>";html+='\t\t\t\t\t\t\t\t        <input type="text" id="inpCounselMembership" class="inp-line" value="" readonly="readonly">';html+='\t                                    <div class="error-msg" id="inpCounselMembershipErr">';
html+="\t                                    </div>";html+="\t\t\t\t\t\t\t\t    </div>";html+="\t\t\t\t\t\t\t\t</div>";html+='\t                            <div class="inp-box entryCollect30 entryCollect">';html+='\t                                <label for="inpEnterEmail" class="lb-line">이메일</label>';html+="\t\t                            <div>";html+='\t                                    <input type="text" id="inpEnterEmail" name="inpEnterEmail" class="inp-line" placeholder="이메일을 입력해 주세요.">';
html+='\t                                    <div class="error-msg" id="inpEnterEmailErr">';html+="\t                                        <p>이메일을 입력해 주세요. </p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterEmailErr2">';html+="\t                                        <p>이메일을 정확히 입력해 주세요. </p>";html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";
html+='\t                            <div class="inp-box entryCollect40 entryCollect">';html+='\t                                <label for="inpEnterZonecode" class="lb-line">주소</label>';html+='\t\t                            <div class="address-box">';html+='\t\t                                <div class="address-search">';html+='\t                                        <input type="text" id="inpEnterZonecode" name="inpEnterZonecode"readonly="readonly" class="inp-line" title="우편번호" placeholder="우편번호를 검색해 주세요." value="">';
html+='\t                                        <button type="button" class="btn btn-s btn-type1" id="zoneCodeBtn">우편번호</button>';html+="\t                                    </div>";html+='\t                                    <div class="address-txt">';html+='\t                                        <div id="inpEnterAddressDiv" >';html+="\t                                        </div>";html+='\t                                        \t<input type="hidden" id="inpEnterAddress" name="inpEnterAddress">';
html+="\t                                    </div>";html+='\t                                    <div class="address-detail">';html+='\t                                        <input type="text" name="inpEnterAddressDetail" id="inpEnterAddressDetail" class="inp-line" placeholder="상세주소를 입력해주세요(선택사항).">';html+="\t                                    </div>";html+='\t                                     <div class="error-msg" id="inpEnterZonecodeErr">';html+="\t                                        <p>우편번호를 통해 주소를 선택해 주세요.</p>";
html+="\t                                    </div>";html+="\t\t                            </div>";html+="\t                            </div>";html+='\t                            <div class="inp-box entryCollect50 entryCollect">';html+='\t                                <label for="inpEnterSns" class="lb-line">SNS 게시물 URL</label>';html+="\t\t                            <div>";html+='\t\t                                <div class="inquiry-con">';html+='\t\t                                    <textarea id="inpEnterSns" name="inpEnterSns" class="inp-line pop-tArea" placeholder="게시한 SNS URL을 입력해 주세요." maxlength="500"></textarea>';
html+='\t\t                                    <span class="txt-count sns-count"><em class="strong">0</em> / 500자</span>';html+="\t\t                                </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr">';html+="\t                                       <p>SNS 게시물 URL을 입력해 주세요.</p>";html+="\t                                    </div>";html+='\t                                    <div class="error-msg" id="inpEnterSnsErr2">';html+="\t                                       <p>URL을 정확하게 입력해 주세요.</p>";
html+="\t                                    </div>";html+="\t                                </div>";html+="\t                            </div>";html+='\t                            <div id="eventGbField"> ';html+="\t                            </div>";html+='\t                            <div id="addFieldArea" style="display: none;"> ';html+="\t                            </div>";html+="\t                        </div>";html+="\t                    </div>";html+='\t                    <div class="user-info-box secure-pop-form terms-form">';
html+='\t                        <div class="secure-pop-tit bottom-line">';html+='\t                            <span class="titleNo">03. </span>개인정보 수집·이용 동의 <span class="ico-required">*<span>필수입력</span></span>';html+="\t                        </div>";html+='\t                        <div class="secure-pop terms-con">';html+='\t                            <p class="txt-general">';html+="\t\t\t                                귀하께서는 본 동의 안내 문구를 숙지하셨으며, 안내문구에 대해 거절하실 수 있습니다.<br>";html+="\t\t\t                                단, 거절하신 경우에는 이벤트 응모가 제한되실 수 있습니다.";
html+="\t                            </p>";html+='\t                            <div class="chk-form allChk-box">';html+='\t                                <input id="chk-enter-all" data-allchk-name="allCheck" data-children-name="checkEventEnter" type="checkbox" required="" title=""';html+='\t                                    class="checkBoxTerms">';html+='\t                                <label for="chk-enter-all" class="chk-all">모든 약관을 확인하고 전체 동의합니다.</label>';html+="\t                            </div>";
html+='\t                            <div id="privacyPolicy"></div>';html+="\t                        </div>";html+='\t                        <div class="help-box">';html+="\t                            <p>";html+='\t\t\t                                개인정보 처리에 대한 상세한 사항은 삼성전자 웹사이트  (<a href="http://www.samsung.com/sec" class="link" target="_blank">www.samsung.com/sec</a>)에 공개한 "삼성닷컴 이벤트 개인정보 처리방침"을 참조하십시오.<br>';html+="\t\t\t                                다만, 본 동의서 내용과 상충되는 부분은 본 동의서 내용을 우선합니다.";
html+="\t                            </p>";html+="\t                        </div>";html+="\t                    </div>";html+="\t                </fieldset>";html+="\t            </form>";html+='\t            <div class="btn-box " id="eventBtn_Area_div">';html+='\t\t            <button type="button" class="btn btn-d btn-type2" id="couponAddBtn">동의 하고 쿠폰 발급 받기</button>';html+="\t\t        </div>";html+="\t        </div>";html+="\t    </div>";html+='\t    <button type="button" class="pop-close evt-pop-close" data-focus-next="popupExhibitionEnter">팝업닫기</button>';
html+="\t</div>\t";html+="</form>";return html}
function setCpAddEventPop(data){fnDrawCpAddPop();$("#ciToken").val(ciToken);$("#exhibition").click();eventInfo=data.eventInfo;entryEvent=eventInfo.entryEvent;collectItems=eventInfo.eventCollectItems;goodsSerialInfos=eventInfo.goodsSerialInfos;plcyContentCollect=eventInfo.plcyContentCollect;plcyContentPrcs=eventInfo.plcyContentPrcs;eventPrivacyPolicys=eventInfo.eventPrivacyPolicys;addFields=eventInfo.addFields;eventGbFields=eventInfo.eventGbFields;questionInfos=eventInfo.questionInfos;voteQuestionInfos=
eventInfo.voteQuestionInfos;plazas=eventInfo.plazas;siDoList=eventInfo.siDoList;siGunGuList=eventInfo.siGunGuList;eventAddYn=entryEvent.eventAddYn;eventAddType=entryEvent.eventAddYn;$("#entryEventNo").val(entryEvent.eventNo);$("#evtGbCd").val(entryEvent.eventGbCd);$("#isEvtGbFld").val("Y");$("#prtcpPsbGbCd").val(entryEvent.prtcpPsbGbCd);$("#prtcpPsbCnt").val(entryEvent.prtcpPsbCnt);$("#evtNm").text(entryEvent.ttl);$("#cpNo").val(entryEvent.cpNo);$("#ftEvtNm").text(entryEvent.ttl);$("#eventAddYn").val(entryEvent.eventAddYn);
$("#popTitle").text(entryEvent.popEntryTtl);$("#couponAddBtn").text(entryEvent.popEntryCtaText);$("#popEntrySuccMsg").val(entryEvent.popEntrySuccMsg);sessionMbr=eventInfo.loginUserMbrNo;membershipNo=eventInfo.loginUserMembership;var evtGbFlds=[];for(var idx=0;idx<eventGbFields.length;idx++)evtGbFlds.push(eventGbFields[idx].eventFldTpCd);setLayoutShowHideRenewal(evtGbFlds);setCpAddCommLayout(entryEvent,collectItems,addFields);$("#prtnrCpUseYn").val(entryEvent.prtnrCpUseYn);if(evtGbFlds.indexOf("01")>
-1||evtGbFlds.indexOf("06")>-1){$(".goodsSelect").hide();$("#goodsUl").empty();$("#biztalkUseYn").val(entryEvent.biztalkUseYn);$("#biztalkTmplTxt").val(entryEvent.biztalkTmplTxt)}var policyHtml="";$("#privacyPolicy").empty();policyHtml+=createPrivacyPolicyHtml(plcyContentCollect,1);if(plcyContentPrcs!=null)policyHtml+=createPrivacyPolicyHtml(plcyContentPrcs,2);$.each(eventPrivacyPolicys,function(idx,val){var index=idx+3;policyHtml+=createPrivacyPolicyHtml(val,index)});$("#privacyPolicy").append(policyHtml);
$(".error-msg").hide();if(eventAddYn=="N")$("#inpCounselMembershipErr").html("<p>나의 정보에서 멤버십 회원 추가정보 입력 후</p><p>알림신청하면 멤버십 번호가 보여집니다.</p>");else if(eventAddYn=="Y")$("#inpCounselMembershipErr").html("<p>※멤버십번호가 보이지 않으시나요?</p><p>화면 우측 상단 > 나의정보 메뉴에서</p><p>멤버십 가입여부 확인 후 다시 시도해 보세요.</p><p>(미가입 시 가입 후 재시도 필요)</p>");if(membershipNo==""||membershipNo==null)$("#inpCounselMembershipErr").show()}
function fnDrawCpAddPop(){if($("#popupArea_Event3791").length>0)$("#popupArea_Event3791").html("").append(drawImeiPopHtmlCode());else $("#popupArea").html("").append(drawImeiPopHtmlCode());if($("#tooltipArea_Event3791").length>0)$("#tooltipArea_Event3791").append($tooltipDiv);else $("#tooltipArea").append($tooltipDiv);$(".titleNo").show()}
function setCpAddCommLayout(entryEvent,collectItems,addFields){var imgUrl="";var filter="win16|win32|win64|mac|macintel";var dvcTpCd="";if(navigator.platform)if(filter.indexOf(navigator.platform.toLowerCase())<0){imgUrl="//"+entryEvent.moImgPath;if(window.secapp!==undefined&&userAgent.indexOf("SECAPP")>-1)dvcTpCd="APP";else dvcTpCd="MOBILE"}else{imgUrl="//"+entryEvent.pcImgPath;dvcTpCd="PC"}if(imgUrl=="")$("#evtHeader").removeClass("text-hide");else{$("#evtImg").attr("src",imgUrl);$("#evtHeader").addClass("text-hide")}if(sessionMbr==
0||sessionMbr==null)$("#inpEnterName").removeAttr("readonly");if(sessionMbr!=0&&sessionMbr!=null){$("#inpEnterName").attr("readonly",true);$("#inpEnterName").val(eventInfo.loginUserMbrNm);$("#inpEnterCall").val(eventInfo.loginUserMobile);$("#inpEnterEmail").val(eventInfo.loginUserEmail);$("#inpCounselMembership").val(membershipNo)}$(".entryCollect").hide();$.each(collectItems,function(idx,val){var collectItemCd=val.collectItemCd;$(".entryCollect"+collectItemCd).show()});$("#addFieldArea").empty();
var addFieldHtml="";$.each(addFields,function(idx,obj){addFieldHtml+=createImeiAddFieldHtml(obj)});$("#addFieldArea").append(addFieldHtml);$("#dvcTpCd").val(dvcTpCd)}
function createImeiAddFieldHtml(obj){var fldTpCd=obj.fldTpCd;var fldNm=obj.fldNm;var fldVal=obj.fldVal;var fldNo=obj.fldNo;var html="";if(fldTpCd=="10"){html+="<div class='inp-box'>";html+="    <label for='addField"+fldNo+"' class='lb-line'>"+fldNm+"</label>";html+="    <div>";html+="        <input type='text' name='addField"+fldNo+"' id='addField"+fldNo+"' class='inp-line "+fldNm+"' value='' data-fldtpcd='"+fldTpCd+"'>";html+="    </div>";html+="</div>"}return html}
$(document).on("click","#couponAddBtn",function(){fnSaveEventEntryAndCpAdd()});
function fnSaveEventEntryAndCpAdd(){$("#focusTarget").val("");if(fnImeiValidationCheck())if(fnValidationCheck()){if($("#inpEnterSns").val()){var snsUrl=$("#inpEnterSns").val();snsUrl=snsUrl.trim().replace(/^(http|https):\/\//,"");$("#inpEnterSns").val(snsUrl)}$("#addFieldArea").children(".inp-box").each(function(){var $addFieldId=$(this).find("[id^='addField']");var fldtpcd=$addFieldId.data("fldtpcd");if(fldtpcd===10||fldtpcd===20||fldtpcd===90){var fldVal=$addFieldId.val();fldVal=fldVal.trim().replace(/^(http|https):\/\//,
"");$addFieldId.val(fldVal)}});createJsonStr();var options={url:stPath+"xhr/event/insertEventEntry",data:$("#eventEntryPopFrm").serialize(),done:function(data){var result=data.result;if(result.resultCd=="success"){$("#commonAlert p").replaceWith("<pre style='word-break:keep-all;'></pre>");var $mktRcvSelPos=$("#privacyPolicy .inp-terms").not(".entryAgreeY").not(".plcyGbCd20");var curTime=toTimeString(new Date,"Y");var mbrNm=$("#inpEnterName").val();curTime=curTime.substring(0,4)+"년"+" "+curTime.substring(4,
6)+"월"+curTime.substring(6,8)+"일"+" "+curTime.substring(8,10)+":"+curTime.substring(10,12)+":"+curTime.substring(12,14)+"에<br><br>";var resultMsgText="";var resultStrText=mbrNm+" 고객님<br><br>"+curTime;var resultMidText="이벤트를 위한<br>";var resultEndText=result.resultMsg;var chkYCnt=0;var chkNCnt=0;if($mktRcvSelPos.length>1){var termsTitArr=new Array;var termsTitAgreeArr=new Array;$mktRcvSelPos.each(function(){var termsTitTxt="";var termsTitAgreeTxt="";if($(this).is(":checked")==false){termsTitTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)",
"");termsTitArr.push(termsTitTxt)}else{termsTitAgreeTxt=$(this).parents(".terms-wrap").children(".terms-tit").text().replace("(선택)","");termsTitAgreeArr.push(termsTitAgreeTxt)}});if(termsTitArr.length>0)for(var i=0;i<termsTitArr.length;i++){resultMidText+=$.trim(termsTitArr[i]);if(i==termsTitArr.length-1){resultMidText+="<br>'미동의'하셨습니다.<br>";resultMidText+="<br>동의 하지 않은 경우<br>이벤트 관련 정보, 혜택 안내를 받으실 수 없습니다.";resultMidText+="<br><br>"}else resultMidText+=",<br> "}else{resultMidText="";for(var i=0;i<
termsTitAgreeArr.length;i++){resultMidText+=$.trim(termsTitAgreeArr[i]);if(i==termsTitAgreeArr.length-1){resultMidText+="<br>'동의'하셨습니다.<br><br>";resultMidText+="앞으로 SMS 및 이메일을 통해<br>광고성 정보가 안내됩니다.";resultMidText+="<br><br>"}else resultMidText+=",<br> "}}}resultMsgText=resultStrText+resultMidText+resultEndText;makeAlert3(resultMsgText,eventPopClose3);adbrixCustomEvent(entryEvent.ttl,pblcEvtNo)}else makeAlert(result.resultMsg,eventPopClose)}};if(isPreView)return;oneTimeChk=false;ajax.call(options)}else{var id=
$("#focusTarget").val();var type=$("#focusTargetType").val();if(type=="")setTimeout(function(){$("#"+id).focus()},1);else $("input[name="+id+"]").focus();return}}function imeiPopClose(){closeLayer("commonConfirm");eventPopClose()}
function fnImeiValidationCheck(){var imei="";var modelName="";var firstCall="";var firstCallTmp="";var today=dateToStringFormat(new Date,"yyyyMMdd");var firstCallPlusDay="";var imeiYn="";var couponAddSDay="20230201";var couponAddEDay="20230331";if($(".plcyGbCd10").is(":checked")==false){makeAlert("IMEI, 개인정보 수집 및 이용에<br>동의 후 쿠폰 발급 받을 수 있습니다.");closeLayer("commonConfirm");$(".plcyGbCd10").focus();return false}if(window.secapp===undefined){makeAlert("IMEI 정보를 불러올 수 없습니다.<br>다시 확인 바랍니다.",imeiPopClose);
return false}else if(window.secapp.getImeiNum()===undefined){makeAlert("IMEI 정보를 불러올 수 없습니다.<br>다시 확인 바랍니다.",imeiPopClose);return false}else if(window.secapp.getModelNm()===undefined){makeAlert("모델 정보를 불러올 수 없습니다.<br>다시 확인 바랍니다.",imeiPopClose);return false}else if(window.secapp.getFrstCallDt()===undefined){makeAlert("최초통화일 정보를 불러올 수 없습니다.<br>다시 확인 바랍니다.",imeiPopClose);return false}else{imei=window.secapp.getImeiNum();modelName=window.secapp.getModelNm();firstCall=window.secapp.getFrstCallDt();$(".imei").val(imei);
$(".modelName").val(modelName);$(".firstCall").val(firstCall);$(".mbrCpNo").val("-")}if(modelName!="SM-S911N"&&modelName!="SM-S916N"&&modelName!="SM-S918N"){makeAlert("프로모션 대상 단말기가 아닙니다.",imeiPopClose);return false}var param1={imei:imei};var options1={url:stPath+"xhr/event/getImeiExcptInfo",data:param1,type:"POST",async:false,dataType:"json",done:function(data){imeiYn=data.imeiYn}};ajax.call(options1);if(imeiYn=="N"){makeAlert("프로모션 대상 IMEI가 아닙니다.",imeiPopClose);return false}var param2={eventNo:pblcEvtNo,
imei:imei};var options2={url:stPath+"xhr/event/getEntryImeiInfo",data:param2,type:"POST",async:false,dataType:"json",done:function(data){imeiYn=data.result.imeiYn}};ajax.call(options2);if(imeiYn=="N"){makeAlert("이미 발급 받은 쿠폰입니다.<br>쿠폰존을 확인 해주세요.",imeiPopClose);return false}firstCallTmp=firstCall.substring(0,4)+"-"+firstCall.substring(4,6)+"-"+firstCall.substring(6,8);firstCallPlusDay=new Date(firstCallTmp);firstCallPlusDay.setDate(firstCallPlusDay.getDate()+3);firstCallPlusDay=dateToStringFormat(firstCallPlusDay,
"yyyyMMdd");if(Number(firstCall)<Number(couponAddSDay)){makeAlert("프로모션 대상 단말기가 아닙니다.",imeiPopClose);return false}if(Number(firstCall)>Number(couponAddEDay)){makeAlert("해당 프로모션 쿠폰 발급기간이 종료되었습니다.",imeiPopClose);return false}if(Number(firstCallPlusDay)>Number(today)){makeAlert("최초 통화일로부터 3일 후에<br>쿠폰을 발급 받을 수 있습니다.<br><br>나의 최초 통화일 : "+firstCall.substring(0,4)+"."+firstCall.substring(4,6)+"."+firstCall.substring(6,8)+"<br>쿠폰 발급일 : "+firstCallPlusDay.substring(0,4)+"."+firstCallPlusDay.substring(4,6)+
"."+firstCallPlusDay.substring(6,8),imeiPopClose);return false}return true}
$(document).on("click","#bepokeImageFreeView",function(e){if($("#preview").length==0){var image_data=$(this).data("image");var add_caption=image_data!=undefined?"<br/>"+image_data:"";$("#popupExhibitionEnter").append("<div id='preview' style='z-index: 305; position:absolute; solid #ccc; display:none; color:#fff;'><div style='padding: 8px 0 6px;font-size: 14px;background-color: #000000;border-bottom: solid 1px #ebebeb;' align='left'>&nbsp &nbsp<span style='color: rgb(255, 255, 255); position: relative; display: inline-flex;'>제품번호 확인방법</span><div style='float:right; width:50%' align='right'><span id='preview-close-button' style='color: rgb(255, 255, 255);position: relative;'>X</span>&nbsp &nbsp</div></div><img src='//"+bespokePanelEvent.serialImgPath+
"' width='400px' style='border-right: 2px solid black;border-left: 2px solid black;border-bottom: 2px solid black;' />"+add_caption+"</div>");$("#preview").css("top",$("#bepokeImageFreeView").offset().top-$("#popupExhibitionEnter").offset().top+$("#bepokeImageFreeView").height()).css("left",$("#bepokeImageFreeView").offset().left-$("#popupExhibitionEnter").offset().left+$("#bepokeImageFreeView").width()).fadeIn("fast")}else $("#preview").remove()});$(document).on("click","#preview-close-button",function(){$("#preview").remove()});
$(document).on("click",".evt-pop-close",function(){$("#preview").remove()});
function fnAutoCtaClick(){var pathname=window.location.pathname;var param;param={pathName:pathname};if(stPath===undefined)stPath=$("#openPop").data("st-path");var options={url:stPath+"xhr/event/getEventAutoClickUrl",data:param,done:function(data){var autoYn=data.autoYn;var searchPath=window.location.search;if(autoYn=="Y")if(searchPath.indexOf("eventNo")>-1){var evtNo=window.location.search.split("?")[1].split("=")[1];fnCallPop2(evtNo)}}};ajax.call(options)}
function adbrixCustomEvent(ttl,evtNo){var customName="join_promotion";try{if(__ST_GB_CD.toUpperCase()=="B2C")if(window.secapp!==undefined&&userAgent.indexOf("SECAPP")>-1){var eventParam={eventName:customName,attrModel:{promotion_name:ttl,event_no:String(evtNo)}};window.secapp.customEvent(JSON.stringify(eventParam))}else if(!window.adbrix._abxCore.isInitialized)window.adbrix.init({appkey:"0nCtQ3s60km0zcXUGeZZBQ",webSecretkey:"IU54Ulr2xUawNnSUwBHrkw"}).then(setTimeout(function(){adbrix.event.send(customName,
{"promotion_name":ttl,"event_no":String(evtNo)})},1E3));else adbrix.onInitialized(function adbrixInitialized(){adbrix.event.send(customName,{"promotion_name":ttl,"event_no":String(evtNo)})})}catch(exception){return}};
